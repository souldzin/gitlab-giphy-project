(this.webpackJsonp=this.webpackJsonp||[]).push([[693,33,51,64,69,75,79,85,129,130,141,142,345,402,911,1218,1242,1243],{"+ZVz":function(e,t,i){"use strict";var n=i("6oy4"),s=i.n(n),a=i("YI2X"),r=i("6/mp"),o=i("H8gz"),l=i("ly/8"),c=i("t9l/"),d=i("U2+R"),u={name:"IssueToken",components:{GlIcon:o.a},directives:{GlTooltip:l.a},mixins:[d.a],props:{isCondensed:{type:Boolean,required:!1,default:!1}},computed:{removeButtonLabel(){const{displayReference:e}=this;return Object(c.h)(Object(c.a)("Remove %{displayReference}"),{displayReference:e},!1)},stateTitle(){return this.isCondensed?"":this.isOpen?Object(c.a)("Open"):Object(c.a)("Closed")},innerComponentType(){return this.isCondensed?"span":"div"},issueTitle(){return this.isCondensed?this.title:""}}},p=i("bPvS"),h=Object(p.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"issue-token gl-display-inline-flex gl-align-items-stretch gl-max-w-full gl-line-height-24 gl-white-space-nowrap":e.isCondensed,"flex-row issuable-info-container":!e.isCondensed}},[i(e.computedLinkElementType,{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"link",tag:"component",class:{"issue-token-link gl-display-inline-flex gl-min-w-0 gl-text-gray-500":e.isCondensed,"issuable-main-info":!e.isCondensed},attrs:{href:e.computedPath,title:e.issueTitle,"data-placement":"top"}},[e.hasTitle?i(e.innerComponentType,{ref:"title",tag:"component",staticClass:"js-issue-token-title",class:{"issue-token-title issue-token-end gl-overflow-hidden gl-display-flex gl-align-items-baseline gl-text-gray-500 gl-pl-3":e.isCondensed,"issue-title block-truncated":!e.isCondensed,"gl-rounded-top-right-small gl-rounded-bottom-right-small gl-pr-3":!e.canRemove}},[i("span",{staticClass:"gl-text-truncate"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),i(e.innerComponentType,{ref:"reference",tag:"component",class:{"issue-token-reference gl-display-flex gl-align-items-center gl-rounded-top-left-small gl-rounded-bottom-left-small gl-px-3":e.isCondensed,"issuable-info":!e.isCondensed}},[e.hasState?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:e.iconClass,attrs:{name:e.iconName,size:12,title:e.stateTitle,"aria-label":e.state,"data-testid":"referenceIcon"}}):e._e(),e._v("\n      "+e._s(e.displayReference)+"\n    ")],1)],1),e._v(" "),e.canRemove?i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"removeButton",class:{"issue-token-remove-button gl-display-flex gl-align-items-center gl-px-3 gl-border-0 gl-rounded-top-right-small gl-rounded-bottom-right-small gl-text-gray-500":e.isCondensed,"btn btn-default":!e.isCondensed},attrs:{title:e.removeButtonLabel,"aria-label":e.removeButtonLabel,disabled:e.removeDisabled,"data-testid":"removeBtn",type:"button"},on:{click:e.onRemoveRequest}},[i("gl-icon",{attrs:{name:"close"}})],1):e._e()],1)}),[],!1,null,null,null).exports;var f={name:"RelatedIssuableInput",components:{issueToken:h},props:{inputId:{type:String,required:!1,default:""},references:{type:Array,required:!1,default:function(){return[]}},pathIdSeparator:{type:String,required:!0},inputValue:{type:String,required:!1,default:""},focusOnMount:{type:Boolean,required:!1,default:!1},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},autoCompleteOptions:{type:Object,required:!1,default:function(){return{}}},issuableType:{type:String,required:!1,default:r.i.ISSUE},confidential:{type:Boolean,required:!1,default:!1}},data:()=>({isInputFocused:!1,isAutoCompleteOpen:!1,areEventsAssigned:!1}),computed:{inputPlaceholder(){const{issuableType:e,allowAutoComplete:t,confidential:i}=this,n=i?r.e:r.f,s=r.d[t][e];return`${n[e]}${s}`},allowAutoComplete(){return Object.keys(this.autoCompleteSources).length>0}},mounted(){var e=this;this.setupAutoComplete(),this.focusOnMount&&this.$nextTick().then((function(){e.$refs.input.focus()})).catch((function(){}))},beforeUpdate(){this.setupAutoComplete()},beforeDestroy(){const e=s()(this.$refs.input);e.off("shown-issues.atwho"),e.off("hidden-issues.atwho"),e.off("inserted-issues.atwho",this.onInput)},methods:{onAutoCompleteToggled(e){this.isAutoCompleteOpen=e},onInput(){const{value:e}=this.$refs.input,t=this.$refs.input.selectionStart,i=e.split(/\s/);let n,s=0;const a=i.filter((function(e){let i=!1;return t>=s&&t<=s+e.length&&(n=e,i=!0),s=s+e.length+1,!i})).filter((function(e){return e.trim().length>0}));this.$emit("addIssuableFormInput",{newValue:e,untouchedRawReferences:a,touchedReference:n,caretPos:t})},onBlur(e){const t=this.$root.$el.querySelector(".js-button-container");if(!(t&&t.contains(e.relatedTarget)||(this.isInputFocused=!1,this.isAutoCompleteOpen))){const{value:e}=this.$refs.input;e!==this.pathIdSeparator&&this.$emit("addIssuableFormBlur",e)}},onFocus(){this.isInputFocused=!0},setupAutoComplete(){const e=s()(this.$refs.input);this.allowAutoComplete&&(this.gfmAutoComplete=new a.a(this.autoCompleteSources),this.gfmAutoComplete.setup(e,this.autoCompleteOptions)),this.areEventsAssigned||(e.on("shown-issues.atwho",this.onAutoCompleteToggled.bind(this,!0)),e.on("hidden-issues.atwho",this.onAutoCompleteToggled.bind(this,!0))),this.areEventsAssigned=!0},onIssuableFormWrapperClick(){this.$refs.input.focus()}}},m=Object(p.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"issuableFormWrapper",staticClass:"add-issuable-form-input-wrapper form-control gl-field-error-outline gl-h-auto gl-p-3 gl-pb-2",class:{focus:e.isInputFocused},attrs:{role:"button"},on:{click:e.onIssuableFormWrapperClick}},[i("ul",{staticClass:"gl-display-flex gl-flex-wrap gl-align-items-baseline gl-list-style-none gl-m-0 gl-p-0"},[e._l(e.references,(function(t,n){return i("li",{key:t,staticClass:"gl-max-w-full gl-mb-2 gl-mr-2"},[i("issue-token",{attrs:{"id-key":n,"display-reference":t.text||t,"can-remove":"","is-condensed":"","path-id-separator":e.pathIdSeparator,"event-namespace":"pendingIssuable"},on:{pendingIssuableRemoveRequest:function(t){e.$emit("pendingIssuableRemoveRequest",t)}}})],1)})),e._v(" "),i("li",{staticClass:"gl-mb-2 gl-flex-grow-1"},[i("input",{ref:"input",staticClass:"gl-w-full gl-border-none gl-outline-0",attrs:{id:e.inputId,placeholder:e.inputPlaceholder,"aria-label":e.inputPlaceholder,type:"text","data-qa-selector":"add_issue_field",autocomplete:"off"},domProps:{value:e.inputValue},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.$emit("addIssuableFormCancel")}}})])],2)])}),[],!1,null,null,null);t.a=m.exports},"/MVl":function(e,t,i){"use strict";var n=i("RlQ7"),s=i.n(n),a=i("ly/8"),r=i("cuRJ"),o=i("t9l/"),l=i("qzRy"),c={name:"ClipboardButton",i18n:{copied:Object(o.a)("Copied"),error:l.c},CLIPBOARD_SUCCESS_EVENT:l.b,CLIPBOARD_ERROR_EVENT:l.a,directives:{GlTooltip:a.a},components:{GlButton:r.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},tooltipBoundary:{type:String,required:!1,default:null},cssClass:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"secondary"},size:{type:String,required:!1,default:"medium"},variant:{type:String,required:!1,default:"default"}},data(){return{localTitle:this.title,titleTimeout:null,id:null}},computed:{clipboardText(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text},tooltipDirectiveOptions(){return{placement:this.tooltipPlacement,container:this.tooltipContainer,boundary:this.tooltipBoundary}}},created(){this.id=s()("clipboard-button-")},methods:{updateTooltip(e){var t=this;this.localTitle=e,this.$root.$emit("bv::show::tooltip",this.id),clearTimeout(this.titleTimeout),this.titleTimeout=setTimeout((function(){t.localTitle=t.title,t.$root.$emit("bv::hide::tooltip",t.id)}),1e3)}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",e._g({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus.click.viewport",value:e.tooltipDirectiveOptions,expression:"tooltipDirectiveOptions",modifiers:{hover:!0,focus:!0,click:!0,viewport:!0}}],ref:"copyButton",class:e.cssClass,attrs:{id:e.id,title:e.localTitle,"data-clipboard-text":e.clipboardText,"data-clipboard-handle-tooltip":"false",category:e.category,size:e.size,icon:"copy-to-clipboard",variant:e.variant,"aria-label":e.localTitle,"aria-live":"polite"},on:e._d({},[e.$options.CLIPBOARD_SUCCESS_EVENT,function(t){return e.updateTooltip(e.$options.i18n.copied)},e.$options.CLIPBOARD_ERROR_EVENT,function(t){return e.updateTooltip(e.$options.i18n.error)}])},e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.a=u.exports},"/Zz6":function(e,t,i){var n=i("woyY"),s=i("5uIe"),a=i("ORdU"),r=a&&a.isMap,o=r?s(r):n;e.exports=o},"/lks":function(e,t,i){"use strict";var n=i("WCLl"),s=i.n(n),a=i("SNO9"),r=i.n(a),o=i("ly/8"),l=i("u1ru"),c=i("OkMp"),d=i("0X+3"),u=i("Ox/j"),p=i("OqKX"),h=i("6HTq"),f=i("H8gz"),m=i("zLBL"),g=i("teVv"),b=i("+lve"),v=i("mpzd"),y=i("U1Ws"),_=i("t9l/"),w=i("dYBJ"),S=i("a6L4"),k={noAttributeId:S.r,i18n:{expired:Object(_.a)("(expired)"),none:Object(_.a)("None")},directives:{GlTooltip:o.a},components:{SidebarEditableItem:w.a,GlLink:l.a,GlDropdown:c.a,GlDropdownItem:d.a,GlDropdownText:u.a,GlDropdownDivider:p.a,GlSearchBoxByType:h.a,GlIcon:f.a,GlLoadingIcon:m.a},inject:{isClassicSidebar:{default:!1},issuableAttributesQueries:{default:S.o},issuableAttributesState:{default:S.c},widgetTitleText:{default:{[S.d.Milestone]:Object(_.a)("Milestone"),expired:Object(_.a)("(expired)"),none:Object(_.a)("None")}}},props:{issuableAttribute:{type:String,required:!0},workspacePath:{required:!0,type:String},iid:{required:!0,type:String},attrWorkspacePath:{required:!0,type:String},issuableType:{type:String,required:!0,validator:e=>[v.c.Issue,v.c.MergeRequest].includes(e)},icon:{type:String,required:!1,default:void 0}},apollo:{currentAttribute:{query(){const{current:e}=this.issuableAttributeQuery,{query:t}=e[this.issuableType];return t},variables(){return{fullPath:this.workspacePath,iid:this.iid}},update(e){var t;return null==e?void 0:null===(t=e.workspace)||void 0===t?void 0:t.issuable.attribute},error(e){Object(g.f)({message:this.i18n.currentFetchError,captureError:!0,error:e})}},attributesList:{query(){const{list:e}=this.issuableAttributeQuery,{query:t}=e[this.issuableType];return t},skip(){return!!(this.isEpic&&this.searchTerm.startsWith("&")&&this.searchTerm.length<2)||!this.editing},debounce:250,variables(){if(!this.isEpic)return{fullPath:this.attrWorkspacePath,title:this.searchTerm,state:this.issuableAttributesState[this.issuableAttribute]};const e={fullPath:this.attrWorkspacePath,state:this.issuableAttributesState[this.issuableAttribute],sort:S.i};if(S.k.test(this.searchTerm)){const t=this.searchTerm.match(S.k);e.iidStartsWith=t.groups.iid}else""!==this.searchTerm&&(e.in="TITLE",e.title=this.searchTerm);return e},update(e){var t;return null!=e&&e.workspace?null==e?void 0:null===(t=e.workspace)||void 0===t?void 0:t.attributes.nodes:[]},error(e){Object(g.f)({message:this.i18n.listFetchError,captureError:!0,error:e})}}},data(){return{searchTerm:"",editing:!1,updating:!1,selectedTitle:null,currentAttribute:null,attributesList:[],tracking:{event:S.g.editEvent,label:S.g.rightSidebarLabel,property:this.issuableAttribute}}},computed:{issuableAttributeQuery(){return this.issuableAttributesQueries[this.issuableAttribute]},attributeTitle(){var e;return(null===(e=this.currentAttribute)||void 0===e?void 0:e.title)||this.i18n.noAttribute},attributeUrl(){var e;return null===(e=this.currentAttribute)||void 0===e?void 0:e.webUrl},dropdownText(){var e;return this.currentAttribute?null===(e=this.currentAttribute)||void 0===e?void 0:e.title:this.attributeTypeTitle},loading(){return this.$apollo.queries.currentAttribute.loading},emptyPropsList(){return 0===this.attributesList.length},attributeTypeTitle(){return this.widgetTitleText[this.issuableAttribute]},attributeTypeIcon(){return this.icon||this.issuableAttribute},tooltipText(){var e;return Object(y.ab)(null===(e=this.currentAttribute)||void 0===e?void 0:e.dueDate)},i18n(){return Object(S.j)(this.issuableAttribute,this.issuableType)},isEpic(){return this.issuableAttribute===v.c.Epic},formatIssuableAttribute(){return{kebab:r()(this.issuableAttribute),snake:s()(this.issuableAttribute)}}},methods:{updateAttribute(e){var t,i=this;if(null===this.currentAttribute&&null===e)return;if(e===(null===(t=this.currentAttribute)||void 0===t?void 0:t.id))return;this.updating=!0;const n=Boolean(e)&&this.attributesList.find((function(t){return t.id===e}));this.selectedTitle=n?n.title:this.widgetTitleText.none;const{current:s}=this.issuableAttributeQuery,{mutation:a}=s[this.issuableType];this.$apollo.mutate({mutation:a,variables:{fullPath:this.workspacePath,attributeId:this.issuableAttribute===S.d.Milestone&&this.issuableType===v.c.Issue?Object(b.e)(e):e,iid:this.iid}}).then((function(e){var t,n;let{data:s}=e;null!==(t=s.issuableSetAttribute)&&void 0!==t&&null!==(n=t.errors)&&void 0!==n&&n.length?Object(g.f)({message:s.issuableSetAttribute.errors[0],captureError:!0,error:s.issuableSetAttribute.errors[0]}):i.$emit("attribute-updated",s)})).catch((function(e){Object(g.f)({message:i.i18n.updateError,captureError:!0,error:e})})).finally((function(){i.updating=!1,i.searchTerm="",i.selectedTitle=null}))},isAttributeChecked(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return i===(null===(e=this.currentAttribute)||void 0===e?void 0:e.id)||!(null!==(t=this.currentAttribute)&&void 0!==t&&t.id)&&!i},isAttributeOverdue(e){return this.issuableAttribute===S.d.Milestone&&(null==e?void 0:e.expired)},showDropdown(){this.$refs.newDropdown.show()},handleOpen(){this.editing=!0,this.showDropdown()},handleClose(){this.editing=!1},setFocus(){this.$refs.search.focusInput()}}},O=i("bPvS"),T=Object(O.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",attrs:{title:e.attributeTypeTitle,"data-testid":e.formatIssuableAttribute.kebab+"-edit",tracking:e.tracking,loading:e.updating||e.loading},on:{open:e.handleOpen,close:e.handleClose},scopedSlots:e._u([{key:"collapsed",fn:function(){return[e._t("value-collapsed",[e.isClassicSidebar?i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.attributeTypeTitle}},[i("gl-icon",{attrs:{"aria-label":e.attributeTypeTitle,name:e.attributeTypeIcon}}),e._v(" "),i("span",{staticClass:"collapse-truncated-title"},[e._v("\n          "+e._s(e.attributeTitle)+"\n        ")])],1):e._e()],{currentAttribute:e.currentAttribute}),e._v(" "),i("div",{class:e.isClassicSidebar?"hide-collapsed":"gl-mt-3",attrs:{"data-testid":"select-"+e.formatIssuableAttribute.kebab}},[e.updating?i("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.selectedTitle))]):e.currentAttribute?e._t("value",[i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipText,expression:"tooltipText"}],staticClass:"gl-text-gray-900! gl-font-weight-bold",attrs:{href:e.attributeUrl,"data-qa-selector":e.formatIssuableAttribute.snake+"_link"}},[e._v("\n          "+e._s(e.attributeTitle)+"\n          "),e.isAttributeOverdue(e.currentAttribute)?i("span",[e._v(e._s(e.$options.i18n.expired))]):e._e()])],{attributeTitle:e.attributeTitle,attributeUrl:e.attributeUrl,currentAttribute:e.currentAttribute}):i("span",{staticClass:"gl-text-gray-500"},[e._v("\n        "+e._s(e.$options.i18n.none)+"\n      ")])],2)]},proxy:!0},{key:"default",fn:function(){return[i("gl-dropdown",{ref:"newDropdown",staticClass:"gl-w-full",attrs:{lazy:"","header-text":e.i18n.assignAttribute,text:e.dropdownText,loading:e.loading,"toggle-class":"gl-max-w-100",block:""},on:{shown:e.setFocus}},[i("gl-search-box-by-type",{ref:"search",model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),e._v(" "),i("gl-dropdown-item",{attrs:{"data-testid":"no-"+e.formatIssuableAttribute.kebab+"-item","is-check-item":!0,"is-checked":e.isAttributeChecked(e.$options.noAttributeId)},on:{click:function(t){return e.updateAttribute(e.$options.noAttributeId)}}},[e._v("\n        "+e._s(e.i18n.noAttribute)+"\n      ")]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),e.$apollo.queries.attributesList.loading?i("gl-loading-icon",{staticClass:"gl-py-4",attrs:{size:"sm","data-testid":"loading-icon-dropdown"}}):[e.emptyPropsList?i("gl-dropdown-text",[e._v("\n          "+e._s(e.i18n.noAttributesFound)+"\n        ")]):e._t("list",e._l(e.attributesList,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"is-check-item":!0,"is-checked":e.isAttributeChecked(t.id),"data-testid":e.formatIssuableAttribute.kebab+"-items"},on:{click:function(i){return e.updateAttribute(t.id)}}},[e._v("\n            "+e._s(t.title)+"\n            "),e.isAttributeOverdue(t)?i("span",[e._v(e._s(e.$options.i18n.expired))]):e._e()])})),{attributesList:e.attributesList,isAttributeChecked:e.isAttributeChecked,updateAttribute:e.updateAttribute})]],2)]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=T.exports},"08uz":function(e,t,i){var n=i("iAZU"),s=i("qHIR"),a=i("T5M9"),r=i("QN0Q"),o=a((function(e,t){return r(e)?n(e,s(t,1,r,!0)):[]}));e.exports=o},"0hEd":function(e,t,i){"use strict";var n=i("ZplN"),s=i("cuRJ"),a=i("OkMp"),r=i("0X+3"),o=i("ly/8"),l=i("qINL"),c=i("t9l/"),d=i("8KL1"),u=i("lT7T"),p=i("nPFI"),h=i("H8gz"),f={i18n:{exportText:Object(c.a)("The CSV export will be created in the background. Once finished, it will be sent to %{email} in an attachment.")},components:{GlButton:s.a,GlModal:u.a,GlSprintf:p.a,GlIcon:h.a},inject:{issuableType:{default:d.c.issues},email:{default:""}},props:{exportCsvPath:{type:String,required:!0},issuableCount:{type:Number,required:!0},modalId:{type:String,required:!0}},computed:{isIssue(){return this.issuableType===d.c.issues},exportText(){return this.isIssue?Object(c.a)("Export issues"):Object(c.a)("Export merge requests")},issuableCountText(){return this.isIssue?Object(c.f)("1 issue selected","%d issues selected",this.issuableCount):Object(c.f)("1 merge request selected","%d merge requests selected",this.issuableCount)}}},m=i("bPvS"),g=Object(m.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-modal",{attrs:{"modal-id":e.modalId,"body-class":"gl-p-0!",title:e.exportText,"data-qa-selector":"export_issuable_modal"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[i("gl-button",{attrs:{category:"primary",variant:"confirm",href:e.exportCsvPath,"data-method":"post","data-qa-selector":"export_"+e.issuableType+"_button","data-track-action":"click_button","data-track-label":"export_"+e.issuableType+"_csv"}},[e._v("\n      "+e._s(e.exportText)+"\n    ")])]},proxy:!0}])},[i("div",{staticClass:"gl-justify-content-start gl-align-items-center gl-p-4 gl-border-b-solid gl-border-1 gl-border-gray-50"},[i("gl-icon",{staticClass:"gl-color-green-400",attrs:{name:"check"}}),e._v(" "),i("strong",{staticClass:"gl-m-3"},[e._v(e._s(e.issuableCountText))])],1),e._v(" "),i("div",{staticClass:"modal-text gl-px-4 gl-py-5"},[i("gl-sprintf",{attrs:{message:e.$options.i18n.exportText},scopedSlots:e._u([{key:"email",fn:function(){return[i("strong",[e._v(e._s(e.email))])]},proxy:!0}])})],1)])}),[],!1,null,null,null).exports,b=i("tXCq"),v=i("AFSh"),y={i18n:{maximumFileSizeText:Object(c.a)("The maximum file size allowed is %{size}."),importIssuesText:Object(c.a)("Import issues"),uploadCsvFileText:Object(c.a)("Upload CSV file"),mainText:Object(c.a)("Your issues will be imported in the background. Once finished, you'll get a confirmation email."),helpText:Object(c.a)("It must have a header row and at least two columns: the first column is the issue title and the second column is the issue description. The separator is automatically detected.")},actionPrimary:{text:Object(c.a)("Import issues")},components:{GlModal:u.a,GlFormGroup:b.a},inject:{importCsvIssuesPath:{default:""},maxAttachmentSize:{default:0}},props:{modalId:{type:String,required:!0}},computed:{maxFileSizeText(){return Object(c.h)(this.$options.i18n.maximumFileSizeText,{size:this.maxAttachmentSize})}},methods:{submitForm(){this.$refs.form.submit()}},csrf:v.a},_=Object(m.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-modal",{attrs:{"modal-id":e.modalId,title:e.$options.i18n.importIssuesText,"action-primary":e.$options.actionPrimary},on:{primary:e.submitForm}},[i("form",{ref:"form",attrs:{action:e.importCsvIssuesPath,enctype:"multipart/form-data",method:"post"}},[i("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),i("p",[e._v(e._s(e.$options.i18n.mainText))]),e._v(" "),i("gl-form-group",{staticClass:"gl-text-truncate",attrs:{label:e.$options.i18n.uploadCsvFileText,"label-for":"file"}},[i("input",{attrs:{id:"file",type:"file",name:"file",accept:".csv,text/csv"}})]),e._v(" "),i("p",{staticClass:"text-secondary"},[e._v("\n      "+e._s(e.$options.i18n.helpText)+"\n      "+e._s(e.maxFileSizeText)+"\n    ")])],1)])}),[],!1,null,null,null).exports,w={i18n:{exportAsCsvButtonText:Object(c.a)("Export as CSV"),importCsvText:Object(c.a)("Import CSV"),importFromJiraText:Object(c.a)("Import from Jira"),importIssuesText:Object(c.a)("Import issues")},name:"CsvImportExportButtons",components:{GlButtonGroup:n.a,GlButton:s.a,GlDropdown:a.a,GlDropdownItem:r.a,CsvExportModal:g,CsvImportModal:_},directives:{GlTooltip:o.a,GlModal:l.a},inject:{issuableType:{default:d.c.issues},showExportButton:{default:!1},showImportButton:{default:!1},containerClass:{default:""},canEdit:{default:!1},projectImportJiraPath:{default:null},showLabel:{default:!1}},props:{exportCsvPath:{type:String,required:!1,default:""},issuableCount:{type:Number,required:!1,default:void 0}},computed:{exportModalId(){return`${this.issuableType}-export-modal`},importModalId(){return`${this.issuableType}-import-modal`},importButtonTooltipText(){return this.showLabel?null:this.$options.i18n.importIssuesText},importButtonIcon(){return this.showLabel?null:"import"}}},S=Object(m.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.containerClass},[i("gl-button-group",{staticClass:"gl-w-full"},[e.showExportButton?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.$options.i18n.exportAsCsvButtonText,expression:"$options.i18n.exportAsCsvButtonText"},{name:"gl-modal",rawName:"v-gl-modal",value:e.exportModalId,expression:"exportModalId"}],attrs:{icon:"export","aria-label":e.$options.i18n.exportAsCsvButtonText,"data-qa-selector":"export_as_csv_button"}}):e._e(),e._v(" "),e.showImportButton?i("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.importButtonTooltipText,expression:"importButtonTooltipText"}],attrs:{"data-qa-selector":"import_issues_dropdown",text:e.$options.i18n.importIssuesText,"text-sr-only":!e.showLabel,icon:e.importButtonIcon}},[i("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.importModalId,expression:"importModalId"}]},[e._v("\n        "+e._s(e.$options.i18n.importCsvText)+"\n      ")]),e._v(" "),e.canEdit?i("gl-dropdown-item",{attrs:{href:e.projectImportJiraPath,"data-qa-selector":"import_from_jira_link"}},[e._v("\n        "+e._s(e.$options.i18n.importFromJiraText)+"\n      ")]):e._e()],1):e._e()],1),e._v(" "),e.showExportButton?i("csv-export-modal",{attrs:{"modal-id":e.exportModalId,"export-csv-path":e.exportCsvPath,"issuable-count":e.issuableCount}}):e._e(),e._v(" "),e.showImportButton?i("csv-import-modal",{attrs:{"modal-id":e.importModalId}}):e._e()],1)}),[],!1,null,null,null);t.a=S.exports},"0pyg":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("A1CF"),s=i.n(n),a=i("lb6a"),r=i.n(a),o=i("6oy4"),l=i.n(o),c=i("htOw"),d=i("rl6E"),u=i("t9l/"),p=i("tEGv"),h=i("mphk"),f=i("U1Ws");class m{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!==e&&(this.currentProject="string"==typeof e?JSON.parse(e):e),m.init(t,i)}static init(e,t){let i=l()(e);e||(i=l()(".js-milestone-select")),i.each((function(e,i){let n,a,o,m,g;const b=l()(i),v=b.data("issueUpdate"),y=b.data("showNo"),_=b.data("showAny"),w=b.data("showMenuAbove"),S=b.data("showUpcoming"),k=b.data("showStarted"),O=b.data("useId"),T=b.data("defaultLabel"),j=b.data("defaultNo"),C=b.data("abilityName"),E=b.closest(".selectbox"),I=E.closest(".block"),x=I.find(".sidebar-collapsed-icon"),D=I.find(".value"),P=I.find(".block-loading").addClass("gl-display-none");return g=_?"":null,g=y&&j?Object(u.a)("No milestone"):g,m=b.data("selected")||g,v&&(a=r()('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),o=r()('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %> (Past due)</a>'),n=`<span class="no-value">${Object(u.a)("None")}</span>`),Object(d.a)(b,{showMenuAbove:w,data:function(e,t){let i=parseInt(b.get(0).dataset.projectId,10),n=c.b.projectMilestones.bind(c.b);const s={state:"active",include_parent_milestones:!0};return e&&(s.search=e.trim()),i||(i=b.get(0).dataset.groupId,delete s.include_parent_milestones,n=c.b.groupMilestones.bind(c.b)),n(i,s).then((function(e){let{data:t}=e;return t.map((function(e){return{...e,name:e.title}})).sort(p.a)})).then((function(i){const n=[];_&&n.push({id:null,name:null,title:Object(u.a)("Any milestone")}),y&&""===e.trim()&&n.push({id:-1,name:Object(u.a)("No milestone"),title:Object(u.a)("No milestone")}),S&&n.push({id:-2,name:"#upcoming",title:Object(u.a)("Upcoming")}),k&&n.push({id:-3,name:"#started",title:Object(u.a)("Started")}),n.length&&n.push({type:"divider"}),t(n.concat(i)),w&&b.data("deprecatedJQueryDropdown").positionMenuAbove(),l()(`[data-milestone-id="${m}"] > a`).addClass("is-active")}))},renderRow:function(e){const t=e.title||e.name;let i=s()(t);return e.expired&&(i=Object(u.h)(Object(u.a)("%{milestone} (expired)"),{milestone:i})),`\n          <li data-milestone-id="${s()(t)}">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ${i}\n            </a>\n          </li>\n        `},filterable:!0,filterRemote:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t){return e&&"id"in e&&l()(t).hasClass("is-active")?e.title:T},defaultLabel:T,fieldName:b.data("fieldName"),text:function(e){return s()(e.title)},id:function(e){if(void 0!==e)return O||b.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return E.hide(),D.css("display","")},opened:function(e){const i=l()(e.currentTarget);t.handleClick&&(m=b[0].dataset.selected||g),l()("a.is-active",i).removeClass("is-active"),l()(`[data-milestone-id="${m}"] > a`,i).addClass("is-active")},vue:!1,clicked:function(e){const{e:i}=e;let s=e.selectedObj;if(!s)return;if(t.handleClick)return i.preventDefault(),void t.handleClick(s);const r=l()("body").attr("data-page"),c="projects:issues:index"===r,d=r==r&&"projects:merge_requests:index"===r,p=s.name!==m;if(m=p?s.name:g,b.hasClass("js-filter-bulk-update")||b.hasClass("js-issuable-form-dropdown"))return void i.preventDefault();if(b.hasClass("js-filter-submit")&&(c||d))return Issuable.filterResults(b.closest("form"));if(b.hasClass("js-filter-submit"))return b.closest("form").submit();s=E.find('input[type="hidden"]').val();const y={};return y[C]={},y[C].milestone_id=null!=s?s:null,P.removeClass("gl-display-none"),b.trigger("loading.gl.dropdown"),h.a.put(v,y).then((function(e){let{data:t}=e;return b.trigger("loaded.gl.dropdown"),P.addClass("gl-display-none"),E.hide(),D.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(f.ab)(t.milestone.due_date),t.milestone.name=t.milestone.title,D.html(t.milestone.expired?o({...t.milestone,remaining:Object(u.h)(Object(u.a)("%{due_date} (Past due)"),{due_date:Object(f.f)(Object(f.T)(t.milestone.due_date))})}):a(t.milestone)),x.attr("data-original-title",`${t.milestone.name}<br />${t.milestone.remaining}`).find("span").text(t.milestone.title)):(D.html(n),x.attr("data-original-title",Object(u.a)("Milestone")).find("span").text(Object(u.a)("None")))})).catch((function(){P.addClass("gl-display-none")}))}})}))}}window.MilestoneSelect=m},"0wJS":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issueType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isDirty"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueState"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issueType"},value:{kind:"Variable",name:{kind:"Name",value:"issueType"}}},{kind:"Argument",name:{kind:"Name",value:"isDirty"},value:{kind:"Variable",name:{kind:"Name",value:"isDirty"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:138}};i.loc.source={body:"mutation updateIssueState($issueType: String, $isDirty: Boolean) {\n  updateIssueState(issueType: $issueType, isDirty: $isDirty) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssueState=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssueState")},"14kI":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateMergeRequestLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeRequestSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:188}};i.loc.source={body:"mutation updateMergeRequestLocked($input: MergeRequestSetLockedInput!) {\n  mergeRequestSetLocked(input: $input) {\n    mergeRequest {\n      id\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateMergeRequestLocked=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateMergeRequestLocked")},175:function(e,t,i){i("uGLJ"),i("sH5Z"),e.exports=i("8sgC")},"1AFl":function(e,t,i){"use strict";t.a=function(e,t){return e.map((function(e,t){return[t,e]})).sort(function(e,t){return this(e[1],t[1])||e[0]-t[0]}.bind(t)).map((function(e){return e[1]}))}},"1HOK":function(e,t,i){"use strict";i.d(t,"i",(function(){return n})),i.d(t,"h",(function(){return s})),i.d(t,"f",(function(){return a})),i.d(t,"p",(function(){return r})),i.d(t,"q",(function(){return o})),i.d(t,"r",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"l",(function(){return p})),i.d(t,"k",(function(){return h})),i.d(t,"o",(function(){return f})),i.d(t,"b",(function(){return m})),i.d(t,"E",(function(){return g})),i.d(t,"w",(function(){return b})),i.d(t,"y",(function(){return v})),i.d(t,"x",(function(){return y})),i.d(t,"z",(function(){return _})),i.d(t,"C",(function(){return w})),i.d(t,"D",(function(){return S})),i.d(t,"v",(function(){return k})),i.d(t,"A",(function(){return O})),i.d(t,"u",(function(){return T})),i.d(t,"B",(function(){return j})),i.d(t,"s",(function(){return C})),i.d(t,"t",(function(){return E})),i.d(t,"e",(function(){return I})),i.d(t,"g",(function(){return x})),i.d(t,"a",(function(){return D})),i.d(t,"m",(function(){return P})),i.d(t,"n",(function(){return N}));const n=750,s=50,a=72,r=340,o=260,l=60,c="editor",d="preview",u="createMergeRequestIn",p="readMergeRequest",h="pushCode",f="rejectUnsignedCommits",m={[h]:!0},g={mr:"mrdiff",edit:"editor",diff:"diff"},b={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed"},v=Object.freeze({not_diffable:"not_diffable",no_preview:"no_preview",added:"added",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed",text:"text",image:"image"}),y=Object.freeze({too_large:"too_large",stored_externally:"server_side_but_stored_externally"}),_={edit:{name:"ide-tree"},review:{name:"ide-review"},commit:{name:"repo-commit-section"}},w={pipelines:{name:"pipelines-list",keepAlive:!0},jobsDetail:{name:"jobs-detail",keepAlive:!1},mergeRequestInfo:{name:"merge-request-info",keepAlive:!0},clientSidePreview:{name:"clientside",keepAlive:!1},terminal:{name:"terminal",keepAlive:!0}},S={unstaged:"unstaged",staged:"staged"},k={addition:{icon:"file-addition",class:"file-addition ide-file-addition"},modified:{icon:"file-modified",class:"file-modified ide-file-modified"},deleted:{icon:"file-deletion",class:"file-deletion ide-file-deletion"}},O={rename:"rename",tree:"tree",blob:"blob"},T={move:"move",delete:"delete",create:"create",update:"update"},j="package.json",C="left",E="right",I=2e3,x=10,D="main",P="web_ide_clientside_preview",N="web_ide_clientside_preview_success"},"1IiZ":function(e,t,i){"use strict";t.a={inserted(e){"IntersectionObserver"in window&&(e.visibilityObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&e.target.offsetParent&&e.target.focus()}))})),e.visibilityObserver.observe(e,{root:document.documentElement}))},unbind(e){e.visibilityObserver&&e.visibilityObserver.disconnect()}}},"1RkG":function(e,t,i){var n=i("pK7r");e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},"1fbm":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:"mutation updateIssueLocked($input: IssueSetLockedInput!) {\n  issueSetLocked(input: $input) {\n    issue {\n      id\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssueLocked=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssueLocked")},"1jid":function(e,t,i){"use strict";var n=i("bPvS"),s=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"timeline-entry"},[t("div",{staticClass:"timeline-entry-inner"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=s.exports},"2SnD":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n=i("t9l/");const s={merged:"merged",closed:"closed",open:"open"},a={merged:Object(n.a)("Merged"),closed:Object(n.a)("Closed"),open:Object(n.a)("Open")}},"34cr":function(e,t,i){"use strict";var n=i("ly/8"),s=i("cuRJ"),a=i("6IRw"),r=i.n(a);const o={components:{GlButton:s.a},directives:{GlTooltip:n.a},props:{title:{type:String,required:!1,default:"Clear"},tooltipContainer:{required:!1,default:!1,validator:e=>!1===e||"string"==typeof e||e instanceof HTMLElement}}};const l=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-button",this._g({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:{container:this.tooltipContainer},expression:"{ container: tooltipContainer }",modifiers:{hover:!0}}],staticClass:"gl-clear-icon-button",attrs:{variant:"default",category:"tertiary",size:"small",name:"clear",icon:"clear",title:this.title,"aria-label":this.title}},this.$listeners))},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},"358B":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"boardEpicSetSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subscribedState"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssuableSubscription"},name:{kind:"Name",value:"epicSetSubscription"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"groupPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"subscribedState"},value:{kind:"Variable",name:{kind:"Name",value:"subscribedState"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:300}};i.loc.source={body:"mutation boardEpicSetSubscription($fullPath: ID!, $iid: ID!, $subscribedState: Boolean!) {\n  updateIssuableSubscription: epicSetSubscription(\n    input: { groupPath: $fullPath, iid: $iid, subscribedState: $subscribedState }\n  ) {\n    issuable: epic {\n      id\n      subscribed\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.boardEpicSetSubscription=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"boardEpicSetSubscription")},"3OW0":function(e,t,i){"use strict";t.a={methods:{renderColgroup:function(){var e=this.$createElement,t=this.computedFields,i=e();return this.hasNormalizedSlot("table-colgroup")&&(i=e("colgroup",{key:"colgroup"},[this.normalizeSlot("table-colgroup",{columns:t.length,fields:t})])),i}}}},"3d6z":function(e,t,i){"use strict";i.r(t);var n=i("cuRJ"),s=i("Q04j"),a=i("zLBL"),r=i("OkMp"),o=i("0X+3"),l=i("t9l/"),c=i("rFT/"),d=i.n(c),u=i("rj5h"),p=i.n(u),h=i("ZP6x"),f={components:{GlButton:n.a,GlAlert:s.a,GlLoadingIcon:a.a,GlDropdown:r.a,GlDropdownItem:o.a,ItemTitle:h.a},inject:["fullPath"],props:{isModal:{type:Boolean,required:!1,default:!1},initialTitle:{type:String,required:!1,default:""}},data(){return{title:this.initialTitle,error:null,workItemTypes:[],selectedWorkItemType:null}},apollo:{workItemTypes:{query:p.a,variables(){return{fullPath:this.fullPath}},update(e){var t,i;return null===(t=e.workspace)||void 0===t?void 0:null===(i=t.workItemTypes)||void 0===i?void 0:i.nodes},error(){this.error=Object(l.g)("WorkItem|Something went wrong when fetching work item types. Please try again")}}},computed:{dropdownButtonText(){var e;return(null===(e=this.selectedWorkItemType)||void 0===e?void 0:e.name)||Object(l.g)("WorkItem|Type")}},methods:{async createWorkItem(){try{const e=await this.$apollo.mutate({mutation:d.a,variables:{input:{title:this.title}}}),{data:{localCreateWorkItem:{workItem:{id:t}}}}=e;this.isModal?this.$emit("onCreate",this.title):this.$router.push({name:"workItem",params:{id:t}})}catch{this.error=Object(l.g)("WorkItem|Something went wrong when creating a work item. Please try again")}},handleTitleInput(e){this.title=e},handleCancelClick(){this.isModal?this.$emit("closeModal"):this.$router.go(-1)},selectWorkItemType(e){this.selectedWorkItemType=e}}},m=i("bPvS"),g=Object(m.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{on:{submit:function(t){return t.preventDefault(),e.createWorkItem(t)}}},[e.error?i("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.error=null}}},[e._v(e._s(e.error))]):e._e(),e._v(" "),i("div",{class:{"gl-px-5":e.isModal},attrs:{"data-testid":"content"}},[i("item-title",{attrs:{"initial-title":e.title,"data-testid":"title-input"},on:{"title-input":e.handleTitleInput}}),e._v(" "),i("div",[i("gl-dropdown",{attrs:{text:e.dropdownButtonText}},[e.$apollo.queries.workItemTypes.loading?i("gl-loading-icon",{attrs:{size:"md","data-testid":"loading-types"}}):e._l(e.workItemTypes,(function(t){return i("gl-dropdown-item",{key:t.id,on:{click:function(i){return e.selectWorkItemType(t)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])}))],2)],1)],1),e._v(" "),i("div",{staticClass:"gl-bg-gray-10 gl-py-5 gl-px-6 gl-mt-4",class:{"gl-display-flex gl-justify-content-end":e.isModal}},[i("gl-button",{class:{"gl-mr-3":!e.isModal},attrs:{variant:"confirm",disabled:0===e.title.length,"data-testid":"create-button",type:"submit"}},[e._v("\n      "+e._s(e.s__("WorkItem|Create work item"))+"\n    ")]),e._v(" "),i("gl-button",{staticClass:"gl-order-n1",class:{"gl-mr-3":e.isModal},attrs:{type:"button","data-testid":"cancel-button"},on:{click:e.handleCancelClick}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1)],1)}),[],!1,null,null,null);t.default=g.exports},"3r2P":function(e,t,i){"use strict";var n=i("cuRJ"),s=i("lT7T"),a=i("nPFI"),r=i("u1ru"),o=i("9uTP"),l=i("H8gz"),c=i("qINL"),d=i("ly/8"),u=i("mphk"),p=i("t9l/"),h=i("dTzf"),f={i18n:{sendEmail:Object(p.a)("Send email")},name:"IssuableByEmail",components:{GlButton:n.a,GlModal:s.a,GlSprintf:a.a,GlLink:r.a,GlFormInputGroup:o.a,GlIcon:l.a,ModalCopyButton:h.a},directives:{GlModal:c.a,GlTooltip:d.a},inject:{initialEmail:{default:null},issuableType:{default:"issue"},emailsHelpPagePath:{default:""},quickActionsHelpPath:{default:""},markdownHelpPath:{default:""},resetPath:{default:""}},data(){return{email:this.initialEmail,issuableName:"issue"===this.issuableType?Object(p.a)("issue"):Object(p.a)("merge request")}},computed:{mailToLink(){const e=Object(p.h)(Object(p.a)("Enter the %{name} title"),{name:this.issuableName}),t=Object(p.h)(Object(p.a)("Enter the %{name} description"),{name:this.issuableName});return`mailto:${this.email}?subject=${e}&body=${t}`}},methods:{async resetIncomingEmailToken(){try{const{data:{new_address:e}}=await u.a.put(this.resetPath);this.email=e}catch{this.$toast.show(Object(p.a)("There was an error when reseting email token."))}},cancelHandler(){this.$refs.modal.hide()}},modalId:"issuable-email-modal"},m=i("bPvS"),g=Object(m.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.modalId,expression:"$options.modalId"}],attrs:{variant:"link"}},[i("gl-sprintf",{attrs:{message:e.__("Email a new %{name} to this project")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})],1),e._v(" "),i("gl-modal",{ref:"modal",attrs:{"modal-id":e.$options.modalId},scopedSlots:e._u([{key:"modal-title",fn:function(){return[i("gl-sprintf",{attrs:{message:e.__("Create new %{name} by email")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})]},proxy:!0},{key:"modal-footer",fn:function(){return[i("gl-button",{attrs:{category:"secondary"},on:{click:e.cancelHandler}},[e._v(e._s(e.__("Cancel")))])]},proxy:!0}])},[e._v(" "),i("p",[i("gl-sprintf",{attrs:{message:e.__("You can create a new %{name} inside this project by sending an email to the following email address:")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})],1),e._v(" "),i("gl-form-input-group",{staticClass:"gl-mb-4",attrs:{value:e.email,readonly:"","select-on-click":""},scopedSlots:e._u([{key:"append",fn:function(){return[i("modal-copy-button",{attrs:{text:e.email,title:e.__("Copy"),"modal-id":e.$options.modalId}}),e._v(" "),i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:e.mailToLink,title:e.$options.i18n.sendEmail,"aria-label":e.$options.i18n.sendEmail,icon:"mail"}})]},proxy:!0}])}),e._v(" "),i("p",[i("gl-sprintf",{attrs:{message:e.__("The subject will be used as the title of the new issue, and the message will be the description. %{quickActionsLinkStart}Quick actions%{quickActionsLinkEnd} and styling with %{markdownLinkStart}Markdown%{markdownLinkEnd} are supported.")},scopedSlots:e._u([{key:"quickActionsLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.quickActionsHelpPath,target:"_blank"}},[e._v(e._s(n))])]}},{key:"markdownLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.markdownHelpPath,target:"_blank"}},[e._v(e._s(n))])]}}])})],1),e._v(" "),i("p",[i("gl-sprintf",{attrs:{message:e.__("This is a private email address %{helpIcon} generated just for you. Anyone who has it can create issues or merge requests as if they were you. If that happens, %{resetLinkStart}reset this token%{resetLinkEnd}.")},scopedSlots:e._u([{key:"helpIcon",fn:function(){return[i("gl-link",{attrs:{href:e.emailsHelpPagePath,target:"_blank"}},[i("gl-icon",{staticClass:"gl-text-blue-600",attrs:{name:"question-o"}})],1)]},proxy:!0},{key:"resetLink",fn:function(t){var n=t.content;return[i("gl-button",{attrs:{variant:"link","data-testid":"reset_email_token_link"},on:{click:e.resetIncomingEmailToken}},[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1)],1)],1)}),[],!1,null,null,null);t.a=g.exports},"3saJ":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("jyii"),a=i("ryFn"),r=i("/Zha"),o=i("gCUY"),l=i("ZVxY"),c=i("3XSL"),d=i("g34G"),u=i("1AFl"),p=i("9CRu"),h=i("ioEp"),f=i("qx9o"),m=i("BhOj"),g=i("G55H"),b=i("ST6S"),v=i("8Vyw"),y=i("9Q7u"),_=i("1pIC"),w=i("GpHn"),S=i("lHYX"),k=i("tPEI");function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var C=Object(y.j)(k.b,["tabs","isNavBar","cardHeader"]),E=function(e){return!e.disabled},I=n.a.extend({name:s.eb,inject:{bvTabs:{default:function(){return{}}}},props:Object(o.c)({tab:{default:null},tabs:{type:Array,default:function(){return[]}},id:{type:String,default:null},controls:{type:String,default:null},tabIndex:{type:Number,default:null},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},noKeyNav:{type:Boolean,default:!1}},s.db),methods:{focus:function(){Object(f.d)(this.$refs.link)},handleEvt:function(e){if(!this.tab.disabled){var t=e.type,i=e.keyCode,n=e.shiftKey;"click"===t?(Object(m.d)(e),this.$emit("click",e)):"keydown"===t&&i===a.h?(Object(m.d)(e),this.$emit("click",e)):"keydown"!==t||this.noKeyNav||(-1!==[a.i,a.f,a.e].indexOf(i)?(Object(m.d)(e),n||i===a.e?this.$emit("first",e):this.$emit("prev",e)):-1!==[a.a,a.g,a.b].indexOf(i)&&(Object(m.d)(e),n||i===a.b?this.$emit("last",e):this.$emit("next",e)))}}},render:function(e){var t=this.id,i=this.tabIndex,n=this.setSize,s=this.posInSet,a=this.controls,o=this.handleEvt,l=this.tab,c=l.title,d=l.localActive,u=l.disabled,p=l.titleItemClass,h=l.titleLinkClass,f=l.titleLinkAttributes,m=e(S.a,{ref:"link",staticClass:"nav-link",class:[{active:d&&!u,disabled:u},h,d?this.bvTabs.activeNavItemClass:null],props:{disabled:u},attrs:T(T({},f),{},{role:"tab",id:t,tabindex:i,"aria-selected":d&&!u?"true":"false","aria-setsize":n,"aria-posinset":s,"aria-controls":a}),on:{click:o,keydown:o}},[this.tab.normalizeSlot(r.i)||c]);return e("li",{staticClass:"nav-item",class:[p],attrs:{role:"presentation"}},[m])}}),x=n.a.extend({name:s.db,mixins:[_.a,w.a],provide:function(){return{bvTabs:this}},model:{prop:"value",event:"input"},props:T(T({},C),{},{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object]},navClass:{type:[String,Array,Object]},navWrapperClass:{type:[String,Array,Object]},activeNavItemClass:{type:[String,Array,Object]},activeTabClass:{type:[String,Array,Object]},value:{type:Number,default:null}}),data:function(){return{currentTab:Object(v.c)(this.value,-1),tabs:[],registeredTabs:[],isMounted:!1}},computed:{fade:function(){return!this.noFade},localNavClass:function(){var e=[];return this.card&&this.vertical&&e.push("card-header","h-100","border-bottom-0","rounded-0"),[].concat(e,[this.navClass])}},watch:{currentTab:function(e){var t=-1;this.tabs.forEach((function(i,n){e!==n||i.disabled?i.localActive=!1:(i.localActive=!0,t=n)})),this.$emit("input",t)},value:function(e,t){if(e!==t){e=Object(v.c)(e,-1),t=Object(v.c)(t,0);var i=this.tabs;i[e]&&!i[e].disabled?this.activateTab(i[e]):e<t?this.previousTab():this.nextTab()}},registeredTabs:function(){var e=this;this.$nextTick((function(){Object(f.B)((function(){e.updateTabs()}))}))},tabs:function(e,t){var i=this;Object(c.a)(e.map((function(e){return e._uid})),t.map((function(e){return e._uid})))||this.$nextTick((function(){i.$emit("changed",e.slice(),t.slice())}))},isMounted:function(e){var t=this;e&&Object(f.B)((function(){t.updateTabs()})),this.setObserver(e)}},created:function(){var e=this;this.$_observer=null,this.currentTab=Object(v.c)(this.value,-1),this.$nextTick((function(){e.updateTabs()}))},mounted:function(){var e=this;this.updateTabs(),this.$nextTick((function(){e.isMounted=!0}))},deactivated:function(){this.isMounted=!1},activated:function(){var e=this;this.currentTab=Object(v.c)(this.value,-1),this.$nextTick((function(){e.updateTabs(),e.isMounted=!0}))},beforeDestroy:function(){this.isMounted=!1},destroyed:function(){this.tabs=[]},methods:{registerTab:function(e){var t=this;Object(p.a)(this.registeredTabs,e)||(this.registeredTabs.push(e),e.$once("hook:destroyed",(function(){t.unregisterTab(e)})))},unregisterTab:function(e){this.registeredTabs=this.registeredTabs.slice().filter((function(t){return t!==e}))},setObserver:function(e){if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e){var t=this;this.$_observer=Object(d.a)(this.$refs.tabsContainer,(function(){t.$nextTick((function(){Object(f.B)((function(){t.updateTabs()}))}))}),{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs:function(){var e=this.registeredTabs.filter((function(e){return 0===e.$children.filter((function(e){return e._isTab})).length})),t=[];if(this.isMounted&&e.length>0){var i=e.map((function(e){return"#".concat(e.safeId())})).join(", ");t=Object(f.D)(i,this.$el).map((function(e){return e.id})).filter(l.a)}return Object(u.a)(e,(function(e,i){return t.indexOf(e.safeId())-t.indexOf(i.safeId())}))},updateTabs:function(){var e=this.getTabs(),t=e.indexOf(e.slice().reverse().find((function(e){return e.localActive&&!e.disabled})));if(t<0){var i=this.currentTab;i>=e.length?t=e.indexOf(e.slice().reverse().find(E)):e[i]&&!e[i].disabled&&(t=i)}t<0&&(t=e.indexOf(e.find(E))),e.forEach((function(e){e.localActive=!1})),e[t]&&(e[t].localActive=!0),this.tabs=e,this.currentTab=t},getButtonForTab:function(e){return(this.$refs.buttons||[]).find((function(t){return t.tab===e}))},updateButton:function(e){var t=this.getButtonForTab(e);t&&t.$forceUpdate&&t.$forceUpdate()},activateTab:function(e){var t=!1;if(e){var i=this.tabs.indexOf(e);if(!e.disabled&&i>-1&&i!==this.currentTab){var n=new h.a("activate-tab",{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(n.type,i,this.currentTab,n),n.defaultPrevented||(t=!0,this.currentTab=i)}}return t||this.currentTab===this.value||this.$emit("input",this.currentTab),t},deactivateTab:function(e){return!!e&&this.activateTab(this.tabs.filter((function(t){return t!==e})).find(E))},focusButton:function(e){var t=this;this.$nextTick((function(){Object(f.d)(t.getButtonForTab(e))}))},emitTabClick:function(e,t){Object(g.d)(t)&&e&&e.$emit&&!e.disabled&&e.$emit("click",t)},clickTab:function(e,t){this.activateTab(e),this.emitTabClick(e,t)},firstTab:function(e){var t=this.tabs.find(E);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))},previousTab:function(e){var t=Object(b.d)(this.currentTab,0),i=this.tabs.slice(0,t).reverse().find(E);this.activateTab(i)&&e&&(this.focusButton(i),this.emitTabClick(i,e))},nextTab:function(e){var t=Object(b.d)(this.currentTab,-1),i=this.tabs.slice(t+1).find(E);this.activateTab(i)&&e&&(this.focusButton(i),this.emitTabClick(i,e))},lastTab:function(e){var t=this.tabs.slice().reverse().find(E);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))}},render:function(e){var t=this,i=this.tabs,n=this.noKeyNav,s=this.firstTab,a=this.previousTab,r=this.nextTab,o=this.lastTab,l=i.find((function(e){return e.localActive&&!e.disabled})),c=i.find((function(e){return!e.disabled})),d=i.map((function(d,u){var p=null;return n||(p=-1,(l===d||!l&&c===d)&&(p=null)),e(I,{key:d._uid||u,ref:"buttons",refInFor:!0,props:{tab:d,tabs:i,id:d.controlledBy||(d.safeId?d.safeId("_BV_tab_button_"):null),controls:d.safeId?d.safeId():null,tabIndex:p,setSize:i.length,posInSet:u+1,noKeyNav:n},on:{click:function(e){t.clickTab(d,e)},first:s,prev:a,next:r,last:o}})})),u=e(k.a,{ref:"nav",class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:this.fill,justified:this.justified,align:this.align,tabs:!this.noNavStyle&&!this.pills,pills:!this.noNavStyle&&this.pills,vertical:this.vertical,small:this.small,cardHeader:this.card&&!this.vertical}},[this.normalizeSlot("tabs-start")||e(),d,this.normalizeSlot("tabs-end")||e()]);u=e("div",{key:"bv-tabs-nav",class:[{"card-header":this.card&&!this.vertical&&!this.end,"card-footer":this.card&&!this.vertical&&this.end,"col-auto":this.vertical},this.navWrapperClass]},[u]);var h=e();i&&0!==i.length||(h=e("div",{key:"bv-empty-tab",class:["tab-pane","active",{"card-body":this.card}]},this.normalizeSlot("empty")));var f=e("div",{ref:"tabsContainer",key:"bv-tabs-container",staticClass:"tab-content",class:[{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},Object(p.b)(this.normalizeSlot(),h));return e(this.tag,{staticClass:"tabs",class:{row:this.vertical,"no-gutters":this.vertical&&this.card},attrs:{id:this.safeId()}},[this.end?f:e(),[u],this.end?e():f])}}),D=i("Fcvx"),P=i("cuRJ"),N=i("6IRw"),A=i.n(N);const R=e=>Object.keys(e).every(e=>"text"===e||"attributes"===e);const L={components:{BTabs:x,GlButton:P.a},inheritAttrs:!1,props:{actionPrimary:{type:Object,required:!1,default:null,validator:e=>R(e)},actionSecondary:{type:Object,required:!1,default:null,validator:e=>R(e)},actionTertiary:{type:Object,required:!1,default:null,validator:e=>R(e)},contentClass:{type:[String,Array,Object],required:!1,default:null},navClass:{type:[String,Array,Object],required:!1,default:null},justified:{type:Boolean,required:!1,default:!1},syncActiveTabWithQueryParams:{type:Boolean,required:!1,default:!1},queryParamName:{type:String,required:!1,default:"tab"},value:{type:Number,required:!1,default:0}},data:()=>({activeTabIndex:0}),computed:{hasActions(){return[this.actionPrimary,this.actionSecondary,this.actionTertiary].some(Boolean)},listeners(){return{...this.$listeners,input:this.handleInput}}},watch:{value:{handler(e){this.activeTabIndex!==e&&(this.activeTabIndex=e)},immediate:!0}},mounted(){this.syncActiveTabWithQueryParams&&(this.syncActiveTabFromQueryParams(),window.addEventListener("popstate",this.syncActiveTabFromQueryParams)),this.$emit("input",this.activeTabIndex)},destroyed(){window.removeEventListener("popstate",this.syncActiveTabFromQueryParams)},methods:{buttonBinding:(e,t)=>e.attributes?e.attributes:D.B[t],primary(){this.$emit("primary")},secondary(){this.$emit("secondary")},tertiary(){this.$emit("tertiary")},syncActiveTabFromQueryParams(){const e=this.getQueryParamValue(),t=this.getTabs().findIndex((t,i)=>this.getTabQueryParamValue(i)===e);this.activeTabIndex=-1!==t?t:0},getTabs(){return this.$refs.bTabs.getTabs()},getQueryParamValue(){return new URLSearchParams(window.location.search).get(this.queryParamName)},setQueryParamValueIfNecessary(e){const t=this.getQueryParamValue(),i=this.getTabQueryParamValue(e);if(0===e&&!t||0!==e&&t===i)return;const n=new URLSearchParams(window.location.search);0===e?n.delete(this.queryParamName):n.set(this.queryParamName,i),window.history.pushState({},"",`${window.location.pathname}?${n.toString()}`)},getTabQueryParamValue(e){const t=this.getTabs()[e];return(null==t?void 0:t.$attrs["query-param-value"])||e.toString()},handleInput(e){this.$emit("input",e),this.activeTabIndex=e,this.syncActiveTabWithQueryParams&&this.setQueryParamValueIfNecessary(e)}}};const $=A()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-tabs",e._g(e._b({ref:"bTabs",staticClass:"gl-tabs",attrs:{"no-nav-style":!0,"no-fade":!0,"active-nav-item-class":"gl-tab-nav-item-active","content-class":[e.contentClass,"gl-tab-content"],"nav-class":[e.navClass,"gl-tabs-nav"],justified:e.justified,value:e.activeTabIndex},scopedSlots:e._u([e._l(Object.keys(e.$slots),(function(t){return{key:t,fn:function(){return[e._t(t)]},proxy:!0}})),e.hasActions?{key:"tabs-start",fn:function(){return[i("div",{staticClass:"gl-actions-tabs-start",attrs:{"data-testid":"actions-tabs-start"}},[e.actionPrimary?i("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?i("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?i("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null,e.hasActions?{key:"tabs-end",fn:function(){return[i("div",{staticClass:"gl-actions-tabs-end",attrs:{"data-testid":"actions-tabs-end"}},[e.actionPrimary?i("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?i("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?i("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null],null,!0)},"b-tabs",e.$attrs,!1),e.listeners))},staticRenderFns:[]},void 0,L,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=$},"4UPE":function(e,t,i){"use strict";var n=i("u1ru"),s=i("ly/8"),a=i("9l04"),r={name:"UserAvatarLink",components:{GlLink:n.a,userAvatarImage:a.a},directives:{GlTooltip:s.a},props:{lazy:{type:Boolean,required:!1,default:!1},linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername(){return this.username.length>0},avatarTooltipText(){return this.shouldShowUsername?"":this.tooltipText}}},o=i("bPvS"),l=Object(o.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[i("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement,lazy:e.lazy}},[e._t("default")],2),e.shouldShowUsername?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e(),e._t("avatar-badge")],2)}),[],!1,null,null,null);t.a=l.exports},"4stm":function(e,t,i){"use strict";i.r(t),i.d(t,"mountSidebarLabels",(function(){return Ve})),i.d(t,"mountSidebar",(function(){return ze})),i.d(t,"getSidebarOptions",(function(){return Me}));var n=i("6oy4"),s=i.n(n),a=i("q+nE"),r=i("EfTh"),o=i("LkRf"),l=i("+lve"),c=i("7dl8"),d=i("U9ni"),u=i("mpzd"),p=i("oj/M"),h=i("t9l/"),f=i("ly/8"),m=i("H8gz"),g=i("Daar"),b=i("ZIpG"),v=i("Ad8m"),y={components:{AssigneeAvatar:b.a,UserNameWithStatus:v.a},props:{user:{type:Object,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{availability(){var e;return(null===(e=this.user)||void 0===e?void 0:e.availability)||""}}},_=i("bPvS"),w=Object(_.a)(y,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn-link",attrs:{type:"button"}},[t("assignee-avatar",{attrs:{user:this.user,"img-size":24,"issuable-type":this.issuableType}}),this._v(" "),t("user-name-with-status",{attrs:{name:this.user.name,availability:this.availability,"container-classes":"author"}})],1)}),[],!1,null,null,null).exports;var S={directives:{GlTooltip:f.a},components:{CollapsedAssignee:w,GlIcon:m.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{isMergeRequest(){return"merge_request"===this.issuableType},hasNoUsers(){return!this.users.length},hasMoreThanOneAssignee(){return this.users.length>1},hasMoreThanTwoAssignees(){return this.users.length>2},allAssigneesCanMerge(){return this.users.every((function(e){return e.can_merge}))},sidebarAvatarCounter(){return this.users.length>99?"99+":`+${this.users.length-1}`},collapsedUsers(){const e=this.hasMoreThanTwoAssignees?1:this.users.length;return this.users.slice(0,e)},tooltipTitleMergeStatus(){if(!this.isMergeRequest)return"";const e=this.users.filter((function(e){return e.can_merge})).length;return e===this.users.length?"":e>0?Object(h.h)(Object(h.a)("%{mergeLength}/%{usersLength} can merge"),{mergeLength:e,usersLength:this.users.length}):1===this.users.length?Object(h.a)("cannot merge"):Object(h.a)("no one can merge")},tooltipTitle(){const e=Math.min(5,this.users.length);return function(e){let{renderUsers:t,allUsers:i,tooltipTitleMergeStatus:n}=e;const s=t.map((function(e){let{name:t,availability:i}=e;return i&&Object(g.a)(i)?Object(h.h)(Object(h.a)("%{name} (Busy)"),{name:t}):t}));if(!i.length)return Object(h.a)("Assignee(s)");i.length>s.length&&s.push(Object(h.h)(Object(h.a)("+ %{amount} more"),{amount:i.length-s.length}));const a=s.join(", ");return n?`${a} (${n})`:a}({renderUsers:this.users.slice(0,e),allUsers:this.users,tooltipTitleMergeStatus:this.tooltipTitleMergeStatus})},tooltipOptions:()=>({container:"body",placement:"left",boundary:"viewport"})}},k=Object(_.a)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOptions,expression:"tooltipOptions"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users gl-relative":e.hasMoreThanOneAssignee},attrs:{title:e.tooltipTitle}},[e.hasNoUsers?i("gl-icon",{attrs:{name:"user","aria-label":e.__("None")}}):e._e(),e._v(" "),e._l(e.collapsedUsers,(function(t){return i("collapsed-assignee",{key:t.id,attrs:{user:t,"issuable-type":e.issuableType}})})),e._v(" "),e.hasMoreThanTwoAssignees?i("button",{staticClass:"btn-link",attrs:{type:"button"}},[i("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")]),e._v(" "),e.isMergeRequest&&!e.allAssigneesCanMerge?i("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):e._e()],1):e._e()],2)}),[],!1,null,null,null).exports,O=i("L2Ca"),T=i("YOcS"),j=i("X2+/"),C=i("kbMu"),E=i("ScDC"),I=i("/lks"),x=i("ICNN"),D=i("me7P"),P=i("mWeI");function N(e){const{trackAction:t,trackLabel:i}=e.querySelector(".js-invite-members-track").dataset;s()(e).on("shown.bs.dropdown",(function(){P.a.event(void 0,t,{label:i})}))}var A=i("lG9n"),R=i("+h6Y"),L=i("OwKD"),$=i("cBN0"),q=i("SJBi"),F=i("Ehiv"),B=i("teVv"),M=i("AUIv"),U=i("Zxcm"),V=i("sxw2"),H=i("QWlh"),z={name:"Assignees",components:{CollapsedAssigneeList:k,UncollapsedAssigneeList:H.a},props:{users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{hasNoUsers(){return!this.users.length},sortedAssigness(){return[...this.users.filter((function(e){return e.can_merge})),...this.users.filter((function(e){return!e.can_merge}))]}},methods:{assignSelf(){this.$emit("assign-self")},toggleAttentionRequested(e){this.$emit("toggle-attention-requested",e)}}},G=Object(_.a)(z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("collapsed-assignee-list",{attrs:{users:e.sortedAssigness,"issuable-type":e.issuableType}}),e._v(" "),i("div",{staticClass:"value hide-collapsed",attrs:{"data-testid":"expanded-assignee"}},[e.hasNoUsers?i("span",{staticClass:"no-value",attrs:{"data-testid":"no-value"}},[e._v("\n      "+e._s(e.__("None"))+"\n      "),e.editable?[e._v("\n        -\n        "),i("button",{staticClass:"btn-link",attrs:{type:"button","data-testid":"assign-yourself"},on:{click:e.assignSelf}},[e._v("\n          "+e._s(e.__("assign yourself"))+"\n        ")])]:e._e()],2):i("uncollapsed-assignee-list",{attrs:{users:e.sortedAssigness,"issuable-type":e.issuableType},on:{"toggle-attention-requested":e.toggleAttentionRequested}})],1)],1)}),[],!1,null,null,null).exports,W=i("P9vb"),Y={name:"SidebarAssignees",components:{AssigneeTitle:V.a,Assignees:G,AssigneesRealtime:W.a},mixins:[Object(U.a)()],props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},signedIn:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:"issue"},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0},issuableId:{type:Number,required:!0},assigneeAvailabilityStatus:{type:Object,required:!1,default:function(){return{}}}},data:()=>({store:new M.a,loading:!1}),computed:{shouldEnableRealtime(){return this.glFeatures.realTimeIssueSidebar&&"issue"===this.issuableType},queryVariables(){return{iid:this.issuableIid,fullPath:this.projectPath}},relativeUrlRoot(){var e;return null!==(e=gon.relative_url_root)&&void 0!==e?e:""}},created(){this.removeAssignee=this.store.removeAssignee.bind(this.store),this.addAssignee=this.store.addAssignee.bind(this.store),this.removeAllAssignees=this.store.removeAllAssignees.bind(this.store),$.a.$on("sidebar.removeAssignee",this.removeAssignee),$.a.$on("sidebar.addAssignee",this.addAssignee),$.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),$.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy(){$.a.$off("sidebar.removeAssignee",this.removeAssignee),$.a.$off("sidebar.addAssignee",this.addAssignee),$.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),$.a.$off("sidebar.saveAssignees",this.saveAssignees)},methods:{assignSelf(){this.$el.parentElement.dispatchEvent(new Event("assignYourself")),this.mediator.assignYourself(),this.saveAssignees()},saveAssignees(){var e=this;this.loading=!0,this.mediator.saveAssignees(this.field).then((function(){e.loading=!1,e.store.resetChanging(),Object(F.b)()})).catch((function(){return e.loading=!1,Object(B.f)({message:Object(h.a)("Error occurred when saving assignees")})}))},exposeAvailabilityStatus(e){var t=this;return e.map((function(e){let{username:i,...n}=e;return{...n,username:i,availability:t.assigneeAvailabilityStatus[i]||""}}))},toggleAttentionRequested(e){this.mediator.toggleAttentionRequested("assignee",e)}}},K=Object(_.a)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.shouldEnableRealtime?i("assignees-realtime",{attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"query-variables":e.queryVariables,mediator:e.mediator}}):e._e(),e._v(" "),i("assignee-title",{attrs:{"number-of-assignees":e.store.assignees.length,loading:e.loading||e.store.isFetching.assignees,editable:e.store.editable,"show-toggle":!e.signedIn,changing:e.store.changing}}),e._v(" "),e.store.isFetching.assignees?e._e():i("assignees",{attrs:{"root-path":e.relativeUrlRoot,users:e.exposeAvailabilityStatus(e.store.assignees),editable:e.store.editable,"issuable-type":e.issuableType},on:{"assign-self":e.assignSelf,"toggle-attention-requested":e.toggleAttentionRequested}})],1)}),[],!1,null,null,null).exports,Q={components:{CopyableField:i("OFrq").a},props:{issueEmailAddress:{type:String,required:!0}}},Z=Object(_.a)(Q,(function(){var e=this.$createElement;return(this._self._c||e)("copyable-field",{attrs:{"data-qa-selector":"copy-forward-email",name:this.s__("RightSidebar|Issue email"),"clipboard-tooltip-text":this.s__("RightSidebar|Copy email address"),value:this.issueEmailAddress}})}),[],!1,null,null,null).exports,J=i("CkNe"),X=i("nPFI"),ee=i("cuRJ"),te={components:{GlButton:ee.a},inject:["fullPath"],props:{isLocked:{required:!0,type:Boolean},issuableDisplayName:{required:!0,type:String}},data:()=>({isLoading:!1}),computed:{buttonText(){return this.isLoading?Object(h.a)("Applying"):this.isLocked?Object(h.a)("Unlock"):Object(h.a)("Lock")}},methods:{...Object(J.c)(["updateLockedAttribute"]),closeForm(){$.a.$emit("closeLockForm"),s()(this.$el).trigger("hidden.gl.dropdown")},submitForm(){var e=this;this.isLoading=!0,this.updateLockedAttribute({locked:!this.isLocked,fullPath:this.fullPath}).catch((function(){const t=Object(h.a)("Something went wrong trying to change the locked state of this %{issuableDisplayName}");Object(B.f)({message:Object(h.h)(t,{issuableDisplayName:e.issuableDisplayName})})})).finally((function(){e.closeForm(),e.isLoading=!1}))}}},ie={components:{editFormButtons:Object(_.a)(te,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("gl-button",{staticClass:"gl-mr-3",on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),i("gl-button",{attrs:{"data-testid":"lock-toggle",category:"secondary",variant:"warning",disabled:e.isLoading,loading:e.isLoading},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])],1)}),[],!1,null,null,null).exports,GlSprintf:X.a},props:{isLocked:{required:!0,type:Boolean},issuableDisplayName:{required:!0,type:String}}},ne=Object(_.a)(ie,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message",attrs:{"data-testid":"warning-text"}},[e.isLocked?i("p",{staticClass:"text"},[i("gl-sprintf",{attrs:{message:e.__("Unlock this %{issuableDisplayName}? %{strongStart}Everyone%{strongEnd} will be able to comment.")},scopedSlots:e._u([{key:"issuableDisplayName",fn:function(){return[e._v(e._s(e.issuableDisplayName))]},proxy:!0},{key:"strong",fn:function(t){var n=t.content;return[i("strong",[e._v(e._s(n))])]}}],null,!1,2657919220)})],1):i("p",{staticClass:"text"},[i("gl-sprintf",{attrs:{message:e.__("Lock this %{issuableDisplayName}? Only %{strongStart}project members%{strongEnd} will be able to comment.")},scopedSlots:e._u([{key:"issuableDisplayName",fn:function(){return[e._v(e._s(e.issuableDisplayName))]},proxy:!0},{key:"strong",fn:function(t){var n=t.content;return[i("strong",[e._v(e._s(n))])]}}])})],1),e._v(" "),i("edit-form-buttons",{attrs:{"is-locked":e.isLocked,"issuable-display-name":e.issuableDisplayName}})],1)])}),[],!1,null,null,null).exports,se={issue:"issue",locked:{icon:"lock",class:"value",iconClass:"is-active",displayText:Object(h.a)("Locked")},unlocked:{class:["no-value hide-collapsed"],icon:"lock-open",iconClass:"",displayText:Object(h.a)("Unlocked")},components:{editForm:ne,GlIcon:m.a},directives:{GlTooltip:f.a},props:{isEditable:{required:!0,type:Boolean}},data:()=>({isLockDialogOpen:!1}),computed:{...Object(J.d)(["getNoteableData"]),issuableDisplayName(){return this.getNoteableData.targetType===this.$options.issue?Object(h.a)("issue"):Object(h.a)("merge request")},isLocked(){return this.getNoteableData.discussion_locked},lockStatus(){return this.isLocked?this.$options.locked:this.$options.unlocked},tooltipLabel(){return this.isLocked?Object(h.a)("Locked"):Object(h.a)("Unlocked")}},created(){$.a.$on("closeLockForm",this.toggleForm)},beforeDestroy(){$.a.$off("closeLockForm",this.toggleForm)},methods:{toggleForm(){this.isEditable&&(this.isLockDialogOpen=!this.isLockDialogOpen)}}},ae=Object(_.a)(se,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block issuable-sidebar-item lock"},[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",value:{title:e.tooltipLabel},expression:"{ title: tooltipLabel }",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{"data-testid":"sidebar-collapse-icon"},on:{click:e.toggleForm}},[i("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.lockStatus.icon}})],1),e._v(" "),i("div",{staticClass:"hide-collapsed gl-line-height-20 gl-mb-2 gl-text-gray-900"},[e._v("\n    "+e._s(e.sprintf(e.__("Lock %{issuableDisplayName}"),{issuableDisplayName:e.issuableDisplayName}))+"\n    "),e.isEditable?i("a",{staticClass:"float-right lock-edit btn gl-text-gray-900! gl-ml-auto hide-collapsed btn-default btn-sm gl-button btn-default-tertiary gl-mr-n2",attrs:{href:"#","data-testid":"edit-link","data-track-action":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"lock_issue"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.isLockDialogOpen?i("edit-form",{attrs:{"data-testid":"edit-form","is-locked":e.isLocked,"issuable-display-name":e.issuableDisplayName}}):e._e(),e._v(" "),i("div",{staticClass:"sidebar-item-value",class:e.lockStatus.class,attrs:{"data-testid":"lock-status"}},[i("gl-icon",{staticClass:"sidebar-item-icon",class:e.lockStatus.iconClass,attrs:{size:16,name:e.lockStatus.icon}}),e._v("\n      "+e._s(e.lockStatus.displayText)+"\n    ")],1)],1)])}),[],!1,null,null,null).exports,re={name:"ReviewerTitle",components:{GlLoadingIcon:i("zLBL").a},props:{loading:{type:Boolean,required:!1,default:!1},numberOfReviewers:{type:Number,required:!0},editable:{type:Boolean,required:!0}},computed:{reviewerTitle(){const e=this.numberOfReviewers;return Object(h.f)("Reviewer","%d Reviewers",e)}}},oe=Object(_.a)(re,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hide-collapsed gl-line-height-20 gl-mb-2 gl-text-gray-900"},[e._v("\n  "+e._s(e.reviewerTitle)+"\n  "),e.loading?i("gl-loading-icon",{staticClass:"align-bottom",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.editable?i("a",{staticClass:"js-sidebar-dropdown-toggle edit-link btn gl-text-gray-900! gl-ml-auto hide-collapsed btn-default btn-sm gl-button btn-default-tertiary float-right",attrs:{href:"#","data-track-action":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"reviewer"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,le={components:{GlIcon:m.a},props:{user:{type:Object,required:!0},imgSize:{type:Number,required:!0}},computed:{reviewerAlt(){return Object(h.h)(Object(h.a)("%{userName}'s avatar"),{userName:this.user.name})},avatarUrl(){return this.user.avatar||this.user.avatar_url||gon.default_avatar_url},hasMergeIcon(){return!this.user.can_merge}}},ce=Object(_.a)(le,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"position-relative"},[t("img",{staticClass:"avatar avatar-inline m-0",class:"s"+this.imgSize,attrs:{alt:this.reviewerAlt,src:this.avatarUrl,width:this.imgSize,"data-qa-selector":"avatar_image"}}),this._v(" "),this.hasMergeIcon?t("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):this._e()],1)}),[],!1,null,null,null).exports,de={components:{ReviewerAvatar:ce},props:{user:{type:Object,required:!0}}},ue=Object(_.a)(de,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn-link",attrs:{type:"button"}},[t("reviewer-avatar",{attrs:{user:this.user,"img-size":24}}),this._v(" "),t("span",{staticClass:"author"},[this._v(" "+this._s(this.user.name)+" ")])],1)}),[],!1,null,null,null).exports;var pe={directives:{GlTooltip:f.a},components:{CollapsedReviewer:ue,GlIcon:m.a},props:{users:{type:Array,required:!0}},computed:{hasNoUsers(){return!this.users.length},hasMoreThanOneReviewer(){return this.users.length>1},hasMoreThanTwoReviewers(){return this.users.length>2},allReviewersCanMerge(){return this.users.every((function(e){return e.can_merge}))},sidebarAvatarCounter(){return this.users.length>99?"99+":`+${this.users.length-1}`},collapsedUsers(){const e=this.hasMoreThanTwoReviewers?1:this.users.length;return this.users.slice(0,e)},tooltipTitleMergeStatus(){const e=this.users.filter((function(e){return e.can_merge})).length;return e===this.users.length?"":e>0?Object(h.h)(Object(h.a)("%{mergeLength}/%{usersLength} can merge"),{mergeLength:e,usersLength:this.users.length}):1===this.users.length?Object(h.a)("cannot merge"):Object(h.a)("no one can merge")},tooltipTitle(){const e=Math.min(5,this.users.length),t=this.users.slice(0,e).map((function(e){return e.name}));if(!this.users.length)return Object(h.a)("Reviewer(s)");this.users.length>t.length&&t.push(Object(h.h)(Object(h.a)("+ %{amount} more"),{amount:this.users.length-t.length}));const i=t.join(", ");return this.tooltipTitleMergeStatus?`${i} (${this.tooltipTitleMergeStatus})`:i},tooltipOptions:()=>({container:"body",placement:"left",boundary:"viewport"})}},he=Object(_.a)(pe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOptions,expression:"tooltipOptions"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users gl-relative":e.hasMoreThanOneReviewer},attrs:{title:e.tooltipTitle}},[e.hasNoUsers?i("gl-icon",{attrs:{name:"user","aria-label":e.__("None")}}):e._e(),e._v(" "),e._l(e.collapsedUsers,(function(e){return i("collapsed-reviewer",{key:e.id,attrs:{user:e}})})),e._v(" "),e.hasMoreThanTwoReviewers?i("button",{staticClass:"btn-link",attrs:{type:"button"}},[i("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")]),e._v(" "),e.allReviewersCanMerge?e._e():i("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}})],1):e._e()],2)}),[],!1,null,null,null).exports,fe=i("LdWl"),me=i("u1ru"),ge={components:{ReviewerAvatar:ce,GlLink:me.a},directives:{GlTooltip:f.a},props:{user:{type:Object,required:!0},rootPath:{type:String,required:!0},tooltipPlacement:{type:String,default:"bottom",required:!1},tooltipHasName:{type:Boolean,default:!0,required:!1},issuableType:{type:String,default:"issue",required:!1}},computed:{cannotMerge(){return"merge_request"===this.issuableType&&!this.user.can_merge},tooltipTitle(){return this.cannotMerge&&this.tooltipHasName?Object(h.h)(Object(h.a)("%{userName} (cannot merge)"),{userName:this.user.name}):this.cannotMerge?Object(h.a)("Cannot merge"):this.tooltipHasName?this.user.name:""},tooltipOption(){return{container:"body",placement:this.tooltipPlacement,boundary:"viewport"}},reviewerUrl(){return this.user.web_url}}},be=Object(_.a)(ge,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOption,expression:"tooltipOption"}],staticClass:"d-inline-block",attrs:{href:e.reviewerUrl,title:e.tooltipTitle}},[i("span",{staticClass:"gl-display-flex gl-align-items-center"},[i("reviewer-avatar",{attrs:{user:e.user,"img-size":32,"issuable-type":e.issuableType}}),e._v(" "),e._t("default",null,{user:e.user})],2)])}),[],!1,null,null,null).exports;var ve={i18n:{reRequestReview:Object(h.a)("Re-request review")},components:{GlButton:ee.a,GlIcon:m.a,ReviewerAvatarLink:be,AttentionRequestedToggle:fe.a},directives:{GlTooltip:f.a},mixins:[Object(U.a)()],props:{users:{type:Array,required:!0},rootPath:{type:String,required:!0},issuableType:{type:String,required:!1,default:"issue"}},data:()=>({showLess:!0,loadingStates:{}}),watch:{users:{handler(e){this.loadingStates=e.reduce((function(e,t){return{...e,[t.id]:e[t.id]||null}}),this.loadingStates)},immediate:!0}},methods:{approvedByTooltipTitle:e=>Object(h.h)(Object(h.g)("MergeRequest|Approved by @%{username}"),e),toggleShowLess(){this.showLess=!this.showLess},reRequestReview(e){this.loadingStates[e]="loading",this.$emit("request-review",{userId:e,callback:this.requestReviewComplete})},requestReviewComplete(e,t){var i=this;t?(this.loadingStates[e]="success",setTimeout((function(){i.loadingStates[e]=null}),1500)):this.loadingStates[e]=null},toggleAttentionRequested(e){this.$emit("toggle-attention-requested",e)}},LOADING_STATE:"loading",SUCCESS_STATE:"success"},ye={name:"Reviewers",components:{CollapsedReviewerList:he,UncollapsedReviewerList:Object(_.a)(ve,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.users,(function(t,n){return i("div",{key:t.id,class:{"gl-mb-3":n!==e.users.length-1},attrs:{"data-testid":"reviewer"}},[e.glFeatures.mrAttentionRequests&&t.can_update_merge_request?i("attention-requested-toggle",{attrs:{user:t,type:"reviewer"},on:{"toggle-attention-requested":e.toggleAttentionRequested}}):e._e(),e._v(" "),i("reviewer-avatar-link",{attrs:{user:t,"root-path":e.rootPath,"issuable-type":e.issuableType}},[i("div",{staticClass:"gl-ml-3 gl-line-height-normal gl-display-grid"},[i("span",[e._v(e._s(t.name))]),e._v(" "),i("span",[e._v("@"+e._s(t.username))])])]),e._v(" "),t.approved?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"float-right gl-my-2 gl-ml-2 gl-text-green-500",attrs:{size:16,title:e.approvedByTooltipTitle(t),name:"status-success","data-testid":"re-approved"}}):e._e(),e._v(" "),e.loadingStates[t.id]===e.$options.SUCCESS_STATE?i("gl-icon",{staticClass:"float-right gl-py-2 gl-mr-2 gl-text-green-500",attrs:{size:24,name:"check","data-testid":"re-request-success"}}):t.can_update_merge_request&&t.reviewed&&!e.glFeatures.mrAttentionRequests?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"float-right gl-text-gray-500!",attrs:{title:e.$options.i18n.reRequestReview,"aria-label":e.$options.i18n.reRequestReview,loading:e.loadingStates[t.id]===e.$options.LOADING_STATE,size:"small",icon:"redo",variant:"link","data-testid":"re-request-button"},on:{click:function(i){return e.reRequestReview(t.id)}}}):e._e()],1)})),0)}),[],!1,null,null,null).exports},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{hasNoUsers(){return!this.users.length},sortedReviewers(){return[...this.users.filter((function(e){return e.can_merge})),...this.users.filter((function(e){return!e.can_merge}))]}},methods:{assignSelf(){this.$emit("assign-self")},requestReview(e){this.$emit("request-review",e)},toggleAttentionRequested(e){this.$emit("toggle-attention-requested",e)}}},_e={name:"SidebarReviewers",components:{ReviewerTitle:oe,Reviewers:Object(_.a)(ye,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("collapsed-reviewer-list",{attrs:{users:e.sortedReviewers,"issuable-type":e.issuableType}}),e._v(" "),i("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[i("span",{staticClass:"no-value"},[e._v("\n        "+e._s(e.__("None"))+"\n      ")])]:i("uncollapsed-reviewer-list",{attrs:{users:e.sortedReviewers,"root-path":e.rootPath,"issuable-type":e.issuableType},on:{"request-review":e.requestReview,"toggle-attention-requested":e.toggleAttentionRequested}})],2)],1)}),[],!1,null,null,null).exports},mixins:[Object(U.a)()],props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},issuableType:{type:String,required:!1,default:"issue"},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0}},data:()=>({store:new M.a,loading:!1}),computed:{relativeUrlRoot(){var e;return null!==(e=gon.relative_url_root)&&void 0!==e?e:""}},created(){this.removeReviewer=this.store.removeReviewer.bind(this.store),this.addReviewer=this.store.addReviewer.bind(this.store),this.removeAllReviewers=this.store.removeAllReviewers.bind(this.store),$.a.$on("sidebar.removeReviewer",this.removeReviewer),$.a.$on("sidebar.addReviewer",this.addReviewer),$.a.$on("sidebar.removeAllReviewers",this.removeAllReviewers),$.a.$on("sidebar.saveReviewers",this.saveReviewers)},beforeDestroy(){$.a.$off("sidebar.removeReviewer",this.removeReviewer),$.a.$off("sidebar.addReviewer",this.addReviewer),$.a.$off("sidebar.removeAllReviewers",this.removeAllReviewers),$.a.$off("sidebar.saveReviewers",this.saveReviewers)},methods:{saveReviewers(){var e=this;this.loading=!0,this.mediator.saveReviewers(this.field).then((function(){e.loading=!1,Object(F.b)()})).catch((function(){return e.loading=!1,Object(B.f)({message:Object(h.a)("Error occurred when saving reviewers")})}))},requestReview(e){this.mediator.requestReview(e)},toggleAttentionRequested(e){this.mediator.toggleAttentionRequested("reviewer",e)}}},we=Object(_.a)(_e,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("reviewer-title",{attrs:{"number-of-reviewers":e.store.reviewers.length,loading:e.loading||e.store.isFetching.reviewers,editable:e.store.editable}}),e._v(" "),e.store.isFetching.reviewers?e._e():i("reviewers",{attrs:{"root-path":e.relativeUrlRoot,users:e.store.reviewers,editable:e.store.editable,"issuable-type":e.issuableType},on:{"request-review":e.requestReview,"toggle-attention-requested":e.toggleAttentionRequested}})],1)}),[],!1,null,null,null).exports,Se=i("xvTi"),ke=i("sRfO"),Oe=i("KZOo"),Te=i.n(Oe),je=(i("iPqD"),{components:{IssuableTimeTracker:i("t26s").a},props:{fullPath:{type:String,required:!1,default:""},issuableId:{type:String,required:!0},issuableIid:{type:String,required:!0},limitToHours:{type:Boolean,required:!1,default:!1}},mounted(){this.listenForQuickActions()},methods:{listenForQuickActions(){var e=this;s()(document).on("ajax:success",".gfm-form",this.quickActionListened),$.a.$on("timeTrackingUpdated",(function(t){e.quickActionListened({detail:[t]})}))},quickActionListened(e){const t=e.detail[0];let i;(i=void 0!==t&&t.commands_changes?Object.keys(t.commands_changes):[])&&Te()(["spend_time","time_estimate"],i).length&&$.a.$emit("timeTracker:refresh")}}}),Ce=Object(_.a)(je,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("issuable-time-tracker",{attrs:{"full-path":this.fullPath,"issuable-id":this.issuableId,"issuable-iid":this.issuableIid,"limit-to-hours":this.limitToHours}})],1)}),[],!1,null,null,null).exports,Ee=i("5ee2"),Ie=i("A1CF"),xe=i.n(Ie),De=i("rl6E");function Pe(e){return e>0}var Ne=class{constructor(e,t,i){this.mediator=e,this.$dropdownToggle=s()(t),this.$confirmButton=s()(i),this.onConfirmClickedWrapper=this.onConfirmClicked.bind(this)}init(){this.initDropdown(),this.addEventListeners()}destroy(){this.removeEventListeners()}initDropdown(){var e=this;Object(De.a)(this.$dropdownToggle,{search:{fields:["name_with_namespace"]},showMenuAbove:!0,selectable:!0,filterable:!0,filterRemote:!0,multiSelect:!1,shouldPropagate:!1,data:function(t,i){e.mediator.fetchAutocompleteProjects(t).then(i).catch((function(){return Object(B.f)({message:Object(h.a)("An error occurred while fetching projects autocomplete.")})}))},renderRow:function(e){return`\n        <li>\n          <a href="#" class="js-move-issue-dropdown-item">\n            ${xe()(e.name_with_namespace)}\n          </a>\n        </li>\n      `},clicked:function(t){const i=t.selectedObj,n=t.isMarking?i.id:0;e.mediator.setMoveToProjectId(n),e.$confirmButton.prop("disabled",!Pe(n))}})}addEventListeners(){this.$confirmButton.on("click",this.onConfirmClickedWrapper)}removeEventListeners(){this.$confirmButton.off("click",this.onConfirmClickedWrapper)}onConfirmClicked(){var e=this;Pe(this.mediator.store.moveToProjectId)&&(this.$confirmButton.disable().addClass("is-loading"),this.mediator.moveIssue().catch((function(){Object(B.f)({message:Object(h.a)("An error occurred while moving the issue.")}),e.$confirmButton.enable().removeClass("is-loading")})))}},Ae=i("KFH7"),Re=i("udFm"),Le=i.n(Re),$e=i("Ur+U"),qe=i.n($e),Fe={components:{GlIcon:m.a,GlLink:me.a,GlPopover:Ae.a},directives:{GlTooltip:f.a},props:{issueId:{type:String,required:!0}},data:()=>({contacts:[]}),apollo:{contacts:{query:Le.a,variables(){return this.queryVariables},update(e){var t,i;return null==e?void 0:null===(t=e.issue)||void 0===t?void 0:null===(i=t.customerRelationsContacts)||void 0===i?void 0:i.nodes},error(e){Object(B.f)({message:Object(h.a)("Something went wrong trying to load issue contacts."),error:e,captureError:!0})},subscribeToMore:{document:qe.a,variables(){return this.queryVariables},updateQuery(e,t){var i;let{subscriptionData:n}=t;const s=null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.issueCrmContactsUpdated;return e&&s?{issue:s}:e}}}},computed:{shouldShowContacts(){var e;return null===(e=this.contacts)||void 0===e?void 0:e.length},queryVariables(){return{id:Object(l.c)(o.g,this.issueId)}},contactsLabel(){return Object(h.h)(Object(h.f)("%{count} contact","%{count} contacts",this.contactCount),{count:this.contactCount})},contactCount(){var e;return(null===(e=this.contacts)||void 0===e?void 0:e.length)||0}},methods:{shouldShowPopover(e){return this.popOverData(e).length>0},divider(e){return e<this.contactCount-1?",":""},popOverData(e){var t;return[null===(t=e.organization)||void 0===t?void 0:t.name,e.email,e.phone,e.description].filter(Boolean)}}},Be=Object(_.a)(Fe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.contactsLabel}},[i("gl-icon",{attrs:{name:"users"}}),e._v(" "),i("span",[e._v(" "+e._s(e.contactCount)+" ")])],1),e._v(" "),i("div",{staticClass:"hide-collapsed help-button gl-float-right"},[i("gl-link",{attrs:{href:"https://docs.gitlab.com/ee/user/crm/",target:"_blank"}},[i("gl-icon",{attrs:{name:"question-o"}})],1)],1),e._v(" "),i("div",{staticClass:"title hide-collapsed gl-mb-2 gl-line-height-20"},[e._v("\n    "+e._s(e.contactsLabel)+"\n  ")]),e._v(" "),i("div",{staticClass:"hide-collapsed gl-display-flex gl-flex-wrap"},e._l(e.contacts,(function(t,n){return i("div",{key:n,staticClass:"gl-pr-2",attrs:{id:"contact_container_"+n}},[i("span",{staticClass:"gl-font-weight-bold",attrs:{id:"contact_"+n}},[e._v(e._s(t.firstName)+" "+e._s(t.lastName)+e._s(e.divider(n)))]),e._v(" "),e.shouldShowPopover(t)?i("gl-popover",{attrs:{target:"contact_"+n,container:"contact_container_"+n,triggers:"hover focus",placement:"top"}},e._l(e.popOverData(t),(function(t){return i("div",{key:t},[e._v(e._s(t))])})),0):e._e()],1)})),0)])}),[],!1,null,null,null).exports;function Me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector(".js-sidebar-options");return JSON.parse(e.innerHTML)}function Ue(e){const t=document.getElementById("js-vue-sidebar-assignees");if(!t)return;const{id:i,iid:n,fullPath:s}=Me(),r=function(){const e=document.querySelectorAll(".js-sidebar-assignee-data input");return Array.from(e).map((function(e){return e.dataset})).reduce((function(e,t){let{username:i,availability:n=""}=t;return{...e,[i]:n}}),{})}();new a.default({el:t,name:"SidebarAssigneesRoot",apolloProvider:D.a,components:{SidebarAssignees:K},render:function(a){return a("sidebar-assignees",{props:{mediator:e,issuableIid:String(n),projectPath:s,field:t.dataset.field,signedIn:t.hasAttribute("data-signed-in"),issuableType:Object(p.w)()||Object(p.v)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest,issuableId:i,assigneeAvailabilityStatus:r}})}})}function Ve(){const e=document.querySelector(".js-sidebar-labels");return!!e&&new a.default({el:e,name:"SidebarLabelsRoot",apolloProvider:D.a,components:{LabelsSelectWidget:R.a},provide:{...e.dataset,canUpdate:Object(p.E)(e.dataset.canEdit),allowLabelCreate:Object(p.E)(e.dataset.allowLabelCreate),allowLabelEdit:Object(p.E)(e.dataset.canEdit),allowScopedLabels:Object(p.E)(e.dataset.allowScopedLabels),isClassicSidebar:!0},render:function(t){return t("labels-select-widget",{props:{iid:String(e.dataset.iid),fullPath:e.dataset.projectPath,allowLabelRemove:Object(p.E)(e.dataset.canEdit),allowMultiselect:!0,footerCreateLabelTitle:Object(h.a)("Create project label"),footerManageLabelTitle:Object(h.a)("Manage project labels"),labelsCreateTitle:Object(h.a)("Create project label"),labelsFilterBasePath:e.dataset.projectIssuesPath,variant:A.a.Sidebar,issuableType:Object(p.w)()||Object(p.v)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest,workspaceType:"project",attrWorkspacePath:e.dataset.projectPath,labelCreateType:L.c.project},class:["block labels js-labels-block"],scopedSlots:{default:function(){return Object(h.a)("None")}}})}})}a.default.use(q.a),a.default.use(r.default);const He=(Object(p.w)()||Object(p.t)())&&gon.features.issueAssigneesWidget;function ze(e,t){var i,n;Object(c.a)(),Object(d.a)(),function(){const e=document.querySelector(".js-issuable-todo");if(!e)return!1;const{projectPath:t,iid:i,id:n}=e.dataset;new a.default({el:e,name:"SidebarTodoRoot",apolloProvider:D.a,components:{SidebarTodoWidget:x.a},provide:{isClassicSidebar:!0},render:function(e){return e("sidebar-todo-widget",{props:{fullPath:t,issuableId:Object(p.w)()||Object(p.t)()?Object(l.c)(o.g,n):Object(l.c)(o.j,n),issuableIid:i,issuableType:Object(p.w)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest}})}})}(),He?function(){const e=document.getElementById("js-vue-sidebar-assignees");if(!e)return;const{id:t,iid:i,fullPath:n,editable:s}=Me();new a.default({el:e,name:"SidebarAssigneesRoot",apolloProvider:D.a,components:{SidebarAssigneesWidget:O.a},provide:{canUpdate:s,directlyInviteMembers:e.hasAttribute("data-directly-invite-members")},render:function(s){return s("sidebar-assignees-widget",{props:{iid:String(i),fullPath:n,issuableType:Object(p.w)()||Object(p.v)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest,issuableId:t,allowMultipleAssignees:!e.dataset.maxAssignees},scopedSlots:{collapsed:function(e){let{users:t,onClick:i}=e;return s(k,{props:{users:t},nativeOn:{click:i}})}}})}});const r=document.querySelector(".js-sidebar-assignee-dropdown");r&&N(r)}():Ue(e),function(e){const t=document.getElementById("js-vue-sidebar-reviewers");if(!t)return;const{iid:i,fullPath:n}=Me();new a.default({el:t,name:"SidebarReviewersRoot",apolloProvider:D.a,components:{SidebarReviewers:we},render:function(s){return s("sidebar-reviewers",{props:{mediator:e,issuableIid:String(i),projectPath:n,field:t.dataset.field,issuableType:Object(p.w)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest}})}});const s=document.querySelector(".js-sidebar-reviewer-dropdown");s&&N(s)}(e),function(){const e=document.getElementById("js-issue-crm-contacts");if(!e)return;const{issueId:t}=e.dataset;new a.default({el:e,name:"SidebarCrmContactsRoot",apolloProvider:D.a,components:{CrmContacts:Be},render:function(e){return e("crm-contacts",{props:{issueId:t}})}})}(),Ve(),function(){const e=document.querySelector(".js-milestone-select");if(!e)return!1;const{canEdit:t,projectPath:i,issueIid:n}=e.dataset;new a.default({el:e,name:"SidebarMilestoneRoot",apolloProvider:D.a,components:{SidebarDropdownWidget:I.a},provide:{canUpdate:Object(p.E)(t),isClassicSidebar:!0},render:function(e){return e("sidebar-dropdown-widget",{props:{attrWorkspacePath:i,workspacePath:i,iid:n,issuableType:Object(p.w)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest,issuableAttribute:Ee.c.Milestone,icon:"clock"}})}})}(),function(){const e=document.getElementById("js-confidential-entry-point");if(!e)return;const{fullPath:t,iid:i}=Me(),n=document.getElementById("js-confidential-issue-data"),s=JSON.parse(n.innerHTML);new a.default({el:e,name:"SidebarConfidentialRoot",apolloProvider:D.a,components:{SidebarConfidentialityWidget:T.b},provide:{canUpdate:s.is_editable,isClassicSidebar:!0},render:function(e){return e("sidebar-confidentiality-widget",{props:{iid:String(i),fullPath:t,issuableType:Object(p.w)()||Object(p.v)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(){const e=document.getElementById("js-due-date-entry-point");if(!e)return;const{fullPath:t,iid:i,editable:n}=Me();new a.default({el:e,name:"SidebarDueDateRoot",apolloProvider:D.a,components:{SidebarDueDateWidget:j.a},provide:{canUpdate:n},render:function(e){return e("sidebar-due-date-widget",{props:{iid:String(i),fullPath:t,issuableType:u.c.Issue}})}})}(),function(){const e=document.getElementById("js-reference-entry-point");if(!e)return;const{fullPath:t,iid:i}=Me();new a.default({el:e,name:"SidebarReferenceRoot",apolloProvider:D.a,components:{SidebarReferenceWidget:E.a},provide:{iid:String(i),fullPath:t},render:function(e){return e("sidebar-reference-widget",{props:{issuableType:Object(p.w)()||Object(p.v)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(e){const t=document.getElementById("js-lock-entry-point");if(!t||!e)return;const{fullPath:i}=Me(),n=document.getElementById("js-lock-issue-data"),s=JSON.parse(n.innerHTML);new a.default({el:t,name:"SidebarLockRoot",store:e,provide:{fullPath:i},render:function(e){return e(ae,{props:{isEditable:s.is_editable}})}})}(t),function(){const e=document.querySelector(".js-sidebar-participants-entry-point");if(!e)return;const{fullPath:t,iid:i}=Me();new a.default({el:e,name:"SidebarParticipantsRoot",apolloProvider:D.a,components:{SidebarParticipantsWidget:C.a},render:function(e){return e("sidebar-participants-widget",{props:{iid:String(i),fullPath:t,issuableType:Object(p.w)()||Object(p.v)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(){const e=document.querySelector(".js-sidebar-subscriptions-entry-point");if(!e)return;const{fullPath:t,iid:i,editable:n}=Me();new a.default({el:e,name:"SidebarSubscriptionsRoot",apolloProvider:D.a,components:{SidebarSubscriptionsWidget:ke.a},provide:{canUpdate:n},render:function(e){return e("sidebar-subscriptions-widget",{props:{iid:String(i),fullPath:t,issuableType:Object(p.w)()||Object(p.v)()||Object(p.t)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(){const e=document.getElementById("issuable-copy-email");if(!e)return;const{createNoteEmail:t}=Me();new a.default({el:e,name:"SidebarCopyEmailRoot",render:function(e){return e(Z,{props:{issueEmailAddress:t}})}})}(),new Ne(e,s()(".js-move-issue"),s()(".js-move-issue-confirmation-button")).init(),function(){const e=document.getElementById("issuable-time-tracker"),{id:t,iid:i,fullPath:n,issuableType:s,timeTrackingLimitToHours:r}=Me();e&&new a.default({el:e,name:"SidebarTimeTrackingRoot",apolloProvider:D.a,provide:{issuableType:s},render:function(e){return e(Ce,{props:{fullPath:n,issuableId:t.toString(),issuableIid:i.toString(),limitToHours:r}})}})}(),function(){const e=document.querySelector("#js-severity");if(!e)return!1;const{fullPath:t,iid:i,severity:n,editable:s}=Me();new a.default({el:e,name:"SidebarSeverityRoot",apolloProvider:D.a,components:{SidebarSeverity:Se.a},provide:{canUpdate:s},render:function(e){return e("sidebar-severity",{props:{projectPath:t,iid:String(i),initialSeverity:n.toUpperCase()}})}})}(),null!==(i=window.gon)&&void 0!==i&&null!==(n=i.features)&&void 0!==n&&n.mrAttentionRequests&&$.a.$on("removeCurrentUserAttentionRequested",(function(){return e.removeCurrentUserAttentionRequested()}))}},"5/LP":function(e,t,i){"use strict";i.r(t);var n=i("cuRJ"),s=i("wHz9"),a=i("tXCq"),r=i("tSMP"),o=i("H8gz"),l=i("zLBL"),c=i("ly/8"),d=i("teVv"),u=i("t9l/"),p=i("dYBJ"),h=i("5ee2"),f=i("1IiZ"),m=i("a6L4"),g={tracking:{event:h.e.editEvent,label:h.e.rightSidebarLabel,property:"weight"},components:{GlButton:n.a,GlForm:s.a,GlFormGroup:a.a,GlFormInput:r.a,GlIcon:o.a,GlLoadingIcon:l.a,SidebarEditableItem:p.a},directives:{autofocusonshow:f.a,GlTooltip:c.a},inject:["canUpdate"],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({weight:null,loading:!1,oldIid:null}),apollo:{weight:{query(){return m.t[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,i;return null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.weight},error(){Object(d.f)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} weight."),{issuableType:this.issuableType})})}}},computed:{isLoading(){var e,t;return(null===(e=this.$apollo.queries)||void 0===e?void 0:null===(t=e.weight)||void 0===t?void 0:t.loading)||this.loading},hasWeight(){return null!=this.weight},weightLabel(){return this.hasWeight?this.weight:this.$options.i18n.noWeightLabel},tooltipTitle(){let e=this.$options.i18n.weight;return this.hasWeight&&(e+=` ${this.weight}`),e},collapsedWeightLabel(){return this.hasWeight?this.weight.toString().substr(0,5):this.$options.i18n.noWeightLabel}},watch:{iid(e,t){this.oldIid=t}},methods:{setWeight(e){var t=this;const i=e||""===this.weight,n=i?null:this.weight,s=i?this.iid:this.oldIid||this.iid;this.loading=!0,this.$apollo.mutate({mutation:m.t[this.issuableType].mutation,variables:{input:{projectPath:this.fullPath,iid:s,weight:n}}}).then((function(e){var i;let{data:{issuableSetWeight:n}}=e;var s,a;null!==(i=n.errors)&&void 0!==i&&i.length?Object(d.f)({message:n.errors[0]}):t.$emit("weightUpdated",{weight:null==n?void 0:null===(s=n.issuable)||void 0===s?void 0:s.weight,id:null==n?void 0:null===(a=n.issuable)||void 0===a?void 0:a.id})})).catch((function(){Object(d.f)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} weight."),{issuableType:t.issuableType})})})).finally((function(){t.loading=!1}))},expandSidebar(){this.$refs.editable.expand(),this.$emit("expandSidebar")},handleFormSubmit(){this.$refs.editable.collapse({emitEvent:!1}),this.setWeight()}},i18n:{weight:Object(u.a)("Weight"),noWeightLabel:Object(u.a)("None"),removeWeight:Object(u.a)("remove weight"),inputPlaceholder:Object(u.a)("Enter a number")},maxDisplayWeight:m.e},b=i("bPvS"),v=Object(b.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",staticClass:"block weight",attrs:{title:e.$options.i18n.weight,tracking:e.$options.tracking,loading:e.isLoading,"data-testid":"sidebar-weight"},on:{open:function(t){e.oldIid=null},close:function(t){return e.setWeight()}},scopedSlots:e._u([{key:"collapsed",fn:function(){return[i("div",{staticClass:"gl-display-flex gl-align-items-center hide-collapsed"},[i("span",{class:e.hasWeight?"gl-text-gray-900 gl-font-weight-bold":"gl-text-gray-500",attrs:{"data-testid":"sidebar-weight-value","data-qa-selector":"weight_label_value"}},[e._v("\n        "+e._s(e.weightLabel)+"\n      ")]),e._v(" "),e.hasWeight&&e.canUpdate?i("div",{staticClass:"gl-display-flex"},[i("span",{staticClass:"gl-mx-2"},[e._v("-")]),e._v(" "),i("gl-button",{staticClass:"gl-text-gray-500!",attrs:{variant:"link",disabled:e.loading},on:{click:function(t){return e.setWeight(!0)}}},[e._v("\n          "+e._s(e.$options.i18n.removeWeight)+"\n        ")])],1):e._e()]),e._v(" "),i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon js-weight-collapsed-block",attrs:{title:e.tooltipTitle},on:{click:e.expandSidebar}},[i("gl-icon",{attrs:{size:16,name:"weight"}}),e._v(" "),e.isLoading?i("gl-loading-icon",{staticClass:"js-weight-collapsed-loading-icon"}):i("span",{staticClass:"js-weight-collapsed-weight-label"},[e._v("\n        "+e._s(e.collapsedWeightLabel)+"\n        "),e.weight>e.$options.maxDisplayWeight?[e._v("")]:e._e()],2)],1)]},proxy:!0},{key:"default",fn:function(){return[i("gl-form",{on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit()}}},[i("gl-form-group",{attrs:{label:e.__("Weight"),"label-for":"weight-input","label-sr-only":""}},[i("gl-form-input",{directives:[{name:"autofocusonshow",rawName:"v-autofocusonshow"}],attrs:{id:"weight-input",type:"number",min:"0",placeholder:e.$options.i18n.inputPlaceholder},model:{value:e.weight,callback:function(t){e.weight=e._n(t)},expression:"weight"}})],1)],1)]},proxy:!0}])})}),[],!1,null,null,null);t.default=v.exports},"5ggI":function(e,t,i){"use strict";var n=i("vKRd"),s=i.n(n),a=i("A1CF"),r=i.n(a),o=i("nPFI"),l=i("9LGn"),c=i("6oy4"),d=i.n(c),u=i("CkNe"),p=i("0nrL"),h=i("yZaS"),f=i("teVv"),m=i("oiT5"),g=i("vRHk"),b=i("1jid"),v=i("t9l/"),y=i("4UPE"),_=i("RewC"),w=i("tbUO"),S=i("K4Wm"),k=i("ZYcg"),O=i("ZJPx"),T=i("H8gz"),j=i("cuRJ"),C=i("0X+3"),E=i("ly/8"),I=i("htOw"),x=i("dNbP"),D=i("/LsX"),P=i("cBN0"),N=i("75go"),A=i("Zxcm"),R={i18n:{buttonText:Object(v.a)("Reply to comment")},name:"ReplyButton",components:{GlButton:j.a},directives:{GlTooltip:E.a}},L=i("bPvS"),$=Object(L.a)(R,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"data-track-action":"click_button","data-track-label":"reply_comment_button",category:"tertiary",icon:"comment",title:e.$options.i18n.buttonText,"aria-label":e.$options.i18n.buttonText},on:{click:function(t){return e.$emit("startReplying")}}})}),[],!1,null,null,null).exports,q={i18n:{addReactionLabel:Object(v.a)("Add reaction"),editCommentLabel:Object(v.a)("Edit comment"),deleteCommentLabel:Object(v.a)("Delete comment"),moreActionsLabel:Object(v.a)("More actions")},name:"NoteActions",components:{GlIcon:T.a,ReplyButton:$,GlButton:j.a,GlDropdownItem:C.a,UserAccessRoleBadge:N.a,EmojiPicker:function(){return Promise.resolve().then(i.bind(null,"9Wpt"))}},directives:{GlTooltip:E.a},mixins:[x.a,Object(A.a)()],props:{author:{type:Object,required:!0},authorId:{type:Number,required:!0},noteId:{type:[String,Number],required:!0},noteUrl:{type:String,required:!1,default:""},accessLevel:{type:String,required:!1,default:""},reportAbusePath:{type:String,required:!1,default:null},isAuthor:{type:Boolean,required:!1,default:!1},isContributor:{type:Boolean,required:!1,default:!1},noteableType:{type:String,required:!1,default:""},projectName:{type:String,required:!1,default:""},showReply:{type:Boolean,required:!0},canEdit:{type:Boolean,required:!0},canAwardEmoji:{type:Boolean,required:!0},canDelete:{type:Boolean,required:!0},canResolve:{type:Boolean,required:!1,default:!1},resolvable:{type:Boolean,required:!1,default:!1},isResolved:{type:Boolean,required:!1,default:!1},isResolving:{type:Boolean,required:!1,default:!1},resolvedBy:{type:Object,required:!1,default:function(){return{}}},canReportAsAbuse:{type:Boolean,required:!0},awardPath:{type:String,required:!1,default:""}},computed:{...Object(u.d)(["getUserDataByProp","getNoteableData"]),shouldShowActionsDropdown(){return this.currentUserId&&(this.canEdit||this.canReportAsAbuse)},showDeleteAction(){return this.canDelete&&!this.canReportAsAbuse&&!this.noteUrl},isAuthoredByCurrentUser(){return this.authorId===this.currentUserId},currentUserId(){return this.getUserDataByProp("id")},isUserAssigned(){var e=this;return this.assignees&&this.assignees.some((function(t){let{id:i}=t;return i===e.author.id}))},displayAssignUserText(){return this.isUserAssigned?Object(v.a)("Unassign from commenting user"):Object(v.a)("Assign to commenting user")},sidebarAction(){return this.isUserAssigned?"sidebar.addAssignee":"sidebar.removeAssignee"},targetType(){return this.getNoteableData.targetType},noteableDisplayName(){return Object(g.s)(this.noteableType).toLowerCase()},assignees(){return this.getNoteableData.assignees||[]},isIssue(){return"issue"===this.targetType},canAssign(){var e;return(null===(e=this.getNoteableData.current_user)||void 0===e?void 0:e.can_update)&&this.isIssue},displayAuthorBadgeText(){return Object(v.h)(Object(v.a)("This user is the author of this %{noteable}."),{noteable:this.noteableDisplayName})},displayMemberBadgeText(){return Object(v.h)(Object(v.a)("This user has the %{access} role in the %{name} project."),{access:this.accessLevel.toLowerCase(),name:this.projectName})},displayContributorBadgeText(){return Object(v.h)(Object(v.a)("This user has previously committed to the %{name} project."),{name:this.projectName})},resolveIcon(){return this.isResolving?null:this.isResolved?"check-circle-filled":"check-circle"},resolveVariant(){return this.isResolved?"success":"default"}},methods:{...Object(u.c)(["toggleAwardRequest"]),onEdit(){this.$emit("handleEdit")},onDelete(){this.$emit("handleDelete")},onResolve(){this.$emit("handleResolve")},closeTooltip(){var e=this;this.$nextTick((function(){e.$root.$emit(D.d)}))},handleAssigneeUpdate(e){this.$emit("updateAssignees",e),P.a.$emit(this.sidebarAction,this.author),P.a.$emit("sidebar.saveAssignees")},assignUser(){var e=this;let{assignees:t}=this;const{project_id:i,iid:n}=this.getNoteableData;this.isUserAssigned?t=t.filter((function(t){return t.id!==e.author.id})):t.push({id:this.author.id}),"issue"===this.targetType&&I.b.updateIssue(i,n,{assignee_ids:t.map((function(e){return e.id}))}).then((function(){return e.handleAssigneeUpdate(t)})).catch((function(){return Object(f.f)({message:Object(v.a)("Something went wrong while updating assignees")})}))},setAwardEmoji(e){this.toggleAwardRequest({endpoint:this.awardPath,noteId:this.noteId,awardName:e})}}},F=Object(L.a)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-actions"},[e.isAuthor?i("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3 d-none d-md-inline-block",attrs:{title:e.displayAuthorBadgeText}},[e._v("\n    "+e._s(e.__("Author"))+"\n  ")]):e._e(),e._v(" "),e.accessLevel?i("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3",attrs:{title:e.displayMemberBadgeText}},[e._v("\n    "+e._s(e.accessLevel)+"\n  ")]):e.isContributor?i("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3",attrs:{title:e.displayContributorBadgeText}},[e._v("\n    "+e._s(e.__("Contributor"))+"\n  ")]):e._e(),e._v(" "),e.canResolve?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"resolveButton",staticClass:"line-resolve-btn note-action-button",class:{"is-disabled":!e.resolvable,"is-active":e.isResolved},attrs:{category:"tertiary",variant:e.resolveVariant,title:e.resolveButtonTitle,"aria-label":e.resolveButtonTitle,icon:e.resolveIcon,loading:e.isResolving},on:{click:e.onResolve}}):e._e(),e._v(" "),e.canAwardEmoji?[e.glFeatures.improvedEmojiPicker?i("emoji-picker",{attrs:{"toggle-class":"note-action-button note-emoji-button gl-text-gray-600 gl-m-3 gl-p-0! gl-shadow-none! gl-bg-transparent!"},on:{click:e.setAwardEmoji},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("gl-icon",{staticClass:"link-highlight award-control-icon-neutral gl-m-0!",attrs:{name:"slight-smile"}}),e._v(" "),i("gl-icon",{staticClass:"link-highlight award-control-icon-positive gl-m-0!",attrs:{name:"smiley"}}),e._v(" "),i("gl-icon",{staticClass:"link-highlight award-control-icon-super-positive gl-m-0!",attrs:{name:"smile"}})]},proxy:!0}],null,!1,22457640)}):i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button note-emoji-button add-reaction-button js-add-award js-note-emoji",class:{"js-user-authored":e.isAuthoredByCurrentUser},attrs:{category:"tertiary",variant:"default",title:e.$options.i18n.addReactionLabel,"aria-label":e.$options.i18n.addReactionLabel,"data-position":"right"}},[i("span",{staticClass:"reaction-control-icon reaction-control-icon-neutral"},[i("gl-icon",{attrs:{name:"slight-smile"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-positive"},[i("gl-icon",{attrs:{name:"smiley"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-super-positive"},[i("gl-icon",{attrs:{name:"smile"}})],1)])]:e._e(),e._v(" "),e.showReply?i("reply-button",{ref:"replyButton",staticClass:"js-reply-button",on:{startReplying:function(t){return e.$emit("startReplying")}}}):e._e(),e._v(" "),e.canEdit?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-edit",attrs:{title:e.$options.i18n.editCommentLabel,"aria-label":e.$options.i18n.editCommentLabel,icon:"pencil",category:"tertiary","data-qa-selector":"note_edit_button"},on:{click:e.onEdit}}):e._e(),e._v(" "),e.showDeleteAction?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-delete",attrs:{title:e.$options.i18n.deleteCommentLabel,"aria-label":e.$options.i18n.deleteCommentLabel,icon:"remove",category:"tertiary"},on:{click:e.onDelete}}):e.shouldShowActionsDropdown?i("div",{staticClass:"dropdown more-actions"},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button more-actions-toggle",attrs:{title:e.$options.i18n.moreActionsLabel,"aria-label":e.$options.i18n.moreActionsLabel,icon:"ellipsis_v",category:"tertiary","data-toggle":"dropdown"},on:{click:e.closeTooltip}}),e._v(" "),i("ul",{staticClass:"dropdown-menu more-actions-dropdown dropdown-open-left"},[e.canReportAsAbuse?i("gl-dropdown-item",{attrs:{href:e.reportAbusePath}},[e._v("\n        "+e._s(e.__("Report abuse to admin"))+"\n      ")]):e._e(),e._v(" "),e.noteUrl?i("gl-dropdown-item",{staticClass:"js-btn-copy-note-link",attrs:{"data-clipboard-text":e.noteUrl}},[e._v("\n        "+e._s(e.__("Copy link"))+"\n      ")]):e._e(),e._v(" "),e.canAssign?i("gl-dropdown-item",{attrs:{"data-testid":"assign-user"},on:{click:e.assignUser}},[e._v("\n        "+e._s(e.displayAssignUserText)+"\n      ")]):e._e(),e._v(" "),e.canEdit?i("gl-dropdown-item",{staticClass:"js-note-delete",on:{click:function(t){return t.preventDefault(),e.onDelete(t)}}},[i("span",{staticClass:"text-danger"},[e._v(e._s(e.__("Delete comment")))])]):e._e()],1)],1):e._e()],2)}),[],!1,null,null,null).exports,B=(i("Skdl"),i("ZYR5")),M=i("uYaO"),U={name:"NoteAttachment",components:{GlIcon:T.a},props:{attachment:{type:Object,required:!0}}},V=Object(L.a)(U,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-attachment"},[e.attachment.image?i("a",{ref:"attachmentImage",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[i("img",{staticClass:"note-image-attach col-lg-4",attrs:{src:e.attachment.url}})]):e._e(),e._v(" "),i("div",{staticClass:"attachment"},[e.attachment.url?i("a",{ref:"attachmentUrl",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[i("gl-icon",{attrs:{name:"paperclip"}}),e._v(" "+e._s(e.attachment.filename)+"\n    ")],1):e._e()])])}),[],!1,null,null,null).exports,H={components:{AwardsList:i("IPfS").a},props:{awards:{type:Array,required:!0},toggleAwardPath:{type:String,required:!0},noteAuthorId:{type:Number,required:!0},noteId:{type:String,required:!0},canAwardEmoji:{type:Boolean,required:!0}},computed:{...Object(u.d)(["getUserData"]),isAuthoredByMe(){return this.noteAuthorId===this.getUserData.id},addButtonClass(){return this.isAuthoredByMe?"js-user-authored":""}},methods:{...Object(u.c)(["toggleAwardRequest"]),handleAward(e){const t={endpoint:this.toggleAwardPath,noteId:this.noteId,awardName:e};this.toggleAwardRequest(t).catch((function(){return Object(f.f)({message:Object(v.a)("Something went wrong on our end.")})}))}}},z=Object(L.a)(H,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-awards"},[i("awards-list",{attrs:{awards:e.awards,"can-award-emoji":e.canAwardEmoji,"current-user-id":e.getUserData.id,"add-button-class":e.addButtonClass},on:{award:function(t){return e.handleAward(t)}}})],1)}),[],!1,null,null,null).exports,G=i("XPiF"),W=i("gmzr"),Y={components:{noteEditedText:G.a,noteAwardsList:z,noteAttachment:V,noteForm:W.a,Suggestions:B.a},directives:{SafeHtml:l.a},mixins:[M.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},file:{type:Object,required:!1,default:null},canEdit:{type:Boolean,required:!0},isEditing:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},computed:{...Object(u.d)(["getDiscussion","suggestionsCount","getSuggestionsFilePaths"]),...Object(u.d)("diffs",["suggestionCommitMessage"]),discussion(){return this.note.isDraft?this.getDiscussion(this.note.discussion_id):{}},...Object(u.f)({batchSuggestionsInfo:function(e){return e.notes.batchSuggestionsInfo}}),noteBody(){return this.note.note},hasSuggestion(){return this.note.suggestions&&this.note.suggestions.length},lineType(){return this.line?this.line.type:null},commitMessage(){const e=this.batchSuggestionsInfo.length||1,t=this.getSuggestionsFilePaths(),i=t.length?t:[this.file.file_path],n=i.length,s=this.suggestionCommitMessage({file_paths:i.join(", "),suggestions_count:e,files_count:n});return r()(s)}},mounted(){this.renderGFM(),this.isEditing&&this.initAutoSave(this.note)},updated(){this.renderGFM(),this.isEditing&&(this.autosave?this.setAutoSave():this.initAutoSave(this.note))},methods:{...Object(u.c)(["submitSuggestion","submitSuggestionBatch","addSuggestionInfoToBatch","removeSuggestionInfoFromBatch"]),renderGFM(){d()(this.$refs["note-body"]).renderGFM()},handleFormUpdate(e,t,i,n){this.$emit("handleFormUpdate",{noteText:e,parentElement:t,callback:i,resolveDiscussion:n})},formCancelHandler(e,t){this.$emit("cancelForm",{shouldConfirm:e,isDirty:t})},applySuggestion(e){let{suggestionId:t,flashContainer:i,callback:n=function(){},message:s}=e;const{discussion_id:a,id:r}=this.note;return this.submitSuggestion({discussionId:a,noteId:r,suggestionId:t,flashContainer:i,message:s}).then(n)},applySuggestionBatch(e){let{message:t,flashContainer:i}=e;return this.submitSuggestionBatch({message:t,flashContainer:i})},addSuggestionToBatch(e){const{discussion_id:t,id:i}=this.note;this.addSuggestionInfoToBatch({suggestionId:e,discussionId:t,noteId:i})},removeSuggestionFromBatch(e){this.removeSuggestionInfoFromBatch(e)}},safeHtmlConfig:{ADD_TAGS:["use","gl-emoji","copy-code"]}},K=Object(L.a)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"note-body",staticClass:"note-body",class:{"js-task-list-container":e.canEdit}},[e.hasSuggestion&&!e.isEditing?i("suggestions",{attrs:{suggestions:e.note.suggestions,"suggestions-count":e.suggestionsCount,"batch-suggestions-info":e.batchSuggestionsInfo,"note-html":e.note.note_html,"line-type":e.lineType,"help-page-path":e.helpPagePath,"default-commit-message":e.commitMessage},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}):i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.note.note_html,expression:"note.note_html",arg:e.$options.safeHtmlConfig}],staticClass:"note-text md"}),e._v(" "),e.isEditing?i("note-form",{ref:"noteForm",attrs:{"is-editing":e.isEditing,"note-body":e.noteBody,"note-id":e.note.id,line:e.line,note:e.note,"help-page-path":e.helpPagePath,discussion:e.discussion,"resolve-discussion":e.note.resolve_discussion},on:{handleFormUpdate:e.handleFormUpdate,cancelForm:e.formCancelHandler}}):e._e(),e._v(" "),e.canEdit?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.note,expression:"note.note"}],staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.note.path,dir:"auto"},domProps:{value:e.note.note},on:{input:function(t){t.target.composing||e.$set(e.note,"note",t.target.value)}}}):e._e(),e._v(" "),e.note.last_edited_at?i("note-edited-text",{staticClass:"note_edited_ago",attrs:{"edited-at":e.note.last_edited_at,"edited-by":e.note.last_edited_by,"action-text":"Edited"}}):e._e(),e._v(" "),e.note.award_emoji&&e.note.award_emoji.length?i("note-awards-list",{attrs:{"note-id":e.note.id,"note-author-id":e.note.author.id,awards:e.note.award_emoji,"toggle-award-path":e.note.toggle_award_path,"can-award-emoji":e.note.current_user.can_award_emoji}}):e._e(),e._v(" "),e.note.attachment?i("note-attachment",{attrs:{attachment:e.note.attachment}}):e._e()],1)}),[],!1,null,null,null).exports,Q=i("dkhw"),Z={name:"NoteableNote",components:{GlSprintf:o.a,userAvatarLink:y.a,noteHeader:Q.a,noteActions:F,NoteBody:K,TimelineEntryItem:b.a},directives:{SafeHtml:l.a},mixins:[w.a,S.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},discussionFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},commit:{type:Object,required:!1,default:function(){return null}},showReplyButton:{type:Boolean,required:!1,default:!1},diffLines:{type:Array,required:!1,default:null},discussionRoot:{type:Boolean,required:!1,default:!1},discussionResolvePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1}},data:()=>({isEditing:!1,isDeleting:!1,isRequesting:!1,isResolving:!1,commentLineStart:{},resolveAsThread:!0}),computed:{...Object(u.d)("diffs",["getDiffFileByHash"]),...Object(u.d)(["targetNoteHash","getNoteableData","getUserData","commentsDisabled"]),author(){return this.note.author},classNameBindings(){return{[`note-row-${this.note.id}`]:!0,"is-editing":this.isEditing&&!this.isRequesting,"is-requesting being-posted":this.isRequesting,"disabled-content":this.isDeleting,target:this.isTarget,"is-editable":this.note.current_user.can_edit}},canReportAsAbuse(){return Boolean(this.note.report_abuse_path)&&this.author.id!==this.getUserData.id},noteAnchorId(){return`note_${this.note.id}`},isTarget(){return this.targetNoteHash===this.noteAnchorId},discussionId(){return this.discussion?this.discussion.id:""},actionText(){if(!this.commit)return"";const{id:e,url:t}=this.commit,i=`<a class="commit-sha monospace" href="${r()(t)}">${Object(g.w)(e)}</a>`;return Object(v.h)(Object(v.g)("MergeRequests|commented on commit %{commitLink}"),{commitLink:i},!1)},isDraft(){return this.note.isDraft},canResolve(){return!!this.discussionRoot&&this.note.current_user.can_resolve_discussion},lineRange(){var e;return null===(e=this.note.position)||void 0===e?void 0:e.line_range},startLineNumber(){return Object(O.f)(this.lineRange)},endLineNumber(){return Object(O.d)(this.lineRange)},showMultiLineComment(){return!(!this.discussionRoot||0===this.startLineNumber.length||0===this.endLineNumber.length)&&(this.line&&this.startLineNumber!==this.endLineNumber)},commentLineOptions(){const e=this.diffFile[h.D].length;return Object(O.a)(e,this.commentLineStart,this.line.line_code)},diffFile(){let e;if(this.commentLineStart.line_code){const t=this.commentLineStart.line_code.split("_")[0];e=this.getDiffFileByHash(t)}return!e&&this.discussionFile&&(e=this.discussionFile),e||null},avatarSize(){return this.line&&!this.isOverviewTab?24:40}},created(){var e,t,i=this;const n=(null===(e=this.note.position)||void 0===e?void 0:null===(t=e.line_range)||void 0===t?void 0:t.start)||this.line;this.commentLineStart=n?{line_code:n.line_code,type:n.type,old_line:n.old_line,new_line:n.new_line}:{},_.a.$on("enterEditMode",(function(e){let{noteId:t}=e;t===i.note.id&&(i.isEditing=!0,i.setSelectedCommentPositionHover(),i.scrollToNoteIfNeeded(d()(i.$el)))}))},mounted(){this.isTarget&&this.scrollToNoteIfNeeded(d()(this.$el))},methods:{...Object(u.c)(["deleteNote","removeNote","updateNote","toggleResolveNote","scrollToNoteIfNeeded","updateAssignees","setSelectedCommentPositionHover","updateDiscussionPosition"]),editHandler(){this.isEditing=!0,this.setSelectedCommentPositionHover(),this.$emit("handleEdit")},async deleteHandler(){var e=this;const t=this.note.isDraft?Object(v.a)("pending comment"):Object(v.a)("comment"),i=Object(v.h)(Object(v.a)("Are you sure you want to delete this %{typeOfComment}?"),{typeOfComment:t});if(await Object(p.a)(i,{primaryBtnVariant:"danger",primaryBtnText:Object(v.a)("Delete Comment")})){if(this.isDeleting=!0,this.$emit("handleDeleteNote",this.note),this.note.isDraft)return;this.deleteNote(this.note).then((function(){e.isDeleting=!1})).catch((function(){Object(f.f)({message:Object(v.a)("Something went wrong while deleting your note. Please try again.")}),e.isDeleting=!1}))}},updateSuccess(){this.isEditing=!1,this.isRequesting=!1,this.oldContent=null,d()(this.$refs.noteBody.$el).renderGFM(),this.$refs.noteBody.resetAutoSave(),this.$emit("updateSuccess")},formUpdateHandler(e){var t=this;let{noteText:i,callback:n,resolveDiscussion:a}=e;const r={...this.note.position};if(this.discussionRoot&&this.commentLineStart&&this.line&&(r.line_range=Object(O.b)(this.commentLineStart,this.line),this.updateDiscussionPosition({discussionId:this.note.discussion_id,position:r})),this.$emit("handleUpdateNote",{note:this.note,noteText:i,resolveDiscussion:a,position:r,callback:function(){return t.updateSuccess()}}),this.isDraft)return;const o={endpoint:this.note.path,note:{target_type:this.getNoteableData.targetType,target_id:this.note.noteable_id,note:{note:i}}};s()(r)||(o.note.note.position=JSON.stringify(r)),this.isRequesting=!0,this.oldContent=this.note.note_html,this.note.note_html=Object(k.a)(i),this.updateNote(o).then((function(){t.updateSuccess(),n()})).catch((function(e){e.status===m.a.GONE?(t.removeNote(t.note),t.updateSuccess(),n()):(t.isRequesting=!1,t.isEditing=!0,t.setSelectedCommentPositionHover(),t.$nextTick((function(){t.handleUpdateError(e),t.recoverNoteContent(i),n()})))}))},handleUpdateError(){const e=Object(v.a)("Something went wrong while editing your comment. Please try again.");Object(f.f)({message:e,parent:this.$el})},async formCancelHandler(e){let{shouldConfirm:t,isDirty:i}=e;if(t&&i){const e=Object(v.a)("Are you sure you want to cancel editing this comment?");if(!await Object(p.a)(e))return}this.$refs.noteBody.resetAutoSave(),this.oldContent&&(this.note.note_html=this.oldContent,this.oldContent=null),this.isEditing=!1,this.$emit("cancelForm")},recoverNoteContent(e){this.note.note=e;const{noteBody:t}=this.$refs;t&&(t.note.note=e)},getLineClasses:e=>Object(O.e)(e),assigneesUpdate(e){this.updateAssignees(e)}}},J=Object(L.a)(Z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-wrapper",class:e.classNameBindings,attrs:{id:e.noteAnchorId,"data-award-url":e.note.toggle_award_path,"data-note-id":e.note.id,"data-qa-selector":"noteable_note_container"}},[e.showMultiLineComment?i("div",{staticClass:"gl-mb-5 gl-text-gray-500 gl-border-gray-100 gl-border-b-solid gl-border-b-1 gl-pb-4",attrs:{"data-testid":"multiline-comment"}},[i("gl-sprintf",{attrs:{message:e.__("Comment on lines %{startLine} to %{endLine}")},scopedSlots:e._u([{key:"startLine",fn:function(){return[i("span",{class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]},proxy:!0},{key:"endLine",fn:function(){return[i("span",{class:e.getLineClasses(e.endLineNumber)},[e._v(e._s(e.endLineNumber))])]},proxy:!0}],null,!1,1413361638)})],1):e._e(),e._v(" "),i("div",{staticClass:"timeline-icon"},[i("user-avatar-link",{attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.author.name,"img-size":e.avatarSize,lazy:""},scopedSlots:e._u([{key:"avatar-badge",fn:function(){return[e._t("avatar-badge")]},proxy:!0}],null,!0)})],1),e._v(" "),i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"note-header"},[i("note-header",{attrs:{author:e.author,"created-at":e.note.created_at,"note-id":e.note.id,"is-confidential":e.note.confidential},scopedSlots:e._u([{key:"note-header-info",fn:function(){return[e._t("note-header-info")]},proxy:!0}],null,!0)},[e._v(" "),e.commit?i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionText,expression:"actionText"}]}):e.note.created_at?i("span",{staticClass:"d-none d-sm-inline"},[e._v("")]):e._e()]),e._v(" "),i("note-actions",{attrs:{author:e.author,"author-id":e.author.id,"note-id":e.note.id,"note-url":e.note.noteable_note_url,"access-level":e.note.human_access,"is-contributor":e.note.is_contributor,"is-author":e.note.is_noteable_author,"project-name":e.note.project_name,"noteable-type":e.note.noteable_type,"show-reply":e.showReplyButton,"can-edit":e.note.current_user.can_edit,"can-award-emoji":e.note.current_user.can_award_emoji,"can-delete":e.note.current_user.can_edit,"can-report-as-abuse":e.canReportAsAbuse,"can-resolve":e.canResolve,"report-abuse-path":e.note.report_abuse_path,resolvable:e.note.resolvable||e.note.isDraft,"is-resolved":e.note.resolved||e.note.resolve_discussion,"is-resolving":e.isResolving,"resolved-by":e.note.resolved_by,"is-draft":e.note.isDraft,"resolve-discussion":e.note.isDraft&&e.note.resolve_discussion,"discussion-id":e.discussionId,"award-path":e.note.toggle_award_path},on:{handleEdit:e.editHandler,handleDelete:e.deleteHandler,handleResolve:e.resolveHandler,startReplying:function(t){return e.$emit("startReplying")},updateAssignees:e.assigneesUpdate}})],1),e._v(" "),i("div",{staticClass:"timeline-discussion-body"},[e._t("discussion-resolved-text"),e._v(" "),i("note-body",{ref:"noteBody",attrs:{note:e.note,line:e.line,file:e.diffFile,"can-edit":e.note.current_user.can_edit,"is-editing":e.isEditing,"help-page-path":e.helpPagePath},on:{handleFormUpdate:e.formUpdateHandler,cancelForm:e.formCancelHandler}})],2)])])}),[],!1,null,null,null);t.a=J.exports},"6/mp":function(e,t,i){"use strict";i.d(t,"i",(function(){return s})),i.d(t,"p",(function(){return a})),i.d(t,"q",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"s",(function(){return d})),i.d(t,"r",(function(){return u})),i.d(t,"o",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return f})),i.d(t,"g",(function(){return m})),i.d(t,"h",(function(){return g})),i.d(t,"a",(function(){return b})),i.d(t,"k",(function(){return v})),i.d(t,"l",(function(){return y})),i.d(t,"j",(function(){return _})),i.d(t,"m",(function(){return w})),i.d(t,"n",(function(){return S}));var n=i("t9l/");const s={ISSUE:"issue",EPIC:"epic",MERGE_REQUEST:"merge_request"},a={BLOCKS:"blocks",IS_BLOCKED_BY:"is_blocked_by",RELATES_TO:"relates_to"},r={[a.RELATES_TO]:Object(n.a)("Relates to"),[a.BLOCKS]:Object(n.a)("Blocks"),[a.IS_BLOCKED_BY]:Object(n.a)("Is blocked by")},o={true:{[s.ISSUE]:Object(n.h)(Object(n.a)(" or %{emphasisStart}#issue id%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.EPIC]:Object(n.h)(Object(n.a)(" or %{emphasisStart}&epic id%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.MERGE_REQUEST]:Object(n.h)(Object(n.a)(" or %{emphasisStart}!merge request id%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1)},false:{[s.ISSUE]:"",[s.EPIC]:"",[s.MERGE_REQUEST]:Object(n.a)(" or references (e.g. path/to/project!merge_request_id)")}},l={[s.ISSUE]:Object(n.a)("Paste issue link"),[s.EPIC]:Object(n.a)("Paste epic link"),[s.MERGE_REQUEST]:Object(n.a)("Enter merge request URLs")},c={[s.ISSUE]:Object(n.a)("Paste confidential issue link"),[s.EPIC]:Object(n.a)("Paste confidential epic link"),[s.MERGE_REQUEST]:Object(n.a)("Enter merge request URLs")},d={[s.ISSUE]:Object(n.a)("An error occurred while removing issues."),[s.EPIC]:Object(n.a)("An error occurred while removing epics.")},u={[s.ISSUE]:Object(n.a)("We could not determine the path to remove the issue"),[s.EPIC]:Object(n.a)("We could not determine the path to remove the epic")},p={NOT_FOUND:"not_found",MAX_NUMBER_OF_CHILD_EPICS:"conflict"},h={[s.ISSUE]:Object(n.a)("Issue cannot be found."),[s.EPIC]:Object(n.a)("Epic cannot be found.")},f={[p.MAX_NUMBER_OF_CHILD_EPICS]:Object(n.a)("This epic already has the maximum number of child epics.")},m={[s.ISSUE]:"issues",[s.EPIC]:"epic"},g={[s.EPIC]:"qa-add-epics-button"},b={Epic:"&",Issue:"#"},v={[s.ISSUE]:Object(n.a)("Linked issues"),[s.EPIC]:Object(n.a)("Linked epics")},y={[s.ISSUE]:Object(n.a)("Read more about related issues"),[s.EPIC]:Object(n.a)("Read more about related epics")},_={[s.ISSUE]:Object(n.a)("Add a related issue"),[s.EPIC]:Object(n.a)("Add a related epic")},w={[s.ISSUE]:Object(n.a)("The current issue"),[s.EPIC]:Object(n.a)("The current epic")},S={[s.ISSUE]:Object(n.a)("the following issue(s)"),[s.EPIC]:Object(n.a)("the following epic(s)")}},"60/S":function(e,t,i){"use strict";var n=i("uJ0F"),s=i.n(n),a=i("Zi5e"),r=i("yYHy");var o={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0,required:!1},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:()=>({width:0,height:0,renderedWidth:0,renderedHeight:0}),computed:{fileSizeReadable(){return Object(a.h)(this.fileSize)},hasFileSize(){return this.fileSize>0},hasDimensions(){return this.width&&this.height},safePath(){return this.path.startsWith("blob:")?this.path:Object(r.g)(this.path)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted(){this.onImgLoad(),this.resizeThrottled=s()(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize(){var e=this;const{contentImg:t}=this.$refs;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.renderedWidth=t.clientWidth,e.renderedHeight=t.clientHeight,e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})})))}}},l=i("bPvS"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"image-viewer","data-qa-selector":"image_viewer_container"}},[i("div",{staticClass:"position-relative",class:e.innerCssClasses},[i("img",{ref:"contentImg",attrs:{src:e.safePath},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay",null,{renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})],2),e._v(" "),e.renderInfo?i("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v(" | ")]:e._e(),e._v(" "),e.hasDimensions?[i("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),i("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null);t.a=c.exports},"6HTq":function(e,t,i){"use strict";var n=i("34cr"),s=i("tSMP"),a=i("H8gz"),r=i("zLBL"),o=i("6IRw"),l=i.n(o);const c={components:{GlClearIconButton:n.a,GlIcon:a.a,GlFormInput:s.a,GlLoadingIcon:r.a},inheritAttrs:!1,model:{prop:"value",event:"input"},props:{value:{type:String,required:!1,default:""},clearButtonTitle:{type:String,required:!1,default:"Clear"},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},tooltipContainer:{required:!1,default:!1,validator:e=>!1===e||"string"==typeof e||e instanceof HTMLElement}},computed:{inputAttributes(){const e={type:"search",placeholder:"Search",...this.$attrs};return e["aria-label"]||(e["aria-label"]=e.placeholder),e},hasValue(){return Boolean(this.value.length)},inputListeners(){return{...this.$listeners,input:e=>{this.$emit("input",e)}}},showClearButton(){return this.hasValue&&!this.disabled}},methods:{clearInput(){this.$emit("input",""),this.focusInput()},focusInput(){this.$refs.input.$el.focus()}}};const d=l()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-search-box-by-type"},[i("gl-icon",{staticClass:"gl-search-box-by-type-search-icon",attrs:{name:"search"}}),e._v(" "),i("gl-form-input",e._g(e._b({ref:"input",staticClass:"gl-search-box-by-type-input",attrs:{value:e.value,disabled:e.disabled}},"gl-form-input",e.inputAttributes,!1),e.inputListeners)),e._v(" "),i("div",{staticClass:"gl-search-box-by-type-right-icons"},[e.isLoading?i("gl-loading-icon",{staticClass:"gl-search-box-by-type-loading-icon"}):e._e(),e._v(" "),e.showClearButton?i("gl-clear-icon-button",{staticClass:"gl-search-box-by-type-clear gl-clear-icon-button",attrs:{title:e.clearButtonTitle,"tooltip-container":e.tooltipContainer},on:{click:function(t){return t.stopPropagation(),e.clearInput(t)}}}):e._e()],1)],1)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},"6NJX":function(e,t,i){"use strict";var n=i("tXCq"),s=i("cqb2"),a=i("cuRJ"),r=i("yYHy"),o=i("t9l/"),l=i("6/mp"),c=i("+ZVz"),d={name:"AddIssuableForm",components:{GlFormGroup:n.a,GlFormRadioGroup:s.a,RelatedIssuableInput:c.a,GlButton:a.a},props:{inputValue:{type:String,required:!0},pendingReferences:{type:Array,required:!1,default:function(){return[]}},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},showCategorizedIssues:{type:Boolean,required:!1,default:!1},isSubmitting:{type:Boolean,required:!1,default:!1},pathIdSeparator:{type:String,required:!0},issuableType:{type:String,required:!1,default:l.i.ISSUE},hasError:{type:Boolean,required:!1,default:!1},itemAddFailureType:{type:String,required:!1,default:l.o.NOT_FOUND},itemAddFailureMessage:{type:String,required:!1,default:""},confidential:{type:Boolean,required:!1,default:!1},autoCompleteEpics:{type:Boolean,required:!1,default:!0},autoCompleteIssues:{type:Boolean,required:!1,default:!0}},data:()=>({linkedIssueType:l.p.RELATES_TO,linkedIssueTypes:[{text:Object(o.a)("relates to"),value:l.p.RELATES_TO},{text:Object(o.a)("blocks"),value:l.p.BLOCKS},{text:Object(o.a)("is blocked by"),value:l.p.IS_BLOCKED_BY}]}),computed:{isSubmitButtonDisabled(){return 0===this.inputValue.length&&0===this.pendingReferences.length||this.isSubmitting},addRelatedErrorMessage(){return this.itemAddFailureMessage?this.itemAddFailureMessage:this.itemAddFailureType===l.o.NOT_FOUND?l.b[this.issuableType]:l.c[this.itemAddFailureType]},transformedAutocompleteSources(){var e,t;return this.confidential&&null!==(e=this.autoCompleteSources)&&void 0!==e&&e.issues&&null!==(t=this.autoCompleteSources)&&void 0!==t&&t.epics?{...this.autoCompleteSources,issues:Object(r.z)({confidential_only:!0},this.autoCompleteSources.issues),epics:Object(r.z)({confidential_only:!0},this.autoCompleteSources.epics)}:this.autoCompleteSources},issuableCategoryHeaderText(){return l.m[this.issuableType]},issuableInputText(){return l.n[this.issuableType]}},methods:{onPendingIssuableRemoveRequest(e){this.$emit("pendingIssuableRemoveRequest",e)},onFormSubmit(){this.$emit("addIssuableFormSubmit",{pendingReferences:this.$refs.relatedIssuableInput.$refs.input.value,linkedIssueType:this.linkedIssueType})},onFormCancel(){this.$emit("addIssuableFormCancel")},onAddIssuableFormInput(e){this.$emit("addIssuableFormInput",e)},onAddIssuableFormBlur(e){this.$emit("addIssuableFormBlur",e)}}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{on:{submit:function(t){return t.preventDefault(),e.onFormSubmit(t)}}},[e.showCategorizedIssues?[i("gl-form-group",{staticClass:"mb-2",attrs:{label:e.issuableCategoryHeaderText,"label-for":"linked-issue-type-radio","label-class":"label-bold"}},[i("gl-form-radio-group",{attrs:{id:"linked-issue-type-radio",options:e.linkedIssueTypes,checked:e.linkedIssueType},model:{value:e.linkedIssueType,callback:function(t){e.linkedIssueType=t},expression:"linkedIssueType"}})],1),e._v(" "),i("p",{staticClass:"bold"},[e._v("\n      "+e._s(e.issuableInputText)+"\n    ")])]:e._e(),e._v(" "),i("related-issuable-input",{ref:"relatedIssuableInput",attrs:{"input-id":"add-related-issues-form-input",confidential:e.confidential,"focus-on-mount":!0,references:e.pendingReferences,"path-id-separator":e.pathIdSeparator,"input-value":e.inputValue,"auto-complete-sources":e.transformedAutocompleteSources,"auto-complete-options":{issues:e.autoCompleteIssues,epics:e.autoCompleteEpics},"issuable-type":e.issuableType},on:{pendingIssuableRemoveRequest:e.onPendingIssuableRemoveRequest,formCancel:e.onFormCancel,addIssuableFormBlur:e.onAddIssuableFormBlur,addIssuableFormInput:e.onAddIssuableFormInput}}),e._v(" "),e.hasError?i("p",{staticClass:"gl-field-error"},[e._v("\n    "+e._s(e.addRelatedErrorMessage)+"\n  ")]):e._e(),e._v(" "),i("div",{staticClass:"gl-mt-5 gl-clearfix"},[i("gl-button",{ref:"addButton",staticClass:"float-left",attrs:{category:"primary",variant:"confirm",disabled:e.isSubmitButtonDisabled,loading:e.isSubmitting,type:"submit","data-qa-selector":"add_issue_button"}},[e._v("\n      "+e._s(e.__("Add"))+"\n    ")]),e._v(" "),i("gl-button",{staticClass:"float-right",on:{click:e.onFormCancel}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1)],2)}),[],!1,null,null,null);t.a=p.exports},"6R2j":function(e,t,i){"use strict";var n=i("fBm9"),s=i("6IRw"),a=i.n(s);const{model:r}=n.a.options;const o={name:"GlFormRadio",components:{BFormRadio:n.a},inheritAttrs:!1,model:{prop:r.prop,event:r.event},props:{checked:{type:[String,Number,Boolean,Object],required:!1,default:!1}}};const l=a()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-radio",e._g(e._b({staticClass:"gl-form-radio",attrs:{checked:e.checked},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}},"b-form-radio",e.$attrs,!1),e.$listeners),[e._t("default"),e._v(" "),e.$scopedSlots.help?i("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},"6eiP":function(e,t,i){(function(t){!function(t){"use strict";var i={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||b.defaults,this.rules=i.normal,this.options.gfm&&(this.options.tables?this.rules=i.tables:this.rules=i.gfm)}i._label=/(?:\\[\[\]]|[^\[\]])+/,i._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,i.def=u(i.def).replace("label",i._label).replace("title",i._title).getRegex(),i.bullet=/(?:[*+-]|\d+\.)/,i.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,i.item=u(i.item,"gm").replace(/bull/g,i.bullet).getRegex(),i.list=u(i.list).replace(/bull/g,i.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+i.def.source+")").getRegex(),i._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",i.html=u(i.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,i._tag).getRegex(),i.paragraph=u(i.paragraph).replace("hr",i.hr).replace("heading",i.heading).replace("lheading",i.lheading).replace("tag","<"+i._tag).getRegex(),i.blockquote=u(i.blockquote).replace("paragraph",i.paragraph).getRegex(),i.normal=g({},i),i.gfm=g({},i.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),i.gfm.paragraph=u(i.paragraph).replace("(?!","(?!"+i.gfm.fences.source.replace("\\1","\\2")+"|"+i.list.source.replace("\\1","\\3")+"|").getRegex(),i.tables=g({},i.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=i,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,t){var n,s,a,r,o,l,c,d,u,p,h;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].split(/ *\| */);this.tokens.push(l)}else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),h=(r=a[2]).length>1,this.tokens.push({type:"list_start",ordered:h,start:h?+r:""}),n=!1,p=(a=a[0].match(this.rules.item)).length,d=0;d<p;d++)c=(l=a[d]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==p-1&&(r===(o=i.bullet.exec(a[d+1])[0])||r.length>1&&o.length>1||(e=a.slice(d+1).join("\n")+e,d=p-1)),s=n||/\n\n(?!\s*$)/.test(l),d!==p-1&&(n="\n"===l.charAt(l.length-1),s||(s=n)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(l,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),a[3]&&(a[3]=a[3].substring(1,a[3].length-1)),u=a[1].toLowerCase(),this.tokens.links[u]||(this.tokens.links[u]={href:a[2],title:a[3]});else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var s={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:m,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function a(e,t){if(this.options=t||b.defaults,this.links=e,this.rules=s.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=s.breaks:this.rules=s.gfm:this.options.pedantic&&(this.rules=s.pedantic)}function r(e){this.options=e||{}}function o(){}function l(e){this.tokens=[],this.token=null,this.options=e||b.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function c(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function u(e,t){return e=e.source,t=t||"",{replace:function(t,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,i),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return h[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?h[" "+e]=e+"/":h[" "+e]=e.replace(/[^/]*$/,"")),e=h[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}s._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,s._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,s.autolink=u(s.autolink).replace("scheme",s._scheme).replace("email",s._email).getRegex(),s._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,s._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,s.link=u(s.link).replace("inside",s._inside).replace("href",s._href).getRegex(),s.reflink=u(s.reflink).replace("inside",s._inside).getRegex(),s.normal=g({},s),s.pedantic=g({},s.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),s.gfm=g({},s.normal,{escape:u(s.escape).replace("])","~|])").getRegex(),url:u(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",s._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(s.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),s.breaks=g({},s.gfm,{br:u(s.br).replace("{2,}","*").getRegex(),text:u(s.gfm.text).replace("{2,}","*").getRegex()}),a.rules=s,a.output=function(e,t,i){return new a(t,i).output(e)},a.prototype.output=function(e){for(var t,i,n,s,a="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),a+=s[1];else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),n="@"===s[2]?"mailto:"+(i=c(this.mangle(s[1]))):i=c(s[1]),a+=this.renderer.link(n,null,i);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):c(s[0]):s[0];else if(s=this.rules.link.exec(e))e=e.substring(s[0].length),this.inLink=!0,a+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),a+=this.renderer.strong(this.output(s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),a+=this.renderer.em(this.output(s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),a+=this.renderer.codespan(c(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),a+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),a+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),a+=this.renderer.text(c(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else s[0]=this.rules._backpedal.exec(s[0])[0],e=e.substring(s[0].length),"@"===s[2]?n="mailto:"+(i=c(s[0])):(i=c(s[0]),n="www."===s[1]?"http://"+i:i),a+=this.renderer.link(n,null,i);return a},a.prototype.outputLink=function(e,t){var i=c(t.href),n=t.title?c(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,c(e[1]))},a.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},a.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",n=e.length,s=0;s<n;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},r.prototype.code=function(e,t,i){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(i=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+c(t,!0)+'">'+(i?e:c(e,!0))+"\n</code></pre>\n":"<pre><code>"+(i?e:c(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(d(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return i}this.options.baseUrl&&!f.test(e)&&(e=p(this.options.baseUrl,e));var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+i+"</a>"},r.prototype.image=function(e,t,i){this.options.baseUrl&&!f.test(e)&&(e=p(this.options.baseUrl,e));var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,i){return""+i},o.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new a(e.links,this.options),this.inlineText=new a(e.links,g({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop()},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,n,s="",a="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(s+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",n=0;n<t.length;n++)i+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});a+=this.renderer.tablerow(i)}return this.renderer.table(s,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":a="";for(var r=this.token.ordered,o=this.token.start;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,r,o);case"list_item_start":for(a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var h={},f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function g(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function b(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof t){i||(i=t,t=null);var s,a,r=(t=g({},b.defaults,t||{})).highlight,o=0;try{s=n.lex(e,t)}catch(e){return i(e)}a=s.length;var d=function(e){if(e)return t.highlight=r,i(e);var n;try{n=l.parse(s,t)}catch(t){e=t}return t.highlight=r,e?i(e):i(null,n)};if(!r||r.length<3)return d();if(delete t.highlight,!a)return d();for(;o<s.length;o++)!function(e){"code"!==e.type?--a||d():r(e.text,e.lang,(function(t,i){return t?d(t):null==i||i===e.text?--a||d():(e.text=i,e.escaped=!0,void(--a||d()))}))}(s[o])}else try{return t&&(t=g({},b.defaults,t)),l.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||b.defaults).silent)return"<p>An error occurred:</p><pre>"+c(e.message+"",!0)+"</pre>";throw e}}m.exec=m,b.options=b.setOptions=function(e){return g(b.defaults,e),b},b.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1,baseUrl:null},b.Parser=l,b.parser=l.parse,b.Renderer=r,b.TextRenderer=o,b.Lexer=n,b.lexer=n.lex,b.InlineLexer=a,b.inlineLexer=a.output,b.parse=b,e.exports=b}(this||"undefined"!=typeof window&&window)}).call(this,i("uE4I"))},"6jeL":function(e,t,i){!function(t){"use strict";var i=-1,n={onVisible:function(e){var t=n.isSupported();if(!t||!n.hidden())return e(),t;var i=n.change((function(t,s){n.hidden()||(n.unbind(i),e())}));return i},change:function(e){if(!n.isSupported())return!1;var t=i+=1;return n._callbacks[t]=e,n._listen(),t},unbind:function(e){delete n._callbacks[e]},afterPrerendering:function(e){var t=n.isSupported();if(!t||"prerender"!=n.state())return e(),t;var i=n.change((function(t,s){"prerender"!=s&&(n.unbind(i),e())}));return i},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=n.state();for(var i in n._callbacks)n._callbacks[i].call(n._doc,e,t)},_listen:function(){if(!n._init){var e="visibilitychange";n._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(e,t):n._doc.attachEvent(e,t),n._init=!0}}};e.exports?e.exports=n:t.Visibility=n}(this)},"6zJf":function(e,t,i){"use strict";var n={components:{GlIcon:i("H8gz").a},props:{severity:{type:Object,required:!0,validator(e){const{value:t,label:i,icon:n}=e;return t&&i&&n}},iconSize:{type:Number,required:!1,default:12},iconOnly:{type:Boolean,required:!1,default:!1}}},s=i("bPvS"),a=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"incident-severity gl-display-inline-flex gl-align-items-center gl-justify-content-between"},[i("gl-icon",{class:["icon-"+e.severity.icon,{"gl-mr-3":!e.iconOnly}],attrs:{size:e.iconSize,name:"severity-"+e.severity.icon}}),e._v(" "),e.iconOnly?e._e():i("span",[e._v(e._s(e.severity.label))])],1)}),[],!1,null,null,null);t.a=a.exports},"75go":function(e,t,i){"use strict";var n={name:"UserAccessRoleBadge",components:{GlBadge:i("F+K/").a}},s=i("bPvS"),a=Object(s.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("gl-badge",{staticClass:"gl-bg-transparent! gl-inset-border-1-gray-100!"},[this._t("default")],2)}),[],!1,null,null,null);t.a=a.exports},"7Le0":function(e,t,i){var n=i("C5ZB"),s=i("cgqb"),a="[object Set]";e.exports=function(e){return s(e)&&n(e)==a}},"7k8s":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"g",(function(){return d})),i.d(t,"h",(function(){return u})),i.d(t,"i",(function(){return p})),i.d(t,"j",(function(){return h}));var n=i("t9l/");const s="incident",a="issues/incident",r="CLOSE",o="REOPEN",l="issues",c=Object(n.a)("Join Zoom meeting"),d=2e3,u=Object(n.a)("Published on status page"),p=[{value:"issue",text:Object(n.a)("Issue"),icon:"issue-type-issue"},{value:"incident",text:Object(n.a)("Incident"),icon:"issue-type-incident"}],h={issueType:void 0,isDirty:!1}},"7pkS":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={"Content-Type":"multipart/form-data"}},"87TT":function(e,t){var i=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return i.test(e)}},"8KL1":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return a}));const n="issuable_vue_app:change",s={issues:"issues",mergeRequests:"merge-requests"},a={ISSUE:"issue_",MERGE_REQUEST:"merge_request_"}},"8RVS":function(e,t,i){"use strict";var n=i("1HOK"),s=i("Uaqt");const a={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},r={twoup:"twoup",swipe:"swipe",onion:"onion"};var o={components:{DownloadViewer:s.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:a},l=i("bPvS"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file-container"},[i("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?i("div",{staticClass:"two-up view row"},[i("div",{staticClass:"col-sm-6 deleted"},[i("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),i("div",{staticClass:"col-sm-6 added"},[i("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?i("div",{staticClass:"added"},[i("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):i("div",{staticClass:"deleted"},[i("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])}),[],!1,null,null,null).exports,d=i("60/S");function u(e){return e?`${e}px`:""}var p={components:{ImageViewer:d.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}),computed:{onionMaxPixelWidth(){return u(this.onionMaxWidth)},onionMaxPixelHeight(){return u(this.onionMaxHeight)},onionDraggerPixelPos(){return u(this.onionDraggerPos)}},beforeDestroy(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove(e){if(!this.dragging)return;const t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,i=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100;let n=t;n<0&&(n=0),n>i&&(n=i),this.onionOpacity=t/i,this.onionDraggerPos=n},startDrag(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},h=Object(l.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"onion-skin view"},[i("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[i("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[i("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),i("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[i("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)})],1),e._v(" "),i("div",{staticClass:"controls"},[i("div",{staticClass:"transparent"}),e._v(" "),i("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[i("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),i("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,f=i("uJ0F"),m=i.n(f),g={components:{ImageViewer:d.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}),computed:{swipeMaxPixelWidth(){return u(this.swipeMaxWidth)},swipeMaxPixelHeight(){return u(this.swipeMaxHeight)},swipeWrapPixelWidth(){return u(this.swipeWrapWidth)},swipeBarPixelPos(){return u(this.swipeBarPos)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove(e){if(!this.dragging)return;let t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left;const{clientWidth:i}=this.$refs.swipeFrame;t<=0?t=0:t>i&&(t=i),this.swipeWrapWidth=t/i*100,this.swipeBarPos=t},startDrag(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:m()((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},b=Object(l.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"swipe view"},[i("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[i("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),i("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[i("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)})],1),e._v(" "),i("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[i("span",{staticClass:"top-handle"}),e._v(" "),i("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,v={components:{ImageViewer:d.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}}},y=Object(l.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"two-up view d-flex"},[i("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.oldPath,"file-size":e.oldSize,"render-info":!0,"inner-css-classes":"frame deleted"}}),e._v(" "),i("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.newPath,"file-size":e.newSize,"render-info":!0,"inner-css-classes":["frame","added"]},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)})],1)}),[],!1,null,null,null).exports,_={components:{ImageViewer:d.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}},data:()=>({mode:r.twoup}),computed:{imageViewComponent(){switch(this.mode){case r.twoup:return y;case r.swipe:return b;case r.onion:return h;default:return}},isNew(){return this.diffMode===a.new},isRenamed(){return this.diffMode===a.renamed},imagePath(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode(e){this.mode=e}},diffModes:a,imageViewMode:r},w=Object(l.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?i("div",{staticClass:"diff-viewer"},[i("div",{staticClass:"image js-replaced-image"},[i(e.imageViewComponent,e._b({tag:"component",scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)},"component",e.$props,!1))],1),e._v(" "),i("div",{staticClass:"view-modes"},[i("ul",{staticClass:"view-modes-menu"},[i("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),i("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),i("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):i("div",{staticClass:"diff-viewer"},[i("div",{staticClass:"image"},[i("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]},scopedSlots:e._u([e.isNew||e.isRenamed?{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}:null],null,!0)})],1)])])}),[],!1,null,null,null).exports,S=i("t9l/"),k={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText(){return Object(S.h)(Object(S.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},O=Object(l.a)(k,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])}),[],!1,null,null,null).exports,T=i("Q04j"),j=i("u1ru"),C=i("zLBL"),E=i("nPFI"),I=i("CkNe"),x=i("yZaS"),D=i("vRHk"),P={STATE_LOADING:x.bb,STATE_ERRORED:x.Z,TRANSITIONS:x.X,uiText:{showLink:Object(S.a)("Show file contents"),commitLink:Object(S.a)("View file @ %{commitSha}"),description:Object(S.a)("File renamed with no changes."),loadError:Object(S.a)("Unable to load file contents. Try again later.")},components:{GlAlert:T.a,GlLink:j.a,GlLoadingIcon:C.a,GlSprintf:E.a},props:{diffFile:{type:Object,required:!0}},data:()=>({state:x.ab}),computed:{shortSha(){return Object(D.w)(this.diffFile.content_sha)},canLoadFullDiff(){return"text"===this.diffFile.alternate_viewer.name}},methods:{...Object(I.c)("diffs",["switchToFullDiffFromRenamedFile"]),transition(e){const t=`${this.state}:${e}`;this.$options.TRANSITIONS[t]&&(this.state=this.$options.TRANSITIONS[t])},is(e){return this.state===e},switchToFull(){var e=this;this.transition(x.rb),this.switchToFullDiffFromRenamedFile({diffFile:this.diffFile}).then((function(){e.transition(x.sb)})).catch((function(){e.transition(x.qb)}))},clickLink(e){this.canLoadFullDiff&&(e.preventDefault(),this.switchToFull())},dismissError(){this.transition(x.pb)}}},N=Object(l.a)(P,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nothing-here-block"},[e.is(e.$options.STATE_LOADING)?i("gl-loading-icon",{attrs:{size:"sm"}}):[i("gl-alert",{directives:[{name:"show",rawName:"v-show",value:e.is(e.$options.STATE_ERRORED),expression:"is($options.STATE_ERRORED)"}],staticClass:"gl-mb-5 gl-text-left",attrs:{variant:"danger"},on:{dismiss:e.dismissError}},[e._v(e._s(e.$options.uiText.loadError))]),e._v(" "),i("span",{attrs:{"test-id":"plaintext"}},[e._v(e._s(e.$options.uiText.description))]),e._v(" "),i("gl-link",{attrs:{href:e.diffFile.view_path},on:{click:e.clickLink}},[e.canLoadFullDiff?i("span",[e._v(e._s(e.$options.uiText.showLink))]):i("gl-sprintf",{attrs:{message:e.$options.uiText.commitLink},scopedSlots:e._u([{key:"commitSha",fn:function(){return[e._v(e._s(e.shortSha))]},proxy:!0}])})],1)]],2)}),[],!1,null,null,null).exports,A={props:{diffFile:{type:Object,required:!0},diffMode:{type:String,required:!0},diffViewerMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},oldSize:{type:Number,required:!1,default:0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer(){if(this.diffViewerMode===n.y.renamed)return N;if(this.diffMode===n.w.mode_changed)return O;if(!this.newPath)return null;switch(this.diffViewerMode){case n.y.image:return w;default:return c}},basePath(){return 0===this.projectPath.indexOf("/")?"":`${gon.relative_url_root}/`},fullOldPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.oldSha}/${this.oldPath}`},fullNewPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.newSha}/${this.newPath}`}}},R=Object(l.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.viewer?i("div",{staticClass:"diff-file preview-container"},[i(e.viewer,{tag:"component",attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"old-size":e.oldSize,"new-size":e.newSize,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)}),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=R.exports},"8sgC":function(e,t,i){"use strict";i.r(t);var n=i("q+hq"),s=i("c1kE"),a=i("eT5B"),r=i("rmDS"),o=i("DbLS"),l=i("uEqL");Object(s.c)(),Object(o.a)(a.a),Object(r.a)(),Object(n.b)(),Object(n.c)(),new l.a({className:"js-epics-sidebar-callout"}),new l.a({className:"js-weight-sidebar-callout"})},"9Wpt":function(e,t,i){"use strict";i.r(t);var n=i("iaMy"),s=i.n(n),a=i("H8gz"),r=i("OkMp"),o=i("6HTq"),l=i("nQy4"),c=i.n(l),d=i("8GQU"),u=i("mJX+"),p=i("JBkr"),h=i("vRHk"),f={props:{emojis:{type:Array,required:!0},renderGroup:{type:Boolean,required:!0},clickEmoji:{type:Function,required:!0}}},m=i("bPvS"),g=Object(m.a)(f,(function(e,t){var i=t._c;return i("div",{staticClass:"gl-display-flex gl-flex-wrap gl-mb-2"},[t.props.renderGroup?t._l(t.props.emojis,(function(e){return i("button",{key:e,staticClass:"gl-border-0 gl-bg-transparent gl-px-0 gl-py-2 gl-text-center emoji-picker-emoji",attrs:{type:"button","data-testid":"emoji-button"},on:{click:function(i){return t.props.clickEmoji(e)}}},[i("gl-emoji",{attrs:{"data-name":e}})],1)})):t._e()],2)}),[],!0,null,null,null).exports,b={components:{GlIntersectionObserver:p.a,EmojiGroup:g},props:{category:{type:String,required:!0},emojis:{type:Array,required:!0}},data:()=>({renderGroup:!1}),computed:{categoryTitle(){return Object(h.m)(this.category)}},methods:{categoryAppeared(){this.renderGroup=!0,this.$emit("appear",this.category)}}},v=Object(m.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-intersection-observer",{staticClass:"gl-px-5 gl-h-full",on:{appear:e.categoryAppeared}},[i("div",{staticClass:"gl-top-0 gl-py-3 gl-w-full gl-z-index-1 emoji-picker-category-header"},[i("b",[e._v(e._s(e.categoryTitle))])]),e._v(" "),e.emojis.length?e._l(e.emojis,(function(t,n){return i("emoji-group",{key:n,attrs:{emojis:t,"render-group":e.renderGroup,"click-emoji":function(t){return e.$emit("click",t)}}})})):i("p",[e._v("\n    "+e._s(e.s__("AwardEmoji|No emojis found."))+"\n  ")])],2)}),[],!1,null,null,null).exports,y=i("ceBC"),_=i.n(y),w=i("odnV"),S=i.n(w),k=i("odYa"),O=i.n(k),T=i("oj/M");const j=function(e){return e*u.f+u.d},C=function(){const e=Object(T.l)(u.g);if(!e)return null;const t=_()(S()(e.split(",")),9);return{frequently_used:{emojis:t,top:0,height:j(t.length)}}},E=O()((async function(){await Object(d.initEmojiMap)();const e=await Object(d.getEmojiCategoryMap)(),t=C();let i=t?t.frequently_used.top+t.frequently_used.height:0;return Object.freeze(Object.keys(e).filter((function(e){return e!==u.h})).reduce((function(t,n){const s=_()(e[n],u.e),a=j(s.length),r={...t,[n]:{emojis:s,height:a,top:i}};return i+=a,r}),t||{}))}));var I={props:{searchValue:{type:String,required:!0}},data:()=>({render:!1}),computed:{filteredCategories(){if(""!==this.searchValue){const e=_()(Object(d.searchEmoji)(this.searchValue).map((function(e){let{emoji:t}=e;return t.name})),u.e);return{search:{emojis:e,height:j(e.length)}}}return this.categories}},async mounted(){this.categories=await E(),this.render=!0}},x=Object(m.a)(I,(function(){var e=this.$createElement,t=this._self._c||e;return this.render?t("div",[this._t("default",null,{filteredCategories:this.filteredCategories})],2):this._e()}),[],!1,null,null,null).exports,D={components:{GlIcon:a.a,GlDropdown:r.a,GlSearchBoxByType:o.a,VirtualList:c.a,Category:v,EmojiList:x},props:{toggleClass:{type:[Array,String,Object],required:!1,default:function(){return[]}},dropdownClass:{type:[Array,String,Object],required:!1,default:function(){return[]}},right:{type:Boolean,required:!1,default:!0},boundary:{type:String,required:!1,default:""}},data:()=>({currentCategory:0,searchValue:""}),computed:{categoryNames:()=>d.CATEGORY_NAMES.filter((function(e){return e!==u.h||null!==C()})).map((function(e){return{name:e,icon:u.c[e]}}))},methods:{categoryAppeared(e){this.currentCategory=e},async scrollToCategory(e){const t=await E(),{top:i}=t[e];this.$refs.virtualScoller.setScrollTop(i)},selectEmoji(e){this.$emit("click",e),this.$refs.dropdown.hide(),function(e){const t=S()((Object(T.l)(u.g)||"").split(",").filter((function(e){return e})).concat(e));Object(T.P)(u.g,t.join(","))}(e)},getBoundaryElement(){return this.boundary||document.querySelector(".content-wrapper")||"scrollParent"},onSearchInput(){this.$refs.virtualScoller.setScrollTop(0),this.$refs.virtualScoller.forceRender()},async onScroll(e,t){let{offset:i}=t;const n=await E();this.currentCategory=s()(Object.values(n),(function(e){let{top:t}=e;return i>=t}))}}},P=Object(m.a)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"emoji-picker"},[i("gl-dropdown",{ref:"dropdown",class:e.dropdownClass,attrs:{"toggle-class":e.toggleClass,boundary:e.getBoundaryElement(),"menu-class":"dropdown-extended-height",category:"secondary","no-flip":"",right:e.right,lazy:""},on:{shown:function(t){return e.$emit("shown")},hidden:function(t){return e.$emit("hidden")}},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._t("button-content")]},proxy:!0}],null,!0)},[e._v(" "),i("gl-search-box-by-type",{staticClass:"gl-mx-5! gl-mb-2!",attrs:{autofocus:"",debounce:"500"},on:{input:e.onSearchInput},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchValue,expression:"!searchValue"}],staticClass:"gl-display-flex gl-mx-5 gl-border-b-solid gl-border-gray-100 gl-border-b-1"},e._l(e.categoryNames,(function(t,n){return i("button",{key:t.name,staticClass:"gl-border-0 gl-border-b-2 gl-border-b-solid gl-flex-grow-1 gl-text-gray-300 gl-pt-3 gl-pb-3 gl-bg-transparent emoji-picker-category-tab",class:{"gl-text-body! emoji-picker-category-active":n===e.currentCategory},attrs:{type:"button","aria-label":t.name},on:{click:function(i){return e.scrollToCategory(t.name)}}},[i("gl-icon",{attrs:{name:t.icon}})],1)})),0),e._v(" "),i("emoji-list",{attrs:{"search-value":e.searchValue},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.filteredCategories;return[i("virtual-list",{ref:"virtualScoller",attrs:{size:258,remain:1,bench:2,variable:"",onscroll:e.onScroll}},e._l(n,(function(t,n){return i("div",{key:n,style:{height:t.height+"px"}},[i("category",{attrs:{category:n,emojis:t.emojis},on:{click:e.selectEmoji}})],1)})),0)]}}])})],1)],1)}),[],!1,null,null,null);t.default=P.exports},"9ema":function(e,t,i){"use strict";var n=i("9LGn"),s=i("CkNe"),a=i("t9l/"),r={directives:{SafeHtml:n.a},computed:{...Object(s.d)(["getNotesDataByProp"]),registerLink(){return this.getNotesDataByProp("registerPath")},signInLink(){return this.getNotesDataByProp("newSessionPath")},signedOutText(){return Object(a.h)(Object(a.a)("Please %{startTagRegister}register%{endRegisterTag} or %{startTagSignIn}sign in%{endSignInTag} to reply"),{startTagRegister:`<a href="${this.registerLink}">`,startTagSignIn:`<a href="${this.signInLink}">`,endRegisterTag:"</a>",endSignInTag:"</a>"},!1)}}},o=i("bPvS"),l=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:this.signedOutText,expression:"signedOutText"}],staticClass:"disabled-comment text-center"})}),[],!1,null,null,null);t.a=l.exports},"9uTP":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("/Zha"),o=i("gCUY"),l=i("Sq3g"),c=i("mYXc"),d=i("s4Bd");function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f={id:{type:String,default:null},tag:{type:String,default:"div"},isText:{type:Boolean,default:!1}},m=n.a.extend({name:a.K,functional:!0,props:Object(o.c)(p(p({},f),{},{append:{type:Boolean,default:!1}}),a.K),render:function(e,t){var i=t.props,n=t.data,a=t.children;return e(i.tag,Object(s.a)(n,{class:{"input-group-append":i.append,"input-group-prepend":!i.append},attrs:{id:i.id}}),i.isText?[e(d.a,a)]:a)}});function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){v(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=n.a.extend({name:a.L,functional:!0,props:Object(o.c)(f,a.L),render:function(e,t){var i=t.props,n=t.data,a=t.children;return e(m,Object(s.a)(n,{props:b(b({},i),{},{append:!0})}),a)}});function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var k=n.a.extend({name:a.M,functional:!0,props:Object(o.c)(f,a.M),render:function(e,t){var i=t.props,n=t.data,a=t.children;return e(m,Object(s.a)(n,{props:w(w({},i),{},{append:!1})}),a)}});var O=Object(o.c)({id:{type:String},size:{type:String},prepend:{type:String},prependHtml:{type:String},append:{type:String},appendHtml:{type:String},tag:{type:String,default:"div"}},a.J),T=n.a.extend({name:a.J,functional:!0,props:O,render:function(e,t){var i=t.props,n=t.data,a=t.slots,o=t.scopedSlots,u=i.prepend,p=i.prependHtml,h=i.append,f=i.appendHtml,m=i.size,g=o||{},b=a(),v={},_=e(),w=Object(c.a)(r.g,g,b);(w||u||p)&&(_=e(k,[w?Object(c.b)(r.g,v,g,b):e(d.a,{domProps:Object(l.a)(p,u)})]));var S,O,T,j=e(),C=Object(c.a)(r.a,g,b);return(C||h||f)&&(j=e(y,[C?Object(c.b)(r.a,v,g,b):e(d.a,{domProps:Object(l.a)(f,h)})])),e(i.tag,Object(s.a)(n,{staticClass:"input-group",class:(S={},O="input-group-".concat(m),T=m,O in S?Object.defineProperty(S,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[O]=T,S),attrs:{id:i.id||null,role:"group"}}),[_,Object(c.b)(r.c,v,g,b),j])}}),j=i("/Jty"),C=i("OkMp"),E=i("0X+3");const I={props:{value:{type:[String,Number],default:""}},data(){return{localValue:this.stringifyValue(this.value)}},watch:{value(e){e!==this.localValue&&(this.localValue=this.stringifyValue(e))},localValue(e){e!==this.value&&this.$emit("input",e)}},mounted(){const e=this.stringifyValue(this.value);if(this.activeOption){const e=this.predefinedOptions.find(e=>e.name===this.activeOption);this.localValue=e.value}else e!==this.localValue&&(this.localValue=e)},methods:{stringifyValue:e=>null==e?"":String(e)}};var x=i("6IRw"),D=i.n(x);const P={name:"GlFormInputGroup",components:{BInputGroup:T,BInputGroupPrepend:k,BInputGroupAppend:y,BFormInput:j.a,GlDropdown:C.a,GlDropdownItem:E.a},mixins:[I],props:{selectOnClick:{type:Boolean,required:!1,default:!1},predefinedOptions:{type:Array,required:!1,default:()=>[{value:"",name:""}],validator:e=>e.every(e=>Object.keys(e).includes("name","value"))},label:{type:String,required:!1,default:void 0},inputClass:{type:[String,Array,Object],required:!1,default:""}},data(){return{activeOption:this.predefinedOptions&&this.predefinedOptions[0].name}},methods:{handleClick(){this.selectOnClick&&this.$refs.input.$el.select()},updateValue(e){const{name:t,value:i}=e;this.activeOption=t,this.localValue=i}}};const N=D()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-input-group",[e.activeOption||e.$scopedSlots.prepend?i("b-input-group-prepend",[e._t("prepend"),e._v(" "),e.activeOption?i("gl-dropdown",{attrs:{text:e.activeOption}},e._l(e.predefinedOptions,(function(t){return i("gl-dropdown-item",{key:t.value,attrs:{"is-check-item":"","is-checked":e.activeOption===t.name},on:{click:function(i){return e.updateValue(t)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),1):e._e()],2):e._e(),e._v(" "),e._t("default",[i("b-form-input",e._g(e._b({ref:"input",class:["gl-form-input",e.inputClass],attrs:{"aria-label":e.label},on:{click:e.handleClick},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"b-form-input",e.$attrs,!1),e.$listeners))]),e._v(" "),e.$scopedSlots.append?i("b-input-group-append",[e._t("append")],2):e._e()],2)],1)},staticRenderFns:[]},void 0,P,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=N},"A/xw":function(e,t,i){"use strict";var n=i("jyii"),s=i("ZVxY"),a=i("gCUY"),r=i("G55H"),o=i("ySPH"),l=i("ummR");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.a={inheritAttrs:!1,mixins:[l.a],provide:function(){return{bvTable:this}},props:Object(a.c)({striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!1},stickyHeader:{type:[Boolean,String],default:!1},noBorderCollapse:{type:Boolean,default:!1},captionTop:{type:Boolean,default:!1},tableVariant:{type:String},tableClass:{type:[String,Array,Object]}},n.ab),computed:{isResponsive:function(){var e=""===this.responsive||this.responsive;return!this.isStacked&&e},isStickyHeader:function(){var e=""===this.stickyHeader||this.stickyHeader;return!this.isStacked&&e},wrapperClasses:function(){return[this.isStickyHeader?"b-table-sticky-header":"",!0===this.isResponsive?"table-responsive":this.isResponsive?"table-responsive-".concat(this.responsive):""].filter(s.a)},wrapperStyles:function(){return this.isStickyHeader&&!Object(r.b)(this.isStickyHeader)?{maxHeight:this.isStickyHeader}:{}},tableClasses:function(){var e=this.isTableSimple?this.hover:this.hover&&this.computedItems.length>0&&!this.computedBusy;return[this.tableClass,{"table-striped":this.striped,"table-hover":e,"table-dark":this.dark,"table-bordered":this.bordered,"table-borderless":this.borderless,"table-sm":this.small,border:this.outlined,"b-table-fixed":this.fixed,"b-table-caption-top":this.captionTop,"b-table-no-border-collapse":this.noBorderCollapse},this.tableVariant?"".concat(this.dark?"bg":"table","-").concat(this.tableVariant):"",this.stackedTableClasses,this.selectableTableClasses]},tableAttrs:function(){var e=[(this.bvAttrs||{})["aria-describedby"],this.captionId].filter(s.a).join(" ")||null,t=this.computedItems,i=this.filteredItems,n=this.computedFields,a=this.selectableTableAttrs||{},r=this.isTableSimple?{}:{"aria-busy":this.computedBusy?"true":"false","aria-colcount":Object(o.e)(n.length),"aria-describedby":e};return d(d(d({"aria-rowcount":t&&i&&i.length>t.length?Object(o.e)(i.length):null},this.bvAttrs),{},{id:this.safeId(),role:"table"},r),a)}},render:function(e){var t=[];this.isTableSimple?t.push(this.normalizeSlot()):(t.push(this.renderCaption?this.renderCaption():null),t.push(this.renderColgroup?this.renderColgroup():null),t.push(this.renderThead?this.renderThead():null),t.push(this.renderTbody?this.renderTbody():null),t.push(this.renderTfoot?this.renderTfoot():null));var i=e("table",{key:"b-table",staticClass:"table b-table",class:this.tableClasses,attrs:this.tableAttrs},t.filter(s.a));return this.wrapperClasses.length>0?e("div",{key:"wrap",class:this.wrapperClasses,style:this.wrapperStyles},[i]):i}}},A1mw:function(e,t,i){"use strict";t.a={methods:{animateChange(){var e=this;this.preAnimation=!0,this.pulseAnimation=!1,setTimeout((function(){e.preAnimation=!1,e.pulseAnimation=!0}))}}}},A8Nj:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("t9l/");const s={GENERIC_UNSUBMITTABLE_NETWORK:Object(n.a)("Your comment could not be submitted! Please check your network connection and try again."),note:Object(n.a)("Note"),comment:Object(n.a)("Comment"),issue:Object(n.a)("issue"),startThread:Object(n.a)("Start thread"),mergeRequest:Object(n.a)("merge request"),epic:Object(n.a)("epic"),bodyPlaceholder:Object(n.a)("Write a comment or drag your files here"),confidential:Object(n.g)("Notes|Make this comment confidential"),confidentialVisibility:Object(n.g)("Notes|Confidential comments are only visible to members with the role of Reporter or higher"),discussionThatNeedsResolution:Object(n.a)("Discuss a specific suggestion or question that needs to be resolved."),discussion:Object(n.a)("Discuss a specific suggestion or question."),actionButtonWithNote:Object(n.a)("%{actionText} & %{openOrClose} %{noteable}"),actionButton:{withNote:{reopen:Object(n.a)("%{actionText} & reopen %{noteable}"),close:Object(n.a)("%{actionText} & close %{noteable}")},withoutNote:{reopen:Object(n.a)("Reopen %{noteable}"),close:Object(n.a)("Close %{noteable}")}},submitButton:{startThread:Object(n.a)("Start thread"),comment:Object(n.a)("Comment"),commentHelp:Object(n.a)("Add a general comment to this %{noteableDisplayName}.")}}},Ae6b:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("Z2pp"),s=i("jyii"),a=i("pW8f"),r=n.a.extend({name:s.hb,extends:a.a,computed:{tag:function(){return"th"}}})},Aiz4:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueState"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueState"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:42}};i.loc.source={body:"query issueState {\n  issueState @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issueState=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issueState")},AjOR:function(e,t,i){"use strict";i("Yvyq")},"B/kB":function(e,t,i){"use strict";var n=i("jyii"),s=i("gCUY"),a=i("cotN");t.a={props:Object(s.c)({footClone:{type:Boolean,default:!1},footVariant:{type:String},footRowVariant:{type:String},tfootClass:{type:[String,Array,Object]},tfootTrClass:{type:[String,Array,Object]}},n.ab),methods:{renderTFootCustom:function(){var e=this.$createElement;return this.hasNormalizedSlot("custom-foot")?e(a.a,{key:"bv-tfoot-custom",class:this.tfootClass||null,props:{footVariant:this.footVariant||this.headVariant||null}},this.normalizeSlot("custom-foot",{items:this.computedItems.slice(),fields:this.computedFields.slice(),columns:this.computedFields.length})):e()},renderTfoot:function(){return this.footClone?this.renderThead(!0):this.renderTFootCustom()}}}},B7Ow:function(e,t,i){"use strict";i.d(t,"a",(function(){return k})),i.d(t,"b",(function(){return O})),i.d(t,"c",(function(){return T})),i.d(t,"d",(function(){return j}));var n=i("r8JS"),s=i("q+nE"),a=i("49qB"),r=i("6oy4"),o=i.n(r),l=i("oj/M"),c=i("e+le"),d=i("r5Uk");class u{constructor(e){this.userSelect=new d.default(e),this.reviewersSelect=new d.default(e,".js-reviewer-search");const t=o()("select.select2");t.length&&i.e(871).then(i.t.bind(null,"adUV",7)).then((function(){Object(c.a)(gon.select2_css_path).then((function(){t.select2({width:"resolve",dropdownAutoWidth:!0})})).catch((function(){}))})).catch((function(){})),o()(".issuable-sidebar .inline-update").on("change","select",(function(){return o()(this).submit()})),o()(".issuable-sidebar .inline-update").on("change",".js-assignee",(function(){return o()(this).submit()})),o()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",(function(e){return e.preventDefault()})),o()(document).off("click",".edit-link").on("click",".edit-link",(function(e){e.preventDefault();const t=o()(this).parents(".block"),i=t.find(".selectbox");i.is(":visible")?(i.hide(),t.find(".value:not(.dont-hide)").show()):(i.show(),t.find(".value:not(.dont-hide)").hide()),i.is(":visible")&&setTimeout((function(){return t.find(".dropdown-menu-toggle").trigger("click")}),0)})),window.addEventListener("beforeunload",(function(){const e=a.b.getBreakpointSize();["xs","sm","md"].includes(e)&&Object(l.P)("collapsed_gutter",!0)}))}}var p=i("tQ82"),h=i("4stm"),f=i("0hEd"),m=i("3r2P"),g=i("H8gz"),b=i("ly/8"),v=i("CkNe"),y=i("t9l/"),_={components:{GlIcon:g.a},directives:{GlTooltip:b.a},inject:["hidden"],computed:{...Object(v.d)(["getNoteableData"]),isLocked(){return this.getNoteableData.discussion_locked},isConfidential(){return this.getNoteableData.confidential},warningIconsMeta(){return[{iconName:"lock",visible:this.isLocked,dataTestId:"locked"},{iconName:"eye-slash",visible:this.isConfidential,dataTestId:"confidential"},{iconName:"spam",visible:this.hidden,dataTestId:"hidden",tooltip:Object(y.a)("This issue is hidden because its author has been banned")}]}}},w=i("bPvS"),S=Object(w.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-inline-block"},[e._l(e.warningIconsMeta,(function(t){return[t.visible?i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:t.iconName,staticClass:"issuable-warning-icon inline",attrs:{"data-testid":t.dataTestId,title:t.tooltip||null}},[i("gl-icon",{staticClass:"icon",attrs:{name:t.iconName}})],1):e._e()]}))],2)}),[],!1,null,null,null).exports;function k(){const e=document.querySelector(".js-csv-import-export-buttons");if(!e)return null;const{showExportButton:t,showImportButton:i,issuableType:n,issuableCount:a,email:r,exportCsvPath:o,importCsvIssuesPath:c,containerClass:d,canEdit:u,projectImportJiraPath:p,maxAttachmentSize:h,showLabel:m}=e.dataset;return new s.default({el:e,name:"CsvImportExportButtonsRoot",provide:{showExportButton:Object(l.E)(t),showImportButton:Object(l.E)(i),issuableType:n,email:r,importCsvIssuesPath:c,containerClass:d,canEdit:Object(l.E)(u),projectImportJiraPath:p,maxAttachmentSize:h,showLabel:m},render:function(e){return e(f.a,{props:{exportCsvPath:o,issuableCount:parseInt(a,10)}})}})}function O(){const e=document.querySelector(".js-issuable-by-email");if(!e)return null;s.default.use(n.a);const{initialEmail:t,issuableType:i,emailsHelpPagePath:a,quickActionsHelpPath:r,markdownHelpPath:o,resetPath:l}=e.dataset;return new s.default({el:e,name:"IssuableByEmailRoot",provide:{initialEmail:t,issuableType:i,emailsHelpPagePath:a,quickActionsHelpPath:r,markdownHelpPath:o,resetPath:l},render:function(e){return e(m.a)}})}function T(e){const t=document.getElementById("js-issuable-header-warnings");if(!t)return null;const{hidden:i}=t.dataset;return new s.default({el:t,name:"IssuableHeaderWarningsRoot",store:e,provide:{hidden:Object(l.E)(i)},render:function(e){return e(S)}})}function j(){const e=document.querySelector(".js-sidebar-options");if(!e)return;const t=Object(h.getSidebarOptions)(e);new u(t.currentUser),p.a.initialize()}},BLrG:function(e,t,i){"use strict";var n=i("U1Ws");t.a={methods:{timeFormatted:e=>Object(n.B)().format(e),tooltipTitle:e=>Object(n.o)(e),durationTimeFormatted(e){const t=new Date(1e3*e);let i=t.getUTCHours(),n=t.getUTCMinutes(),s=t.getSeconds();return i<10&&(i=`0${i}`),n<10&&(n=`0${n}`),s<10&&(s=`0${s}`),`${i}:${n}:${s}`}}}},BXVB:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mergeRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mergeRequestIID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"mergeRequestIID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headPipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailedStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:332}};i.loc.source={body:"query mergeRequest($projectPath: ID!, $mergeRequestIID: String!) {\n  project(fullPath: $projectPath) {\n    id\n    mergeRequest(iid: $mergeRequestIID) {\n      id\n      title\n      createdAt\n      state\n      headPipeline {\n        id\n        detailedStatus {\n          id\n          icon\n          group\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.mergeRequest=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"mergeRequest")},CgKM:function(e,t,i){"use strict";var n=i("H8gz"),s=i("t9l/"),a={name:"DesignNotePin",components:{GlIcon:n.a},props:{position:{type:Object,required:!1,default:null},label:{type:Number,required:!1,default:null},isResolved:{type:Boolean,required:!1,default:!1},isInactive:{type:Boolean,required:!1,default:!1},isOnImage:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"md",validator:function(e){return["sm","md"].includes(e)}},ariaLabel:{type:String,required:!1,default:null}},computed:{isNewNote(){return null===this.label},pinLabel(){return this.ariaLabel?this.ariaLabel:this.isNewNote?Object(s.a)("Comment form position"):Object(s.h)(Object(s.a)("Comment '%{label}' position"),{label:this.label})}}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-center gl-font-sm",class:{"btn-transparent comment-indicator":e.isNewNote,"js-image-badge design-note-pin":!e.isNewNote,resolved:e.isResolved,inactive:e.isInactive,draft:e.isDraft,"on-image":e.isOnImage,"gl-absolute":e.position,small:"sm"===e.size},style:e.position,attrs:{"aria-label":e.pinLabel,type:"button"},on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseup:function(t){return e.$emit("mouseup",t)},click:function(t){return e.$emit("click",t)}}},[e.isNewNote?i("gl-icon",{attrs:{name:"image-comment-dark",size:24}}):[e._v("\n    "+e._s(e.label)+"\n  ")]],2)}),[],!1,null,null,null);t.a=o.exports},DNao:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WidgetBase"},directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTitleWidget"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentText"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:246}};n.loc.source={body:"#import './widget.fragment.graphql'\n\nquery WorkItem($id: ID!) {\n  workItem(id: $id) @client {\n    id\n    type\n    widgets {\n      nodes {\n        ...WidgetBase\n        ... on LocalTitleWidget {\n          contentText\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("y51o").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.WorkItem=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"WorkItem")},DbLS:function(e,t,i){"use strict";var n=i("q+nE"),s=i("EfTh"),a=i("mpzd"),r=i("oj/M"),o=i("me7P"),l=i("4stm"),c=(i("XmK6"),i("H8gz")),d=i("u1ru"),u=i("ly/8"),p=i("CkNe"),h=i("mcoW");var f=i("a6L4"),m={i18n:{...f.a},components:{GlIcon:c.a,GlLink:d.a},directives:{GlTooltip:u.a},inject:{iid:{required:!0,type:String},fullPath:{required:!0,type:String}},data:()=>({showHelp:!1}),computed:{...Object(p.f)({confidential:function(e){return e.noteableData.confidential}}),helpHref:()=>Object(h.a)("user/application_security/cve_id_request"),showHelpState(){return Boolean(this.showHelp)},tooltipTitle(){return this.$options.i18n.description},newCveIdRequestUrl(){const e=new URL(window.location.href),t=new URL(e.origin);t.pathname="/gitlab-org/cves/-/issues/new";const i={"issue[confidential]":"true","issue[title]":`CVE ID Request - ${this.fullPath}`,"issue[description]":(n=this.fullPath,s=this.iid,`### Vulnerability Submission\n\n**NOTE:** Only maintainers of GitLab-hosted projects may request a CVE for\na vulnerability within their project.\n\nProject issue: ${n}#${s}\n\n#### Publishing Schedule\n\nAfter a CVE request is validated, a CVE identifier will be assigned. On what\nschedule should the details of the CVE be published?\n\n* [ ] Publish immediately\n* [ ] Wait to publish\n\n\x3c!--\nPlease fill out the yaml codeblock below\n--\x3e\n\n\`\`\`yaml\nreporter:\n  name: "TODO" # "First Last"\n  email: "TODO" # "email@domain.tld"\nvulnerability:\n  description: "TODO" # "[VULNTYPE] in [COMPONENT] in [VENDOR][PRODUCT] [VERSION] allows [ATTACKER] to [IMPACT] via [VECTOR]"\n  cwe: "TODO" # "CWE-22" # Path Traversal\n  product:\n    gitlab_path: "${n}"\n    vendor: "TODO" # "Deluxe Sandwich Maker Company"\n    name: "TODO" # "Deluxe Sandwich Maker 2"\n    affected_versions:\n      - "TODO" # "1.2.3"\n      - "TODO" # ">1.3.0, <=1.3.9"\n    fixed_versions:\n      - "TODO" # "1.2.4"\n      - "TODO" # "1.3.10"\n  impact: "TODO" # "CVSS v3 string" # https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator\n  solution: "TODO" # "Upgrade to version 1.2.4 or 1.3.10"\n  credit: "TODO"\n  references:\n    - "TODO" # "https://some.domain.tld/a/reference"\n\`\`\`\n\nCVSS scores can be computed by means of the [NVD CVSS Calculator](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator).\n\n/relate ${n}#${s}\n/label ~"devops::secure" ~"group::vulnerability research" ~"vulnerability research::cve" ~"advisory::queued"\n  `)};var n,s;return Object.keys(i).forEach((function(e){return t.searchParams.append(e,i[e])})),t.toString()}},methods:{toggleHelpState(e){this.showHelp=e}}},g=i("bPvS"),b=Object(g.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.confidential?i("div",{staticClass:"sidebar-contained-width cve-id-request gl-pb-0 gl-border-b-0"},[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipTitle,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[i("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:"bug"}})],1),e._v(" "),i("div",{staticClass:"hide-collapsed"},[e._v("\n    "+e._s(e.$options.i18n.action)+"\n    "),e.showHelpState?i("div",{staticClass:"close-help-button float-right",attrs:{"data-testid":"close-help-button"},on:{click:function(t){return e.toggleHelpState(!1)}}},[i("gl-icon",{attrs:{name:"close"}})],1):i("div",{staticClass:"help-button float-right",attrs:{"data-testid":"help-button"},on:{click:function(t){return e.toggleHelpState(!0)}}},[i("gl-icon",{attrs:{name:"question-o"}})],1),e._v(" "),i("div",{staticClass:"gl-mt-5"},[i("gl-link",{staticClass:"btn btn-default btn-block js-cve-id-request-button",attrs:{href:e.newCveIdRequestUrl,target:"_blank","data-testid":"request-button","data-qa-selector":"cve_id_request_button"}},[e._v(e._s(e.$options.i18n.createRequest))])],1),e._v(" "),i("div",{staticClass:"hide-collapsed"},[i("transition",{attrs:{name:"help-state-toggle"}},[e.showHelpState?i("div",{staticClass:"cve-id-request-help-state",attrs:{"data-testid":"help-state"}},[i("h4",[e._v(e._s(e.$options.i18n.whyRequest))]),e._v(" "),i("p",[e._v("\n            "+e._s(e.$options.i18n.whyText1)+"\n          ")]),e._v(" "),i("p",[e._v("\n            "+e._s(e.$options.i18n.whyText2)+"\n          ")]),e._v(" "),i("div",[i("gl-link",{staticClass:"btn btn-default js-cve-id-request-learn-more-link",attrs:{href:e.helpHref,target:"_blank","data-qa-selector":"cve_id_request_learn_more_link"}},[e._v(e._s(e.$options.i18n.learnMore))])],1)]):e._e()])],1)])]):e._e()}),[],!1,null,null,null).exports,v=i("cVwi"),y=i("E6h1"),_=i("teVv"),w=i("t9l/"),S=i("toOR"),k=i("cuRJ"),O=i("zLBL"),T=i("OkMp"),j=i("0X+3"),C=i("OqKX"),E=i("mWeI"),I={directives:{GlTooltip:u.a},components:{GlIcon:c.a,GlButton:k.a,GlLoadingIcon:O.a,GlDropdown:T.a,GlDropdownItem:j.a,GlDropdownDivider:C.a},mixins:[E.a.mixin()],props:{isOpen:{type:Boolean,required:!1,default:!1},isEditable:{type:Boolean,required:!1,default:!1},isFetching:{type:Boolean,required:!1,default:!1},status:{type:String,required:!1,default:""}},data(){return{isDropdownShowing:!1,selectedStatus:this.status,statusOptions:Object.keys(f.n).map((function(e){return{key:e,value:f.n[e]}}))}},computed:{canRemoveStatus(){return this.isEditable&&this.status},statusText(){return this.status?f.n[this.status]:this.$options.i18n.noneText},dropdownText(){return this.status?f.n[this.status]:this.$options.i18n.selectPlaceholderText},statusTooltip(){let e=Object(w.g)("Sidebar|Health status");return this.status&&(e+=`: ${this.statusText}`),{title:e}},editTooltip(){return{title:this.isOpen?"":Object(w.a)("Health status cannot be edited because this issue is closed"),offset:-80}}},watch:{status(e){this.selectedStatus=e}},mounted(){document.addEventListener("click",this.handleOffClick)},beforeDestroy(){document.removeEventListener("click",this.handleOffClick)},methods:{handleDropdownClick(e){this.selectedStatus=e,this.$emit("onDropdownClick",e),this.track("change_health_status",{property:e}),this.hideDropdown()},hideDropdown(){this.isDropdownShowing=!1},toggleFormDropdown(){this.isDropdownShowing=!this.isDropdownShowing;const{dropdown:e}=this.$refs.dropdown.$refs;e&&!this.isDropdownShowing&&e.show()},removeStatus(){this.handleDropdownClick(null)},isSelected(e){return this.status===e},handleOffClick(e){this.isDropdownShowing&&(this.$refs.dropdown.$el.contains(e.target)||this.toggleFormDropdown())}},i18n:f.b},x={components:{Status:Object(g.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block health-status"},[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",value:e.statusTooltip,expression:"statusTooltip",modifiers:{left:!0,viewport:!0}}],ref:"status",staticClass:"sidebar-collapsed-icon"},[i("gl-icon",{attrs:{name:"status-health",size:14}}),e._v(" "),e.isFetching?i("gl-loading-icon",{attrs:{size:"sm"}}):i("p",{staticClass:"collapse-truncated-title gl-px-2"},[e._v(e._s(e.statusText))])],1),e._v(" "),i("div",{staticClass:"hide-collapsed"},[i("div",{staticClass:"gl-display-flex gl-justify-content-space-between gl-align-items-center gl-line-height-20 gl-mb-2 gl-text-gray-900"},[i("span",{attrs:{"data-testid":"statusTitle"}},[e._v(e._s(e.s__("Sidebar|Health status")))]),e._v(" "),e.isEditable?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.topleft",value:e.editTooltip,expression:"editTooltip",modifiers:{topleft:!0}}],attrs:{"data-testid":"editButtonTooltip",tabindex:"0"}},[i("gl-button",{ref:"editButton",staticClass:"edit-link btn-link-hover gl-text-gray-900!",attrs:{category:"tertiary",size:"small",disabled:!e.isOpen},on:{click:function(t){return t.stopPropagation(),e.toggleFormDropdown(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}}},[e._v("\n          "+e._s(e.__("Edit"))+"\n        ")])],1):e._e()]),e._v(" "),i("div",{staticClass:"dropdown",class:{show:e.isDropdownShowing,"gl-display-none":!e.isDropdownShowing},attrs:{"data-testid":"dropdownWrapper"}},[i("gl-dropdown",{ref:"dropdown",staticClass:"gl-w-full",attrs:{"header-text":e.$options.i18n.dropdownHeaderText,text:e.dropdownText},on:{hide:e.hideDropdown},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}}},[i("gl-dropdown-item",{attrs:{"is-check-item":!0,"is-checked":e.isSelected(null)},on:{click:function(t){return e.handleDropdownClick(null)}}},[e._v("\n          "+e._s(e.$options.i18n.noStatusText)+"\n        ")]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),e._l(e.statusOptions,(function(t){return i("gl-dropdown-item",{key:t.key,attrs:{"is-check-item":!0,"is-checked":e.isSelected(t.key)},on:{click:function(i){return e.handleDropdownClick(t.key)}}},[e._v("\n          "+e._s(t.value)+"\n        ")])}))],2)],1),e._v(" "),e.isFetching?i("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e.isDropdownShowing?e._e():i("p",{staticClass:"value gl-m-0",class:{"no-value":!e.status}},[e.status?i("span",{staticClass:"text-plain gl-font-weight-bold"},[e._v(e._s(e.statusText))]):i("span",[e._v(e._s(e.$options.i18n.noneText))])])],1)])}),[],!1,null,null,null).exports},props:{issuableType:{type:String,required:!0},iid:{type:String,required:!0},fullPath:{type:String,required:!0},canUpdate:{type:Boolean,required:!1,default:!1}},computed:{isOpen(){var e,t;return(null===(e=this.issuableData)||void 0===e?void 0:e.state)===S.OPENED||(null===(t=this.issuableData)||void 0===t?void 0:t.state)===S.REOPENED},isLoading(){return this.$apollo.queries.issuableData.loading},healthStatus(){var e;return null===(e=this.issuableData)||void 0===e?void 0:e.healthStatus}},apollo:{issuableData:{query(){return f.m[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,i,n,s;return{healthStatus:null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.healthStatus,state:null===(n=e.workspace)||void 0===n?void 0:null===(s=n.issuable)||void 0===s?void 0:s.state}},result(e){var t,i,n,s;let{data:a}=e;this.$emit("issuableData",{healthStatus:null===(t=a.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.healthStatus,state:null===(n=a.workspace)||void 0===n?void 0:null===(s=n.issuable)||void 0===s?void 0:s.state})},error(){Object(_.f)({message:Object(w.h)(Object(w.a)("Something went wrong while setting %{issuableType} health status."),{issuableType:this.issuableType})})}}},methods:{handleDropdownClick(e){var t=this;return this.$apollo.mutate({mutation:f.m[this.issuableType].mutation,variables:{projectPath:this.fullPath,iid:this.iid,healthStatus:e}}).then((function(){let{data:{updateIssue:e}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=null==e?void 0:e.errors[0];t&&Object(_.f)({message:t})})).catch((function(){Object(_.f)({message:Object(w.h)(Object(w.a)("Error occurred while updating the %{issuableType} status"),{issuableType:t.issuableType})})}))}}},D=Object(g.a)(x,(function(){var e=this.$createElement;return(this._self._c||e)("status",{attrs:{"is-open":this.isOpen,"is-editable":this.canUpdate,"is-fetching":this.isLoading,status:this.healthStatus},on:{onDropdownClick:this.handleDropdownClick}})}),[],!1,null,null,null).exports,P=i("5/LP"),N=i("yYHy");const A={title:Object(w.g)("IncidentManagement|Page your team with escalation policies"),detail:Object(w.g)("IncidentManagement|Use escalation policies to automatically page your team when incidents are created."),linkText:Object(w.a)("Learn more")},R={paged:Object(w.g)("IncidentManagement|Paged"),title:f.f,none:f.s};var L={POLICIES_PATH:Object(h.a)("operations/incident_management/escalation_policies.md"),i18n:A,components:{GlButton:k.a}},$=Object(g.a)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"help-state-toggle"}},[i("div",{staticClass:"sidebar-help-state gl-bg-white gl-border-gray-100 gl-border-t-solid gl-border-b-solid gl-border-1"},[i("div",[i("h4",[e._v(e._s(e.$options.i18n.title))]),e._v(" "),i("p",[e._v(e._s(e.$options.i18n.detail))]),e._v(" "),i("gl-button",{attrs:{href:e.$options.POLICIES_PATH}},[e._v(e._s(e.$options.i18n.linkText))])],1)])])}),[],!1,null,null,null).exports,q={i18n:R,directives:{GlTooltip:u.a},components:{GlIcon:c.a},props:{value:{type:String,required:!1,default:null}},computed:{policyText(){return this.value?this.$options.i18n.paged:this.$options.i18n.none},tooltipText(){const e=this.value||this.$options.i18n.none;return`${this.$options.i18n.title}: ${e}`}}},F=Object(g.a)(q,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.tooltipText,"data-testid":"sidebar-collapsed-attribute-title"}},[t("gl-icon",{attrs:{"aria-label":this.$options.i18n.title,name:"mobile"}}),this._v(" "),t("span",{staticClass:"collapse-truncated-title"},[this._v("\n    "+this._s(this.policyText)+"\n  ")])],1)}),[],!1,null,null,null).exports,B={i18n:R,components:{GlIcon:c.a,GlButton:k.a,EscalationPolicyCollapsedState:F,EscalationPolicyHelpState:$},data:()=>({showHelp:!1}),methods:{toggleHelpState(){this.showHelp=!this.showHelp}}},M=Object(g.a)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"escalation-policy-edit"}},[i("div",{staticClass:"hide-collapsed sidebar-help-wrap"},[i("div",{staticClass:"gl-line-height-2 gl-text-gray-900 gl-display-flex gl-align-items-center gl-mb-2"},[i("span",[e._v(e._s(e.$options.i18n.title))]),e._v(" "),i("gl-button",{staticClass:"gl-ml-auto",attrs:{"data-testid":e.showHelp?"close-help-button":"help-button",category:"tertiary",size:"small",variant:"link"},on:{click:e.toggleHelpState}},[i("gl-icon",{staticClass:"gl-text-gray-900!",attrs:{name:e.showHelp?"close":"question-o"}})],1)],1),e._v(" "),i("div",{staticClass:"hide-collapsed gl-line-height-14",attrs:{"data-testid":"select-escalation-policy"}},[i("span",{staticClass:"gl-text-gray-500"},[e._v("\n        "+e._s(e.$options.i18n.none)+"\n      ")])]),e._v(" "),e.showHelp?i("escalation-policy-help-state"):e._e()],1),e._v(" "),i("escalation-policy-collapsed-state")],1)}),[],!1,null,null,null).exports,U={INDEX_PATH:"-/escalation_policies",components:{SidebarDropdownWidget:y.a,EscalationPolicyCollapsedState:F,GlLink:d.a,EscalationPoliciesEmptyState:M},props:{projectPath:{required:!0,type:String},iid:{required:!0,type:String},escalationsPossible:{type:Boolean,required:!1,default:!0}},computed:{policiesPath(){return Object(N.y)(gon.relative_url_root||"/",this.projectPath,this.$options.INDEX_PATH)}},created(){this.issuableType=a.c.Issue,this.issuableAttribute=f.d.EscalationPolicy}},V=Object(g.a)(U,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.escalationsPossible?i("sidebar-dropdown-widget",{attrs:{"attr-workspace-path":e.projectPath,"workspace-path":e.projectPath,iid:e.iid,"issuable-type":e.issuableType,"issuable-attribute":e.issuableAttribute},scopedSlots:e._u([{key:"value-collapsed",fn:function(e){var t=e.currentAttribute;return[i("escalation-policy-collapsed-state",{attrs:{value:t&&t.title}})]}},{key:"value",fn:function(t){var n=t.attributeTitle;return[i("gl-link",{staticClass:"gl-text-gray-900! gl-font-weight-bold",attrs:{href:e.policiesPath}},[e._v("\n      "+e._s(n)+"\n    ")])]}}],null,!1,3549352494)}):i("escalation-policies-empty-state")}),[],!1,null,null,null).exports;n.default.use(s.default);const H=function(){const e=document.querySelector(".js-sidebar-weight-entry-point");if(!e)return!1;const{canEdit:t,projectPath:i,issueIid:s}=e.dataset;return new n.default({el:e,name:"SidebarWeightRoot",apolloProvider:o.a,components:{SidebarWeightWidget:P.default},provide:{canUpdate:Object(r.E)(t),isClassicSidebar:!0},render:function(e){return e("sidebar-weight-widget",{props:{fullPath:i,iid:s,issuableType:a.c.Issue}})}})},z=function(e){const t=document.querySelector(".js-sidebar-status-entry-point");if(!t)return!1;const{iid:i,fullPath:s,issuableType:a,canEdit:l}=t.dataset;return new n.default({el:t,name:"SidebarHealthStatusRoot",apolloProvider:o.a,store:e,components:{SidebarStatus:D},render:function(e){return e("sidebar-status",{props:{issuableType:a,iid:i,fullPath:s,canUpdate:Object(r.E)(l)}})}})};const{getSidebarOptions:G}=l;function W(e,t){l.mountSidebar(e,t),H(),z(t),function(){const e=document.querySelector("#js-vue-sidebar-item-epics-select");if(!e)return!1;const{groupPath:t,canEdit:i,projectPath:s,issueIid:l}=e.dataset;new n.default({el:e,name:"SidebarEpicRoot",apolloProvider:o.a,components:{SidebarDropdownWidget:y.a},provide:{canUpdate:Object(r.E)(i),isClassicSidebar:!0},render:function(e){return e("sidebar-dropdown-widget",{props:{attrWorkspacePath:t,workspacePath:s,iid:l,issuableType:a.c.Issue,issuableAttribute:f.d.Epic}})}})}(),function(){const e=document.querySelector(".js-iteration-select");if(!e)return!1;const{groupPath:t,canEdit:i,projectPath:s,issueIid:l}=e.dataset;new n.default({el:e,name:"SidebarIterationRoot",apolloProvider:o.a,provide:{canUpdate:Object(r.E)(i),isClassicSidebar:!0},render:function(e){return e(v.default,{props:{attrWorkspacePath:t,workspacePath:s,iid:l,issuableType:a.c.Issue,issuableAttribute:f.d.Iteration}})}})}(),function(){const e=document.querySelector("#js-escalation-policy");if(!e)return!1;const{canEdit:t,projectPath:i,issueIid:s,hasEscalationPolicies:a}=e.dataset;new n.default({el:e,name:"SidebarEscalationPolicyRoot",apolloProvider:o.a,components:{SidebarEscalationPolicy:V},provide:{canUpdate:Object(r.E)(t),isClassicSidebar:!0},render:function(e){return e("sidebar-escalation-policy",{props:{projectPath:i,iid:s,escalationsPossible:Object(r.E)(a)}})}})}(),function(e){const t=document.getElementById("js-sidebar-cve-id-request-entry-point");if(!t)return!1;const{iid:i,fullPath:s}=l.getSidebarOptions();new n.default({store:e,el:t,name:"SidebarCveIdRequestRoot",provide:{iid:String(i),fullPath:s},render:function(e){return e(b)}})}(t)}var Y=i("P8Ze");t.a=function(e){const t=new Y.a(G());t.fetch(),W(t,e)}},Dhtp:function(e,t,i){var n=i("8RB9"),s=i("LrAm");e.exports=function(e,t){return e&&n(t,s(t),e)}},"E4+D":function(e,t,i){"use strict";var n=i("ly/8"),s=i("QslC"),a=i("7S0r"),r=i("6IRw"),o=i.n(r);const l={POSITION:a.a,directives:{GlTooltip:n.a,GlResizeObserver:s.a},props:{text:{type:String,required:!0},position:{type:String,required:!1,default:a.a.END,validator:e=>Object.values(a.a).includes(e)},withTooltip:{type:Boolean,required:!1,default:!1}},data:()=>({isTruncated:!1}),computed:{middleIndex(){return Math.floor(this.text.length/2)},first(){return this.text.slice(0,this.middleIndex)},last(){return this.text.slice(this.middleIndex)},isTooltipDisabled(){return!this.withTooltip||!this.isTruncated}},watch:{withTooltip(e){e&&this.checkTruncationState()}},methods:{checkTruncationState(){this.withTooltip&&(this.isTruncated=this.$refs.text.scrollWidth>this.$refs.text.offsetWidth)}}};const c=o()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.position===e.$options.POSITION.START?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate",attrs:{title:e.text}},[i("span",{ref:"text",staticClass:"gl-truncate-start gl-text-overflow-ellipsis!"},[e._v(""+e._s(e.text)+"")])]):e.position===e.$options.POSITION.MIDDLE?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate",attrs:{title:e.text}},[i("span",{ref:"text",staticClass:"gl-truncate-end"},[e._v(e._s(e.first))]),i("span",{staticClass:"gl-truncate-start"},[e._v(""+e._s(e.last)+"")])]):i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate",attrs:{"data-testid":"truncate-end-container",title:e.text}},[i("span",{ref:"text",staticClass:"gl-truncate-end"},[e._v(e._s(e.text))])])},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},E5Fy:function(e,t,i){!function(t){"use strict";var n=-1,s=function(e){return e.every=function(t,i,s){e._time(),s||(s=i,i=null);var a=n+=1;return e._timers[a]={visible:t,hidden:i,callback:s},e._run(a,!1),e.isSupported()&&e._listen(),a},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(i,n){var s,a=e._timers[i];if(e.hidden()){if(null===a.hidden)return;s=a.hidden}else s=a.visible;var r=function(){a.last=new Date,a.callback.call(t)};if(n){var o=new Date-a.last;s>o?a.delay=setTimeout((function(){a.id=setInterval(r,s),r()}),s-o):(a.id=setInterval(r,s),r())}else a.id=setInterval(r,s)},e._stop=function(t){var i=e._timers[t];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},e._stopRun=function(t){var i=e.hidden(),n=e._wasHidden;if(i&&!n||!i&&n)for(var s in e._timers)e._stop(s),e._run(s,!i)},e};e.exports?e.exports=s(i("6jeL")):s(t.Visibility)}(window)},E6h1:function(e,t,i){"use strict";var n=i("t9l/"),s=i("/lks"),a=i("mpzd"),r=i("a6L4");const o={[r.d.Milestone]:Object(n.a)("Milestone"),[r.d.Iteration]:Object(n.a)("Iteration"),[r.d.Epic]:Object(n.a)("Epic"),[r.d.EscalationPolicy]:r.f,none:Object(n.a)("None"),expired:Object(n.a)("(expired)")};var l={components:{SidebarDropdownWidget:s.a},provide:{issuableAttributesQueries:r.o,widgetTitleText:o,issuableAttributesState:r.c},inheritAttrs:!1,props:{issuableAttribute:{type:String,required:!0,validator:e=>[r.d.Milestone,r.d.Iteration,r.d.Epic,r.d.EscalationPolicy].includes(e)},workspacePath:{required:!0,type:String},iid:{required:!0,type:String},attrWorkspacePath:{required:!0,type:String},issuableType:{type:String,required:!0,validator:e=>[a.c.Issue,a.c.MergeRequest].includes(e)},icon:{type:String,required:!1,default:void 0}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("sidebar-dropdown-widget",e._g(e._b({attrs:{icon:e.icon,"issuable-type":e.issuableType,"attr-workspace-path":e.attrWorkspacePath,"issuable-attribute":e.issuableAttribute,iid:e.iid,"workspace-path":e.workspacePath},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)},"sidebar-dropdown-widget",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null);t.a=d.exports},"EdB/":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("6oy4"),s=i.n(n),a=i("O6x3"),r=i.n(a),o=i("qzRy"),l=i("oj/M"),c=i("4zBw"),d=i("OwKD"),u=i("tQ82"),p=i("drCS"),h=i("uw3E"),f=i("79X9");class m extends f.default{constructor(){super(),r.a.bind(Object(h.ob)(h.I),(function(){return m.openSidebarDropdown("assignee")})),r.a.bind(Object(h.ob)(h.J),(function(){return m.openSidebarDropdown("milestone")})),r.a.bind(Object(h.ob)(h.E),(function(){return m.openSidebarDropdown("labels")})),r.a.bind(Object(h.ob)(h.F),m.replyWithSelectedText),r.a.bind(Object(h.ob)(h.G),m.editIssue),r.a.bind(Object(h.ob)(h.Q),m.copyBranchName)}static replyWithSelectedText(){const e=s()(".js-main-target-form .js-vue-comment-form");if(!e.length||e.is(":hidden"))return!1;const t=Object(l.o)(document.querySelector("#content-body"));if(!t)return e.focus(),!1;let i=Boolean(t.querySelector(".md"));if(!i&&(t.originalNodes&&t.originalNodes.forEach((function(e){let t=e;do{t.matches&&t.matches(".md")&&(i=!0),t=t.parentNode}while(t&&!i)})),!i))return e.focus(),!1;const n=p.a.transformGFMSelection(t.cloneNode(!0)),a=document.createElement("blockquote");return a.appendChild(n),p.a.nodeToGFM(a).then((function(t){if(""===t.trim())return!1;const i=""!==e.val().trim()?"\n\n":"";e.val((function(e,n){return`${n}${i}${t}\n\n`})).trigger("input").trigger("change");const n=document.createEvent("Event");return n.initEvent("autosize:update",!0,!1),e.get(0).dispatchEvent(n),e.focus(),!1})).catch((function(){})),!1}static editIssue(){return document.querySelector(".js-issuable-edit").click(),!1}static openSidebarDropdown(e){return u.a.instance.openDropdown(e),setTimeout((function(){(document.querySelector(`.block.${e} .shortcut-sidebar-dropdown-toggle`)||document.querySelector(`.block.${e} .edit-link`)).click()}),d.a),!1}static copyBranchName(){const e=Array.from(document.querySelectorAll(".js-sidebar-source-branch button")).find(c.f);e&&Object(o.d)(e)}}},EqYD:function(e,t,i){"use strict";i.d(t,"d",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"i",(function(){return u})),i.d(t,"g",(function(){return p})),i.d(t,"h",(function(){return h})),i.d(t,"a",(function(){return f})),i.d(t,"b",(function(){return m}));var n=i("t9l/");const s="minute",a="hour",r="day",o="120000",l="d mmm, yyyy",c="yyyy-mm-dd",d=[l,c],u=[{label:Object(n.a)("30 minutes"),duration:{seconds:1800},name:"thirtyMinutes",interval:s},{label:Object(n.a)("3 hours"),duration:{seconds:10800},name:"threeHours",interval:a},{label:Object(n.a)("8 hours"),duration:{seconds:28800},name:"eightHours",default:!0,interval:a},{label:Object(n.a)("1 day"),duration:{seconds:86400},name:"oneDay",interval:a},{label:Object(n.a)("3 days"),duration:{seconds:259200},name:"threeDays",interval:a},{label:Object(n.a)("7 days"),duration:{seconds:604800},name:"oneWeek",interval:r},{label:Object(n.a)("30 days"),duration:{seconds:2592e3},name:"oneMonth",interval:r}],p=u.find((function(e){return e.default})),h=function(e){return u.find((function(t){return t.name===e}))},f="circle",m="rect"},EtIY:function(e,t,i){"use strict";var n=i("u1ru"),s=i("6IRw"),a=i.n(s);const r={name:"AvatarLink",components:{GlLink:n.a}};const o=a()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-link",this._g(this._b({staticClass:"gl-avatar-link"},"gl-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},EwIz:function(e,t,i){var n=i("yLny"),s=i("+Yzj"),a=i("tjir");e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(s(e))}},FjhJ:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"promoteToEpic"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PromoteToEpicInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"promoteToEpic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};i.loc.source={body:"mutation promoteToEpic($input: PromoteToEpicInput!) {\n  promoteToEpic(input: $input) {\n    epic {\n      id\n      webPath\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.promoteToEpic=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"promoteToEpic")},FxM0:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r}));var n=i("U1Ws");const s="mmm d, yyyy";function a(e){let{startDate:t,dueDate:i}=e;return`${Object(n.o)(t,s,!0)} - ${Object(n.o)(i,s,!0)}`}function r(e){const t=[];return e.forEach((function(e){if(!e.iterationCadence)return;const{title:i}=e.iterationCadence,n={id:e.id,title:e.title,period:a(e)},s=t.find((function(e){return e.title===i}));s?s.iterations.push(n):t.push({title:i,iterations:[n]})})),t}},G7sT:function(e,t,i){var n=i("MfoV"),s=i("TkD4");e.exports=function(e){return s(n(e).toLowerCase())}},GZPK:function(e,t,i){"use strict";var n=i("ly/8"),s=i("t9l/"),a={components:{UserAvatarLink:i("4UPE").a},directives:{GlTooltip:n.a},props:{assignees:{type:Array,required:!0},iconSize:{type:Number,required:!1,default:24},imgCssClasses:{type:String,required:!1,default:""},maxVisible:{type:Number,required:!1,default:3}},data:()=>({maxAssignees:99}),computed:{assigneesToShow(){const e=this.assignees.length-this.numHiddenAssignees;return this.assignees.slice(0,e)},assigneesCounterTooltip(){return Object(s.h)(Object(s.a)("%{count} more assignees"),{count:this.numHiddenAssignees})},numHiddenAssignees(){return this.assignees.length>this.maxVisible?this.assignees.length-this.maxVisible+1:0},assigneeCounterLabel(){return this.numHiddenAssignees>this.maxAssignees?`${this.maxAssignees}+`:`+${this.numHiddenAssignees}`}},methods:{avatarUrlTitle:e=>Object(s.h)(Object(s.a)("Assigned to %{assigneeName}"),{assigneeName:e.name}),webUrl:e=>e.web_url||e.webUrl,avatarUrl:e=>e.avatar_url||e.avatarUrl}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.assigneesToShow,(function(t){return i("user-avatar-link",{key:t.id,staticClass:"js-no-trigger author-link",attrs:{"link-href":e.webUrl(t),"img-alt":e.avatarUrlTitle(t),"img-css-classes":e.imgCssClasses,"img-src":e.avatarUrl(t),"img-size":e.iconSize,"tooltip-placement":"bottom","data-qa-selector":"assignee_link"}},[i("span",{staticClass:"js-assignee-tooltip"},[i("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Assignee")))]),e._v(" "+e._s(t.name)+"\n      "),t.username?i("span",{staticClass:"text-white-50"},[e._v("@"+e._s(t.username))]):e._e()])])})),e._v(" "),e.numHiddenAssignees>0?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"avatar-counter",attrs:{title:e.assigneesCounterTooltip,"data-qa-selector":"avatar_counter_content"}},[e._v(e._s(e.assigneeCounterLabel))]):e._e()],2)}),[],!1,null,null,null);t.a=o.exports},GbPr:function(e,t){e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}},Gj7Q:function(e,t,i){"use strict";var n=i("9LGn"),s=i("CkNe"),a=i("ZYcg"),r=i("1jid"),o=i("4UPE"),l={name:"PlaceholderNote",directives:{SafeHtml:n.a},components:{userAvatarLink:o.a,TimelineEntryItem:r.a},props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},isOverviewTab:{type:Boolean,required:!1,default:!1}},computed:{...Object(s.d)(["getUserData"]),renderedNote(){return Object(a.a)(this.note.body)},avatarSize(){return this.line&&!this.isOverviewTab?24:40}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-wrapper being-posted fade-in-half"},[i("div",{staticClass:"timeline-icon"},[i("user-avatar-link",{attrs:{"link-href":e.getUserData.path,"img-src":e.getUserData.avatar_url,"img-size":e.avatarSize}})],1),e._v(" "),i("div",{ref:"note",staticClass:"timeline-content",class:{discussion:!e.note.individual_note}},[i("div",{staticClass:"note-header"},[i("div",{staticClass:"note-header-info"},[i("a",{attrs:{href:e.getUserData.path}},[i("span",{staticClass:"d-none d-sm-inline-block bold"},[e._v(e._s(e.getUserData.name))]),e._v(" "),i("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.getUserData.username))])])])]),e._v(" "),i("div",{staticClass:"note-body"},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.renderedNote,expression:"renderedNote"}],staticClass:"note-text md"})])])])}),[],!1,null,null,null);t.a=d.exports},Gr03:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d=Object(r.c)({id:{type:String},tag:{type:String,default:"header"},variant:{type:String}},a.p),u=n.a.extend({name:a.p,functional:!0,props:d,render:function(e,t){var i=t.props,n=t.data,a=t.children,r=n.attrs||{};return n.attrs={},e("li",Object(s.a)(n,{attrs:{role:"presentation"}}),[e(i.tag,{staticClass:"dropdown-header",class:c({},"text-".concat(i.variant),i.variant),attrs:l(l({},r),{},{id:i.id||null,role:"heading"}),ref:"header"},a)])}}),p=i("6IRw");const h={components:{BDropdownHeader:u},inheritAttrs:!1};const f=i.n(p)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-header",this._g(this._b({staticClass:"gl-new-dropdown-section-header"},"b-dropdown-header",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=f},GyXH:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("vP7+"),s=i.n(n),a=i("6oy4"),r=i.n(a),o=i("O6x3"),l=i.n(o),c=(i("7lWn"),i("oj/M"));s.a.autoDiscover=!1;class d{constructor(){var e=this;this.active_backdrop=null,this.active_textarea=null,r()(document).on("click",".js-zen-enter",(function(e){return e.preventDefault(),r()(e.currentTarget).trigger("zen_mode:enter")})),r()(document).on("click",".js-zen-leave",(function(e){return e.preventDefault(),r()(e.currentTarget).trigger("zen_mode:leave")})),r()(document).on("zen_mode:enter",(function(t){e.enter(r()(t.target).closest(".md-area").find(".zen-backdrop"))})),r()(document).on("zen_mode:leave",(function(){e.exit()})),r()(document).on("keydown",(function(e){if(27===e.keyCode)return e.preventDefault(),r()(document).trigger("zen_mode:leave")}))}enter(e){l.a.pause(),this.active_backdrop=r()(e),this.active_backdrop.addClass("fullscreen"),this.active_textarea=this.active_backdrop.find("textarea"),this.active_textarea.removeAttr("style"),this.active_textarea.focus()}exit(){if(this.active_textarea){l.a.unpause(),this.active_textarea.closest(".zen-backdrop").removeClass("fullscreen"),Object(c.M)(this.active_textarea,{duration:0,offset:-100}),this.active_textarea=null,this.active_backdrop=null;const e=r()(".div-dropzone");e&&!e.hasClass("js-invalid-dropzone")&&s.a.forElement(".div-dropzone").enable()}}}},HBPU:function(e,t,i){"use strict";var n=i("qx9o"),s=i("HTH9"),a=["TD","TH","TR"];t.a=function(e){if(!e||!e.target)return!1;var t=e.target;if(t.disabled||-1!==a.indexOf(t.tagName))return!1;if(Object(n.e)(".dropdown-menu",t))return!0;var i="LABEL"===t.tagName?t:Object(n.e)("label",t);if(i){var r=Object(n.h)(i,"for"),o=r?Object(n.j)(r):Object(n.C)("input, select, textarea",i);if(o&&!o.disabled)return!0}return Object(n.v)(t,s.a)}},HTH9:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}));var n={_rowVariant:!0,_cellVariants:!0,_showDetails:!0},s=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(",")},HiZ0:function(e,t,i){"use strict";var n=i("SYh6");t.a=Object(n.a)()},Hmw5:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("jyii"),a=i("ummR"),r=i("xNSq"),o=i("1pIC"),l=i("GpHn"),c=i("G55H"),d=i("N+rP"),u={methods:{renderBottomRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot("bottom-row")||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(d.a,{key:"b-bottom-row",staticClass:"b-table-bottom-row",class:[Object(c.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"row-bottom"):this.tbodyTrClass],attrs:Object(c.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-bottom"):this.tbodyTrAttr},this.normalizeSlot("bottom-row",{columns:t.length,fields:t}))}}},p=i("gCUY"),h=i("BhOj"),f=i("pW8f"),m={props:Object(p.c)({busy:{type:Boolean,default:!1}},s.ab),data:function(){return{localBusy:!1}},computed:{computedBusy:function(){return this.busy||this.localBusy}},watch:{localBusy:function(e,t){e!==t&&this.$emit("update:busy",e)}},methods:{stopIfBusy:function(e){return!!this.computedBusy&&(Object(h.d)(e),!0)},renderBusy:function(){var e=this.$createElement;return this.computedBusy&&this.hasNormalizedSlot("table-busy")?e(d.a,{key:"table-busy-slot",staticClass:"b-table-busy-slot",class:[Object(c.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"table-busy"):this.tbodyTrClass],attrs:Object(c.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"table-busy"):this.tbodyTrAttr},[e(f.a,{props:{colspan:this.computedFields.length||null}},[this.normalizeSlot("table-busy")])]):null}}},g=i("cyg/"),b=i("3OW0"),v=i("Sq3g"),y={props:Object(p.c)({showEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"There are no records to show"},emptyHtml:{type:String},emptyFilteredText:{type:String,default:"There are no records matching your request"},emptyFilteredHtml:{type:String}},s.ab),methods:{renderEmpty:function(){var e=this.$createElement,t=this.computedItems,i=e();if(this.showEmpty&&(!t||0===t.length)&&(!this.computedBusy||!this.hasNormalizedSlot("table-busy"))){var n=this.isFiltered,s=this.emptyText,a=this.emptyHtml,r=this.emptyFilteredText,o=this.emptyFilteredHtml,l=this.computedFields,u=this.tbodyTrClass,p=this.tbodyTrAttr;(i=this.normalizeSlot(this.isFiltered?"emptyfiltered":"empty",{emptyFilteredHtml:o,emptyFilteredText:r,emptyHtml:a,emptyText:s,fields:l,items:this.computedItems}))||(i=e("div",{class:["text-center","my-2"],domProps:n?Object(v.a)(o,r):Object(v.a)(a,s)})),i=e(f.a,{props:{colspan:l.length||null}},[e("div",{attrs:{role:"alert","aria-live":"polite"}},[i])]),i=e(d.a,{staticClass:"b-table-empty-row",class:[Object(c.e)(u)?this.tbodyTrClass(null,"row-empty"):u],attrs:Object(c.e)(p)?this.tbodyTrAttr(null,"row-empty"):p,key:n?"b-empty-filtered-row":"b-empty-row"},[i])}return i}}},_=i("pkvD"),w=i("BeO2"),S=i("ZVxY"),k=i("3XSL"),O=i("9CRu"),T=i("8Vyw"),j=i("ySPH"),C=i("iryQ"),E=i("9Q7u"),I=function e(t){return Object(c.o)(t)?"":Object(c.i)(t)&&!Object(c.c)(t)?Object(E.h)(t).sort().map((function(i){return e(t[i])})).filter((function(e){return!!e})).join(" "):Object(j.e)(t)},x=i("HTH9"),D=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=Object(E.h)(n).reduce((function(t,i){var s=n[i],a=s.filterByFormatted,r=Object(c.e)(a)?a:a?s.formatter:null;return Object(c.e)(r)&&(t[i]=r(e[i],i,e)),t}),Object(E.b)(e)),a=Object(E.h)(s).filter((function(e){return!(x.b[e]||Object(c.a)(t)&&t.length>0&&Object(O.a)(t,e)||Object(c.a)(i)&&i.length>0&&!Object(O.a)(i,e))}));return Object(E.k)(s,a)},P=function(e,t,i,n){return Object(c.i)(e)?I(D(e,t,i,n)):""},N='Prop "filter-debounce" is deprecated. Use the debounce feature of "<b-form-input>" instead.',A=Object(p.c)({filter:{type:[String,RegExp,Object,Array],default:null},filterFunction:{type:Function},filterIgnoredFields:{type:Array},filterIncludedFields:{type:Array},filterDebounce:{type:[Number,String],deprecated:N,default:0,validator:function(e){return/^\d+/.test(String(e))}}},s.ab),R={props:A,data:function(){return{isFiltered:!1,localFilter:this.filterSanitize(this.filter)}},computed:{computedFilterIgnored:function(){return Object(O.b)(this.filterIgnoredFields||[]).filter(S.a)},computedFilterIncluded:function(){return Object(O.b)(this.filterIncludedFields||[]).filter(S.a)},computedFilterDebounce:function(){var e=Object(T.c)(this.filterDebounce,0);return e>0&&Object(C.a)(N,s.ab),e},localFiltering:function(){return!this.hasProvider||!!this.noProviderFiltering},filteredCheck:function(){return{filteredItems:this.filteredItems,localItems:this.localItems,localFilter:this.localFilter}},localFilterFn:function(){var e=this.filterFunction;return e.name!==A.filterFunction.default.name?e:null},filteredItems:function(){var e=this.localItems||[],t=this.localFilter,i=this.localFiltering?this.filterFnFactory(this.localFilterFn,t)||this.defaultFilterFnFactory(t):null;return i&&e.length>0?e.filter(i):e}},watch:{computedFilterDebounce:function(e){!e&&this.$_filterTimer&&(this.clearFilterTimer(),this.localFilter=this.filterSanitize(this.filter))},filter:{deep:!0,handler:function(e){var t=this,i=this.computedFilterDebounce;this.clearFilterTimer(),i&&i>0?this.$_filterTimer=setTimeout((function(){t.localFilter=t.filterSanitize(e)}),i):this.localFilter=this.filterSanitize(e)}},filteredCheck:function(e){var t=e.filteredItems,i=e.localFilter,n=!1;i?Object(k.a)(i,[])||Object(k.a)(i,{})?n=!1:i&&(n=!0):n=!1,n&&this.$emit("filtered",t,t.length),this.isFiltered=n},isFiltered:function(e,t){!1===e&&!0===t&&this.$emit("filtered",this.localItems,this.localItems.length)}},created:function(){var e=this;this.$_filterTimer=null,this.$nextTick((function(){e.isFiltered=Boolean(e.localFilter)}))},beforeDestroy:function(){this.clearFilterTimer()},methods:{clearFilterTimer:function(){clearTimeout(this.$_filterTimer),this.$_filterTimer=null},filterSanitize:function(e){return!this.localFiltering||this.localFilterFn||Object(c.m)(e)||Object(c.l)(e)?Object(w.a)(e):""},filterFnFactory:function(e,t){if(!e||!Object(c.e)(e)||!t||Object(k.a)(t,[])||Object(k.a)(t,{}))return null;return function(i){return e(i,t)}},defaultFilterFnFactory:function(e){var t=this;if(!e||!Object(c.m)(e)&&!Object(c.l)(e))return null;var i=e;if(Object(c.m)(i)){var n=Object(j.a)(e).replace(_.n,"\\s+");i=new RegExp(".*".concat(n,".*"),"i")}return function(e){return i.lastIndex=0,i.test(P(e,t.computedFilterIgnored,t.computedFilterIncluded,t.computedFieldsObj))}}}},L=i("SGmW"),$=i("ST6S"),q={props:Object(p.c)({perPage:{type:[Number,String],default:0},currentPage:{type:[Number,String],default:1}},s.ab),computed:{localPaging:function(){return!this.hasProvider||!!this.noProviderPaging},paginatedItems:function(){var e=this.sortedItems||this.filteredItems||this.localItems||[],t=Object($.d)(Object(T.c)(this.currentPage,1),1),i=Object($.d)(Object(T.c)(this.perPage,0),0);return this.localPaging&&i&&(e=e.slice((t-1)*i,t*i)),e}}},F={mixins:[i("qDIy").a],props:Object(p.c)({items:{type:[Array,Function],default:function(){return[]}},noProviderPaging:{type:Boolean,default:!1},noProviderSorting:{type:Boolean,default:!1},noProviderFiltering:{type:Boolean,default:!1},apiUrl:{type:String,default:""}},s.ab),computed:{hasProvider:function(){return Object(c.e)(this.items)},providerTriggerContext:function(){var e={apiUrl:this.apiUrl,filter:null,sortBy:null,sortDesc:null,perPage:null,currentPage:null};return this.noProviderFiltering||(e.filter=this.localFilter),this.noProviderSorting||(e.sortBy=this.localSortBy,e.sortDesc=this.localSortDesc),this.noProviderPaging||(e.perPage=this.perPage,e.currentPage=this.currentPage),Object(E.b)(e)}},watch:{items:function(e){(this.hasProvider||Object(c.e)(e))&&this.$nextTick(this._providerUpdate)},providerTriggerContext:function(e,t){Object(k.a)(e,t)||this.$nextTick(this._providerUpdate)}},mounted:function(){var e=this;!this.hasProvider||this.localItems&&0!==this.localItems.length||this._providerUpdate(),this.listenOnRoot("bv::refresh::table",(function(t){t!==e.id&&t!==e||e.refresh()}))},methods:{refresh:function(){this.$off("refreshed",this.refresh),this.computedBusy?this.localBusy&&this.hasProvider&&this.$on("refreshed",this.refresh):(this.clearSelected(),this.hasProvider?this.$nextTick(this._providerUpdate):this.localItems=Object(c.a)(this.items)?this.items.slice():[])},_providerSetLocal:function(e){this.localItems=Object(c.a)(e)?e.slice():[],this.localBusy=!1,this.$emit("refreshed"),this.id&&this.emitOnRoot("bv::table::refreshed",this.id)},_providerUpdate:function(){var e=this;this.hasProvider&&(this.computedBusy?this.$nextTick(this.refresh):(this.localBusy=!0,this.$nextTick((function(){try{var t=e.items(e.context,e._providerSetLocal);Object(c.k)(t)?t.then((function(t){e._providerSetLocal(t)})):Object(c.a)(t)?e._providerSetLocal(t):2!==e.items.length&&(Object(C.a)("Provider function didn't request callback and did not return a promise or data.",s.ab),e.localBusy=!1)}catch(t){Object(C.a)("Provider function error [".concat(t.name,"] ").concat(t.message,"."),s.ab),e.localBusy=!1,e.$off("refreshed",e.refresh)}}))))}}},B=function(e){return Array.apply(null,{length:e})};function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var U=["range","multi","single"],V={props:Object(p.c)({selectable:{type:Boolean,default:!1},selectMode:{type:String,default:"multi",validator:function(e){return Object(O.a)(U,e)}},selectedVariant:{type:String,default:"active"},noSelectOnClick:{type:Boolean,default:!1}},s.ab),data:function(){return{selectedRows:[],selectedLastRow:-1}},computed:{isSelectable:function(){return this.selectable&&this.selectMode},hasSelectableRowClick:function(){return this.isSelectable&&!this.noSelectOnClick},supportsSelectableRows:function(){return!0},selectableHasSelection:function(){return this.isSelectable&&this.selectedRows&&this.selectedRows.length>0&&this.selectedRows.some(S.a)},selectableIsMultiSelect:function(){return this.isSelectable&&Object(O.a)(["range","multi"],this.selectMode)},selectableTableClasses:function(){var e;return M(e={"b-table-selectable":this.isSelectable},"b-table-select-".concat(this.selectMode),this.isSelectable),M(e,"b-table-selecting",this.selectableHasSelection),M(e,"b-table-selectable-no-click",this.isSelectable&&!this.hasSelectableRowClick),e},selectableTableAttrs:function(){return{"aria-multiselectable":this.isSelectable?this.selectableIsMultiSelect?"true":"false":null}}},watch:{computedItems:function(e,t){var i=!1;if(this.isSelectable&&this.selectedRows.length>0){i=Object(c.a)(e)&&Object(c.a)(t)&&e.length===t.length;for(var n=0;i&&n<e.length;n++)i=Object(k.a)(D(e[n]),D(t[n]))}i||this.clearSelected()},selectable:function(e){this.clearSelected(),this.setSelectionHandlers(e)},selectMode:function(){this.clearSelected()},hasSelectableRowClick:function(e){this.clearSelected(),this.setSelectionHandlers(!e)},selectedRows:function(e,t){var i=this;if(this.isSelectable&&!Object(k.a)(e,t)){var n=[];e.forEach((function(e,t){e&&n.push(i.computedItems[t])})),this.$emit("row-selected",n)}}},beforeMount:function(){this.isSelectable&&this.setSelectionHandlers(!0)},methods:{selectRow:function(e){if(this.isSelectable&&Object(c.g)(e)&&e>=0&&e<this.computedItems.length&&!this.isRowSelected(e)){var t=this.selectableIsMultiSelect?this.selectedRows.slice():[];t[e]=!0,this.selectedLastClicked=-1,this.selectedRows=t}},unselectRow:function(e){if(this.isSelectable&&Object(c.g)(e)&&this.isRowSelected(e)){var t=this.selectedRows.slice();t[e]=!1,this.selectedLastClicked=-1,this.selectedRows=t}},selectAllRows:function(){var e=this.computedItems.length;this.isSelectable&&e>0&&(this.selectedLastClicked=-1,this.selectedRows=this.selectableIsMultiSelect?B(e).map((function(){return!0})):[!0])},isRowSelected:function(e){return!(!Object(c.g)(e)||!this.selectedRows[e])},clearSelected:function(){this.selectedLastClicked=-1,this.selectedRows=[]},selectableRowClasses:function(e){if(this.isSelectable&&this.isRowSelected(e)){var t=this.selectedVariant;return M({"b-table-row-selected":!0},"".concat(this.dark?"bg":"table","-").concat(t),t)}return{}},selectableRowAttrs:function(e){return{"aria-selected":this.isSelectable?this.isRowSelected(e)?"true":"false":null}},setSelectionHandlers:function(e){var t=e&&!this.noSelectOnClick?"$on":"$off";this[t]("row-clicked",this.selectionHandler),this[t]("filtered",this.clearSelected),this[t]("context-changed",this.clearSelected)},selectionHandler:function(e,t,i){if(this.isSelectable&&!this.noSelectOnClick){var n=this.selectMode,s=this.selectedRows.slice(),a=!s[t];if("single"===n)s=[];else if("range"===n)if(this.selectedLastRow>-1&&i.shiftKey){for(var r=Object($.e)(this.selectedLastRow,t);r<=Object($.d)(this.selectedLastRow,t);r++)s[r]=!0;a=!0}else i.ctrlKey||i.metaKey||(s=[],a=!0),this.selectedLastRow=a?t:-1;s[t]=a,this.selectedRows=s}else this.clearSelected()}}},H=i("1AFl"),z=i("7DqY"),G=function(e){return Object(c.o)(e)?"":Object(c.h)(e)?Object(T.b)(e,e):e},W=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.sortBy,s=void 0===n?null:n,a=i.formatter,r=void 0===a?null:a,o=i.locale,l=void 0===o?void 0:o,d=i.localeOptions,u=void 0===d?{}:d,p=i.nullLast,h=void 0!==p&&p,f=Object(z.a)(e,s,null),m=Object(z.a)(t,s,null);return Object(c.e)(r)&&(f=r(f,s,e),m=r(m,s,t)),f=G(f),m=G(m),Object(c.c)(f)&&Object(c.c)(m)||Object(c.g)(f)&&Object(c.g)(m)?f<m?-1:f>m?1:0:h&&""===f&&""!==m?1:h&&""!==f&&""===m?-1:I(f).localeCompare(I(m),l,u)};function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){Q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Z=["asc","desc","last"],J={props:Object(p.c)({sortBy:{type:String,default:""},sortDesc:{type:Boolean,default:!1},sortDirection:{type:String,default:"asc",validator:function(e){return Object(O.a)(Z,e)}},sortCompare:{type:Function},sortCompareOptions:{type:Object,default:function(){return{numeric:!0}}},sortCompareLocale:{type:[String,Array]},sortNullLast:{type:Boolean,default:!1},noSortReset:{type:Boolean,default:!1},labelSortAsc:{type:String,default:"Click to sort Ascending"},labelSortDesc:{type:String,default:"Click to sort Descending"},labelSortClear:{type:String,default:"Click to clear sorting"},noLocalSorting:{type:Boolean,default:!1},noFooterSorting:{type:Boolean,default:!1},sortIconLeft:{type:Boolean,default:!1}},s.ab),data:function(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1}},computed:{localSorting:function(){return this.hasProvider?!!this.noProviderSorting:!this.noLocalSorting},isSortable:function(){return this.computedFields.some((function(e){return e.sortable}))},sortedItems:function(){var e=this.localSortBy,t=this.localSortDesc,i=this.sortCompareLocale,n=this.sortNullLast,s=this.sortCompare,a=this.localSorting,r=(this.filteredItems||this.localItems||[]).slice(),o=K(K({},this.sortCompareOptions),{},{usage:"sort"});if(e&&a){var l=(this.computedFieldsObj[e]||{}).sortByFormatted,d=Object(c.e)(l)?l:l?this.getFieldFormatter(e):void 0;return Object(H.a)(r,(function(a,r){var l=null;return Object(c.e)(s)&&(l=s(a,r,e,t,d,o,i)),(Object(c.o)(l)||!1===l)&&(l=W(a,r,{sortBy:e,formatter:d,locale:i,localeOptions:o,nullLast:n})),(l||0)*(t?-1:1)}))}return r}},watch:{isSortable:function(e){e?this.isSortable&&this.$on("head-clicked",this.handleSort):this.$off("head-clicked",this.handleSort)},sortDesc:function(e){e!==this.localSortDesc&&(this.localSortDesc=e||!1)},sortBy:function(e){e!==this.localSortBy&&(this.localSortBy=e||"")},localSortDesc:function(e,t){e!==t&&this.$emit("update:sortDesc",e)},localSortBy:function(e,t){e!==t&&this.$emit("update:sortBy",e)}},created:function(){this.isSortable&&this.$on("head-clicked",this.handleSort)},methods:{handleSort:function(e,t,i,n){var s=this;if(this.isSortable&&(!n||!this.noFooterSorting)){var a=!1,r=function(){var e=t.sortDirection||s.sortDirection;"asc"===e?s.localSortDesc=!1:"desc"===e&&(s.localSortDesc=!0)};if(t.sortable){var o=!this.localSorting&&t.sortKey?t.sortKey:e;this.localSortBy===o?this.localSortDesc=!this.localSortDesc:(this.localSortBy=o,r()),a=!0}else this.localSortBy&&!this.noSortReset&&(this.localSortBy="",r(),a=!0);a&&this.$emit("sort-changed",this.context)}},sortTheadThClasses:function(e,t,i){return{"b-table-sort-icon-left":t.sortable&&this.sortIconLeft&&!(i&&this.noFooterSorting)}},sortTheadThAttrs:function(e,t,i){if(!this.isSortable||i&&this.noFooterSorting)return{};var n=t.sortable;return{"aria-sort":n&&this.localSortBy===e?this.localSortDesc?"descending":"ascending":n?"none":null}},sortTheadThLabel:function(e,t,i){if(!this.isSortable||i&&this.noFooterSorting)return null;var n="";if(t.sortable)if(this.localSortBy===e)n=this.localSortDesc?this.labelSortAsc:this.labelSortDesc;else{n=this.localSortDesc?this.labelSortDesc:this.labelSortAsc;var s=this.sortDirection||t.sortDirection;"asc"===s?n=this.labelSortAsc:"desc"===s&&(n=this.labelSortDesc)}else this.noSortReset||(n=this.localSortBy?this.labelSortClear:"");return Object(j.f)(n)||null}}},X=i("s3Vi"),ee=i("A/xw"),te=i("cIDo"),ie=i("B/kB"),ne=i("s+sb"),se={methods:{renderTopRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot("top-row")||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(d.a,{key:"b-top-row",staticClass:"b-table-top-row",class:[Object(c.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"row-top"):this.tbodyTrClass],attrs:Object(c.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-top"):this.tbodyTrAttr},[this.normalizeSlot("top-row",{columns:t.length,fields:t})])}}},ae=n.a.extend({name:s.ab,mixins:[a.a,r.a,o.a,l.a,L.a,ee.a,X.a,ne.a,ie.a,te.a,X.a,R,J,q,g.a,b.a,V,y,se,u,m,F]}),re=i("gzws");const oe=["bottom-row","empty","emptyfiltered","table-busy","thead-top","top-row"],le=["api-url","busy","current-page","empty-filtered-html","empty-filtered-text","empty-html","empty-text","filter","filter-debounce","filter-function","filter-ignored-fields","filter-included-fields","label-sort-asc","label-sort-clear","label-sort-desc","no-footer-sorting","no-local-sorting","no-provider-filtering","no-provider-paging","no-provider-sorting","no-select-on-click","no-sort-reset","per-page","select-mode","selectable","selected-variant","show-empty","sort-by","sort-compare","sort-compare-locale","sort-compare-options","sort-desc","sort-direction","sort-icon-left","sort-null-last"];var ce=i("6IRw");const de={components:{BTable:ae},inheritAttrs:!1,mounted(){Object(re.e)()&&!(e=>{let{$attrs:t,$scopedSlots:i}=e;return le.some(e=>void 0!==t[e])||oe.some(e=>void 0!==i[e])})(this)&&Object(re.f)("This GlTable could be a GlTableLite component, please consider using GlTableLite instead of GlTable to reduce the page bundlesize more about this here: https://gitlab-org.gitlab.io/gitlab-ui/?path=/docs/base-table-table-lite--default")}};const ue=i.n(ce)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-table",e._g(e._b({staticClass:"gl-table",scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,null,i)]}}}))],null,!0)},"b-table",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,de,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=ue},ICNN:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("H8gz"),a=i("ly/8"),r=i("ENs1"),o=i("teVv"),l=i("t9l/"),c=i("5ee2"),d=i("WiJj"),u=i("KLkI"),p={components:{GlButton:n.a,GlIcon:s.a,TodoButton:u.a},directives:{GlTooltip:a.a},inject:{isClassicSidebar:{default:!1}},props:{issuableId:{type:String,required:!0},issuableIid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({loading:!1}),apollo:{todoId:{query(){return c.w[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.issuableIid)}},update(e){var t,i,n;return null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:null===(n=i.currentUserTodos.nodes[0])||void 0===n?void 0:n.id},result(e){var t,i,n,s,a;let{data:r}=e;if(!r)return;const o=null!==(t=null===(i=r.workspace)||void 0===i?void 0:null===(n=i.issuable)||void 0===n?void 0:null===(s=n.currentUserTodos)||void 0===s?void 0:s.nodes)&&void 0!==t?t:[];this.todoId=null===(a=o[0])||void 0===a?void 0:a.id,this.$emit("todoUpdated",o.length>0)},error(){Object(o.f)({message:Object(l.h)(Object(l.a)("Something went wrong while setting %{issuableType} to-do item."),{issuableType:this.issuableType})})}}},computed:{todoIdQuery(){return c.w[this.issuableType].query},todoIdQueryVariables(){return{fullPath:this.fullPath,iid:String(this.issuableIid)}},isLoading(){var e,t;return(null===(e=this.$apollo.queries)||void 0===e?void 0:null===(t=e.todoId)||void 0===t?void 0:t.loading)||this.loading},hasTodo(){return Boolean(this.todoId)},todoMutationType(){return this.hasTodo?c.d.MarkDone:c.d.Create},collapsedButtonIcon(){return this.hasTodo?"todo-done":"todo-add"},tootltipTitle(){return Object(d.a)(this.hasTodo)}},methods:{toggleTodo(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:c.v[this.todoMutationType],variables:{input:{targetId:this.hasTodo?void 0:this.issuableId,id:this.hasTodo?this.todoId:void 0}},update:function(t,i){let{data:{todoMutation:{todo:n}}}=i;const s={query:e.todoIdQuery,variables:e.todoIdQueryVariables},a=t.readQuery(s),o=Object(r.b)(a,(function(t){t.workspace.issuable.currentUserTodos.nodes=e.hasTodo?[]:[n]}));t.writeQuery({data:o,...s})}}).then((function(e){let{data:{todoMutation:{errors:t}}}=e;t.length&&Object(o.f)({message:t[0]})})).catch((function(){Object(o.f)({message:Object(l.h)(Object(l.a)("Something went wrong while setting %{issuableType} to-do item."),{issuableType:e.issuableType})})})).finally((function(){e.loading=!1}))}}},h=i("bPvS"),f=Object(h.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"sidebar-todo"}},[i("todo-button",{staticClass:"hide-collapsed",attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"is-todo":e.hasTodo,loading:e.isLoading,size:"small"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTodo(t)}}}),e._v(" "),e.isClassicSidebar?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-container gl-rounded-0! gl-shadow-none!",attrs:{title:e.tootltipTitle,category:"tertiary",type:"reset"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTodo(t)}}},[i("gl-icon",{class:{"todo-undone":e.hasTodo},attrs:{name:e.collapsedButtonIcon}})],1):e._e()],1)}),[],!1,null,null,null);t.a=f.exports},IPfS:function(e,t,i){"use strict";var n=i("lKw0"),s=i.n(n),a=i("cuRJ"),r=i("H8gz"),o=i("ly/8"),l=i("9LGn"),c=i("9Wpt"),d=i("t9l/"),u=i("Zxcm"),p=i("8GQU");var h={components:{GlButton:a.a,GlIcon:r.a,EmojiPicker:c.default},directives:{GlTooltip:o.a,SafeHtml:l.a},mixins:[Object(u.a)()],props:{awards:{type:Array,required:!0},canAwardEmoji:{type:Boolean,required:!0},currentUserId:{type:Number,required:!1,default:-1},addButtonClass:{type:String,required:!1,default:""},defaultAwards:{type:Array,required:!1,default:function(){return[]}},selectedClass:{type:String,required:!1,default:"selected"}},data:()=>({isMenuOpen:!1}),computed:{groupedDefaultAwards(){return this.defaultAwards.reduce((function(e,t){return Object.assign(e,{[t]:[]})}),{})},groupedAwards(){var e=this;const{thumbsup:t,thumbsdown:i,...n}={...this.groupedDefaultAwards,...s()(this.awards,(function(e){return e.name}))};return[...t?[this.createAwardList("thumbsup",t)]:[],...i?[this.createAwardList("thumbsdown",i)]:[],...Object.entries(n).map((function(t){let[i,n]=t;return e.createAwardList(i,n)}))]},isAuthoredByMe(){return this.noteAuthorId===this.currentUserId}},mounted(){this.virtualScrollerItem=this.$el.closest(".vue-recycle-scroller__item-view")},methods:{getAwardClassBindings(e){return{[this.selectedClass]:this.hasReactionByCurrentUser(e),disabled:-1===this.currentUserId}},hasReactionByCurrentUser(e){var t=this;return-1!==this.currentUserId&&e.some((function(e){return e.user.id===t.currentUserId}))},createAwardList(e,t){return{name:e,list:t,title:this.getAwardListTitle(t,e),classes:this.getAwardClassBindings(t),html:Object(p.glEmojiTag)(e)}},getAwardListTitle(e,t){var i=this;if(!e.length)return"";const n=this.hasReactionByCurrentUser(e),s=n?9:10;let a=e;n&&(a=a.filter((function(e){return e.user.id!==i.currentUserId})));const r=a.slice(0,s).map((function(e){return e.user.name})),o=a.slice(s,a.length);n&&r.unshift(Object(d.a)("You"));let l="";return o.length?l=Object(d.h)(Object(d.a)("%{listToShow}, and %{awardsListLength} more"),{listToShow:r.join(", "),awardsListLength:o.length},!1):r.length>1?(l=r.slice(0,r.length-1).join(", "),l+=r.length>2?",":"",l+=Object(d.h)(Object(d.a)(" and %{sliced}"),{sliced:r.slice(-1)},!1)):l=r.join(Object(d.a)(" and ")),l+Object(d.h)(Object(d.a)(" reacted with :%{name}:"),{name:t})},handleAward(e){if(!this.canAwardEmoji)return;const t=/^[0-9]+$/.test(e)?Number(e):e;this.$emit("award",t),document.activeElement&&document.activeElement.blur()},setIsMenuOpen(e){this.isMenuOpen=e,this.virtualScrollerItem&&(this.virtualScrollerItem.style.zIndex=this.isMenuOpen?1:null)}},safeHtmlConfig:{ADD_TAGS:["gl-emoji"]}},f=i("bPvS"),m=Object(f.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awards js-awards-block"},[e._l(e.groupedAwards,(function(t){return i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",modifiers:{viewport:!0}}],key:t.name,staticClass:"gl-mr-3 gl-my-2",class:t.classes,attrs:{title:t.title,"data-testid":"award-button"},on:{click:function(i){return e.handleAward(t.name)}},scopedSlots:e._u([{key:"emoji",fn:function(){return[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:t.html,expression:"awardList.html",arg:e.$options.safeHtmlConfig}],staticClass:"award-emoji-block",attrs:{"data-testid":"award-html"}})]},proxy:!0}],null,!0)},[e._v(" "),i("span",{staticClass:"js-counter"},[e._v(e._s(t.list.length))])])})),e._v(" "),e.canAwardEmoji?i("div",{staticClass:"award-menu-holder gl-my-2"},[e.glFeatures.improvedEmojiPicker?i("emoji-picker",{attrs:{"toggle-class":["add-reaction-button btn-icon gl-relative!",{"is-active":e.isMenuOpen}]},on:{click:e.handleAward,shown:function(t){return e.setIsMenuOpen(!0)},hidden:function(t){return e.setIsMenuOpen(!1)}},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("span",{staticClass:"reaction-control-icon reaction-control-icon-neutral"},[i("gl-icon",{attrs:{name:"slight-smile"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-positive"},[i("gl-icon",{attrs:{name:"smiley"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-super-positive"},[i("gl-icon",{attrs:{name:"smile"}})],1)]},proxy:!0}],null,!1,3506434543)}):i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",modifiers:{viewport:!0}}],staticClass:"add-reaction-button js-add-award",class:e.addButtonClass,attrs:{title:"Add reaction","aria-label":e.__("Add reaction")}},[i("span",{staticClass:"reaction-control-icon reaction-control-icon-neutral"},[i("gl-icon",{attrs:{name:"slight-smile"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-positive"},[i("gl-icon",{attrs:{name:"smiley"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-super-positive"},[i("gl-icon",{attrs:{name:"smile"}})],1)])],1):e._e()],2)}),[],!1,null,null,null);t.a=m.exports},IcBX:function(e,t,i){"use strict";var n=i("ZPTr"),s=i.n(n),a=i("KZOo"),r=i.n(a),o=i("08uz"),l=i.n(o),c=i("6oy4"),d=i.n(c),u=i("teVv"),p=i("mphk"),h=i("t9l/");t.a={init(){let{form:e,issues:t,prefixId:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prefixId=i||"issue_",this.form=e||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=t||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit(e){return e.preventDefault(),this.submit()},submit(){var e=this;p.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then((function(){return window.location.reload()})).catch((function(){return e.onFormSubmitFailure()}))},onFormSubmitFailure(){return this.form.find('[type="submit"]').enable(),Object(u.f)({message:Object(h.a)("Issue update failed")})},getFormDataAsObject(){const e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),health_status:this.form.find('input[name="update[health_status]"]').val(),epic_id:this.form.find('input[name="update[epic_id]"]').val(),sprint_id:this.form.find('input[name="update[iteration_id]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("user-checked"),e.update.remove_label_ids=this.$labelDropdown.data("user-unchecked")),e},setOriginalDropdownData(){const e=d()(".bulk-update .js-label-select"),t=e.data("user-checked")||[],i=e.data("user-unchecked")||[],n=l()(s()(this.getOriginalCommonIds(),t),i),a=l()(this.getOriginalIndeterminateIds(),t,i);e.data("marked",n),e.data("indeterminate",a)},getOriginalCommonIds(){var e=this;const t=[];return this.getElement('.issuable-list input[type="checkbox"]:checked').each((function(i,n){t.push(e.getElement(`#${e.prefixId}${n.dataset.id}`).data("labels"))})),r.a.apply(this,t)},getOriginalIndeterminateIds(){var e=this;const t=[],i=[];let n=[];return this.getElement('.issuable-list input[type="checkbox"]:checked').each((function(s,a){(n=e.getElement(`#${e.prefixId}${a.dataset.id}`).data("labels")).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),i.push(n)})),i.unshift(t),t.filter((function(t){return!r.a.apply(e,i).includes(t)}))},getElement(e){return this.scopeEl=this.scopeEl||d()(".content"),this.scopeEl.find(e)}}},J4Fn:function(e,t,i){"use strict";var n=i("6IRw");const s={props:{lines:{type:Number,required:!1,default:3,validator:e=>e>0&&e<4}},computed:{lineClasses(){return new Array(this.lines).fill().map((e,t)=>`skeleton-line-${t+1}`)}}};const a=i.n(n)()({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"animation-container"},this._l(this.lineClasses,(function(e,i){return t("div",{key:i,class:e})})),0)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=a},J6KD:function(e,t,i){"use strict";i("AfGZ");var n=i("CkNe"),s=i("6A8M"),a=i("teVv"),r=i("t9l/"),o=i("QunU"),l=i("1jid"),c={functional:!0,render(e,t){const{slotKeys:i}=t.props,n=t.slots();return i.map((function(e){return n[e]})).filter((function(e){return e}))}},d=i("bPvS"),u=Object(d.a)(c,void 0,void 0,!1,null,null,null).exports,p=i("Zxcm"),h=i("JzpF"),f=i("yYHy"),m=i("Gj7Q"),g=i("R8rx"),b={name:"SkeletonNote",components:{GlSkeletonLoading:i("J4Fn").a,TimelineEntryItem:l.a}},v=Object(d.a)(b,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note note-wrapper",attrs:{"data-qa-selector":"skeleton_note_placeholder"}},[t("div",{staticClass:"timeline-icon"}),this._v(" "),t("div",{staticClass:"timeline-content"},[t("div",{staticClass:"note-header"}),this._v(" "),t("div",{staticClass:"note-body"},[t("gl-skeleton-loading")],1)])])}),[],!1,null,null,null).exports,y=i("uvwG"),_=i("toOR"),w=i("RewC"),S=i("Q04j"),k=i("cuRJ"),O=i("H8gz"),T=i("OkA1"),j=i("ly/8"),C=i("XtuB"),E=i("6oy4"),I=i.n(E),x=i("s1DB"),D=i("Ehiv"),P=i("ZcYw"),N=i("oiT5"),A=i("vRHk"),R=i("WW8A"),L=i("A8Nj"),$=i("L+KC"),q=i("Z0Ze"),F=i("UGhW"),B=i("u1ru"),M={components:{GlIcon:O.a,GlLink:B.a},mixins:[$.a],props:{issuableType:{required:!0,type:String}},computed:{issuableDisplayName(){return this.issuableType.replace(/_/g," ")},projectArchivedWarning:()=>Object(r.a)("This project is archived and cannot be commented on."),lockedIssueWarning(){return Object(r.h)(Object(r.a)("This %{issuableDisplayName} is locked. Only project members can comment."),{issuableDisplayName:this.issuableDisplayName})}}},U=Object(d.a)(M,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"disabled-comment text-center"},[i("span",{staticClass:"issuable-note-warning inline"},[i("gl-icon",{staticClass:"icon",attrs:{size:16,name:"lock"}}),e._v(" "),e.isProjectArchived?i("span",[e._v("\n      "+e._s(e.projectArchivedWarning)+"\n      "),i("gl-link",{staticClass:"learn-more",attrs:{href:e.archivedProjectDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1):i("span",[e._v("\n      "+e._s(e.lockedIssueWarning)+"\n      "),i("gl-link",{staticClass:"learn-more",attrs:{href:e.lockedIssueDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1)],1)])}),[],!1,null,null,null).exports,V=i("9ema");const{UNPROCESSABLE_ENTITY:H}=N.a;var z={name:"CommentForm",i18n:L.a,components:{noteSignedOutWidget:V.a,discussionLockedWidget:U,markdownField:R.a,GlAlert:S.a,GlButton:k.a,TimelineEntryItem:l.a,GlIcon:O.a,CommentFieldLayout:q.a,CommentTypeDropdown:F.a,GlFormCheckbox:T.a},directives:{GlTooltip:j.a},mixins:[Object(p.a)(),$.a],props:{noteableType:{type:String,required:!0}},data:()=>({note:"",noteType:_.COMMENT,errors:[],noteIsConfidential:!1,isSubmitting:!1}),computed:{...Object(n.d)(["getCurrentUserLastNote","getUserData","getNoteableData","getNoteableDataByProp","getNotesData","openState","hasDrafts"]),...Object(n.f)(["isToggleStateButtonLoading"]),noteableDisplayName(){return{[_.ISSUE_NOTEABLE_TYPE]:this.$options.i18n.issue,[_.EPIC_NOTEABLE_TYPE]:this.$options.i18n.epic,[_.MERGE_REQUEST_NOTEABLE_TYPE]:this.$options.i18n.mergeRequest}[_.NOTEABLE_TYPE_MAPPING[this.noteableType]||_.ISSUE_NOTEABLE_TYPE]},isLoggedIn(){return this.getUserData.id},commentButtonTitle(){return this.noteType===_.COMMENT?this.$options.i18n.comment:this.$options.i18n.startThread},discussionsRequireResolution(){return this.getNoteableData.noteableType===_.MERGE_REQUEST_NOTEABLE_TYPE},isOpen(){return this.openState===_.OPENED||this.openState===_.REOPENED},canCreateNote(){return this.getNoteableData.current_user.can_create_note},canSetConfidential(){return this.getNoteableData.current_user.can_update},issueActionButtonTitle(){const e=this.isOpen?"close":"reopen";return this.note.length?Object(r.h)(this.$options.i18n.actionButton.withNote[e],{actionText:this.commentButtonTitle,noteable:this.noteableDisplayName}):Object(r.h)(this.$options.i18n.actionButton.withoutNote[e],{noteable:this.noteableDisplayName})},actionButtonClassNames(){return{"btn-reopen":!this.isOpen,"btn-close":this.isOpen,"js-note-target-close":this.isOpen,"js-note-target-reopen":!this.isOpen}},markdownDocsPath(){return this.getNotesData.markdownDocsPath},quickActionsDocsPath(){return this.getNotesData.quickActionsDocsPath},markdownPreviewPath(){return this.getNoteableData.preview_note_path},author(){return this.getUserData},canToggleIssueState(){return this.getNoteableData.current_user.can_update&&this.openState!==_.MERGED&&!this.closedAndLocked},closedAndLocked(){return!this.isOpen&&this.isLocked(this.getNoteableData)},endpoint(){return this.getNoteableData.create_note_path},draftEndpoint(){return this.getNotesData.draftsPath},isIssue(){return _.NOTEABLE_TYPE_MAPPING[this.noteableType]===_.ISSUE_NOTEABLE_TYPE},trackingLabel(){return Object(A.r)(`${this.commentButtonTitle} button`)},confidentialNotesEnabled(){return Boolean(this.glFeatures.confidentialNotes)},disableSubmitButton(){return 0===this.note.length||this.isSubmitting}},mounted(){var e=this;I()(document).on("issuable:change",(function(t,i){e.toggleIssueLocalState(i?_.CLOSED:_.REOPENED)})),this.initAutoSave()},methods:{...Object(n.c)(["saveNote","stopPolling","restartPolling","removePlaceholderNotes","closeIssuable","reopenIssuable","toggleIssueLocalState"]),handleSaveError(e){var t,i;let{data:n,status:s}=e;s===H&&null!==(t=n.errors)&&void 0!==t&&null!==(i=t.commands_only)&&void 0!==i&&i.length?this.errors=n.errors.commands_only:this.errors=[this.$options.i18n.GENERIC_UNSUBMITTABLE_NETWORK]},handleSaveDraft(){this.handleSave({isDraft:!0})},handleSave(){var e=this;let{withIssueAction:t=!1,isDraft:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.errors=[],this.note.length){const n={endpoint:i?this.draftEndpoint:this.endpoint,data:{note:{noteable_type:this.noteableType,noteable_id:this.getNoteableData.id,confidential:this.noteIsConfidential,note:this.note},merge_request_diff_head_sha:this.getNoteableData.diff_head_sha},isDraft:i};this.noteType===_.DISCUSSION&&(n.data.note.type=_.DISCUSSION_NOTE),this.note="",this.resizeTextarea(),this.stopPolling(),this.isSubmitting=!0,this.saveNote(n).then((function(){e.restartPolling(),e.discard(),t&&e.toggleIssueState()})).catch((function(t){let{response:i}=t;e.handleSaveError(i),e.discard(!1),e.note=n.data.note.note,e.removePlaceholderNotes()})).finally((function(){e.isSubmitting=!1}))}else this.toggleIssueState()},handleEnter(){this.hasDrafts?this.handleSaveDraft():this.handleSave()},toggleIssueState(){var e=this;if(this.isIssue)return void w.a.$emit("toggle.issuable.state");(this.isOpen?this.closeIssuable:this.reopenIssuable)().then((function(){return P.b.updateStatus&&P.b.updateStatus()})).then(D.b).catch((function(){return Object(a.f)({message:_.toggleStateErrorMessage[e.noteableType][e.openState]})}))},discard(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.textarea.blur(),this.$refs.textarea.focus(),e&&(this.note="",this.noteIsConfidential=!1,this.resizeTextarea(),this.$refs.markdownField.previewMarkdown=!1),this.autosave.reset()},editCurrentUserLastNote(){if(""===this.note){const e=this.getCurrentUserLastNote;e&&w.a.$emit("enterEditMode",{noteId:e.id})}},initAutoSave(){if(this.isLoggedIn){const e=Object(A.b)(Object(A.c)(this.noteableType));this.autosave=new x.a(I()(this.$refs.textarea),[this.$options.i18n.note,e,this.getNoteableData.id])}},resizeTextarea(){var e=this;this.$nextTick((function(){C.a.update(e.$refs.textarea)}))},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length},dismissError(e){this.errors.splice(e,1)}}},G=Object(d.a)(z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLoggedIn?e.canCreateNote?e.canCreateNote?i("ul",{staticClass:"notes notes-form timeline"},[i("timeline-entry-item",{staticClass:"note-form"},[e._l(e.errors,(function(t,n){return i("gl-alert",{key:n,staticClass:"gl-mb-2",attrs:{variant:"danger"},on:{dismiss:function(){return e.dismissError(n)}}},[e._v("\n        "+e._s(t)+"\n      ")])})),e._v(" "),i("div",{staticClass:"timeline-content timeline-content-form"},[i("form",{ref:"commentForm",staticClass:"new-note common-note-form gfm-form js-main-target-form"},[i("comment-field-layout",{attrs:{"with-alert-container":!0,"noteable-data":e.getNoteableData,"note-is-confidential":e.noteIsConfidential,"noteable-type":e.noteableType}},[i("markdown-field",{ref:"markdownField",attrs:{"is-submitting":e.isSubmitting,"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"add-spacing-classes":!1,"textarea-value":e.note},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],ref:"textarea",staticClass:"note-textarea js-vue-comment-form js-note-text js-gfm-input js-autosize markdown-area",attrs:{id:"note-body",dir:"auto",disabled:e.isSubmitting,name:"note[note]","data-qa-selector":"comment_field","data-testid":"comment-field","data-supports-quick-actions":"true","aria-label":e.$options.i18n.comment,placeholder:e.$options.i18n.bodyPlaceholder},domProps:{value:e.note},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.editCurrentUserLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleEnter():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleEnter():null}],input:function(t){t.target.composing||(e.note=t.target.value)}}})]},proxy:!0}])})],1),e._v(" "),i("div",{staticClass:"note-form-actions"},[e.hasDrafts?[i("gl-button",{attrs:{disabled:e.disableSubmitButton,"data-testid":"add-to-review-button",type:"submit",category:"primary",variant:"success"},on:{click:function(t){return t.preventDefault(),e.handleSaveDraft()}}},[e._v(e._s(e.__("Add to review")))]),e._v(" "),i("gl-button",{attrs:{disabled:e.disableSubmitButton,"data-testid":"add-comment-now-button",category:"secondary"},on:{click:function(t){return t.preventDefault(),e.handleSave()}}},[e._v(e._s(e.__("Add comment now")))])]:[e.confidentialNotesEnabled&&e.canSetConfidential?i("gl-form-checkbox",{staticClass:"gl-mb-6",attrs:{"data-testid":"confidential-note-checkbox"},model:{value:e.noteIsConfidential,callback:function(t){e.noteIsConfidential=t},expression:"noteIsConfidential"}},[e._v("\n                "+e._s(e.$options.i18n.confidential)+"\n                "),i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-text-gray-500",attrs:{name:"question",size:16,title:e.$options.i18n.confidentialVisibility}})],1):e._e(),e._v(" "),i("comment-type-dropdown",{staticClass:"gl-mr-3",attrs:{disabled:e.disableSubmitButton,"tracking-label":e.trackingLabel,"noteable-display-name":e.noteableDisplayName,"discussions-require-resolution":e.discussionsRequireResolution},on:{click:e.handleSave},model:{value:e.noteType,callback:function(t){e.noteType=t},expression:"noteType"}})],e._v(" "),e.canToggleIssueState?i("gl-button",{class:[e.actionButtonClassNames,"btn-comment btn-comment-and-close"],attrs:{loading:e.isToggleStateButtonLoading,disabled:e.isSubmitting,"data-testid":"close-reopen-button"},on:{click:function(t){return e.handleSave({withIssueAction:!0})}}},[e._v(e._s(e.issueActionButtonTitle))]):e._e()],2)],1)])],2)],1):e._e():i("discussion-locked-widget",{attrs:{"issuable-type":e.noteableDisplayName}}):i("note-signed-out-widget")],1)}),[],!1,null,null,null).exports,W=i("nPFI"),Y={i18n:{information:Object(r.g)("Notes|You're only seeing %{boldStart}other activity%{boldEnd} in the feed. To add a comment, switch to one of the following options.")},components:{GlButton:k.a,GlIcon:O.a,GlSprintf:W.a},methods:{selectFilter(e){w.a.$emit("dropdownSelect",e)}}},K=Object(d.a)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"timeline-entry note note-wrapper discussion-filter-note js-discussion-filter-note",attrs:{"data-qa-selector":"discussion_filter_container"}},[i("div",{staticClass:"timeline-icon d-none d-lg-flex"},[i("gl-icon",{attrs:{name:"comment"}})],1),e._v(" "),i("div",{staticClass:"timeline-content"},[i("div",{attrs:{"data-testid":"discussion-filter-timeline-content"}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.information},scopedSlots:e._u([{key:"bold",fn:function(t){var n=t.content;return[i("b",[e._v(e._s(n))])]}}])})],1),e._v(" "),i("div",{staticClass:"discussion-filter-actions mt-2"},[i("gl-button",{attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(0)}}},[e._v("\n        "+e._s(e.__("Show all activity"))+"\n      ")]),e._v(" "),i("gl-button",{attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(1)}}},[e._v("\n        "+e._s(e.__("Show comments only"))+"\n      ")])],1)])])}),[],!1,null,null,null).exports,Q=i("jodE"),Z=i("5ggI"),J=i("mpzd"),X=i("voi4"),ee=i("5ee2"),te=i("me7P"),ie={props:{noteableData:{type:Object,required:!0},iid:{type:Number,required:!0}},computed:{fullPath(){return this.noteableData.web_url?this.noteableData.web_url.split("/-/")[0].substring(1).replace("groups/",""):null},issuableType(){return this.noteableData.noteableType.toLowerCase()}},created(){var e=this;this.issuableType!==J.c.Issue&&this.issuableType!==J.c.Epic||te.b.watchQuery({query:ee.g[this.issuableType].query,variables:{iid:String(this.iid),fullPath:this.fullPath},fetchPolicy:X.fetchPolicies.CACHE_ONLY}).subscribe((function(t){var i,n;const s=null===(i=t.data)||void 0===i?void 0:null===(n=i.workspace)||void 0===n?void 0:n.issuable;s&&e.setConfidentiality(s.confidential)}))},methods:{...Object(n.c)(["setConfidentiality"])},render:()=>null},ne=Object(d.a)(ie,void 0,void 0,!1,null,null,null).exports,se={name:"NotesApp",components:{noteableNote:Z.a,noteableDiscussion:Q.a,systemNote:y.a,commentForm:G,placeholderNote:m.a,placeholderSystemNote:g.a,skeletonLoadingContainer:v,discussionFilterNote:K,OrderedLayout:u,SidebarSubscription:ne,draftNote:h.a,TimelineEntryItem:l.a},mixins:[Object(p.a)()],props:{noteableData:{type:Object,required:!0},notesData:{type:Object,required:!0},userData:{type:Object,required:!1,default:function(){return{}}},shouldShow:{type:Boolean,required:!1,default:!0},helpPagePath:{type:String,required:!1,default:""}},data(){return{currentFilter:null,renderSkeleton:!this.shouldShow}},computed:{...Object(n.d)(["isNotesFetched","discussions","convertedDisscussionIds","getNotesDataByProp","isLoading","isFetching","commentsDisabled","getNoteableData","userCanReply","discussionTabCounter","sortDirection","timelineEnabled"]),sortDirDesc(){return this.sortDirection===_.DESC},discussionTabCounterText(){return this.isLoading?"":this.discussionTabCounter},noteableType(){return this.noteableData.noteableType},allDiscussions(){let e=[];if(this.renderSkeleton||this.isLoading){const t=parseInt(this.notesData.prerenderedNotesCount,10)||0;e=new Array(t).fill({isSkeletonNote:!0})}return this.sortDirDesc?e.concat(this.discussions):this.discussions.concat(e)},canReply(){return this.userCanReply&&!this.commentsDisabled&&!this.timelineEnabled},slotKeys(){return this.sortDirDesc?["form","comments"]:["comments","form"]}},watch:{async isFetching(){this.isFetching||(await this.$nextTick(),await this.startTaskList(),await this.checkLocationHash())},shouldShow(){var e=this;this.isNotesFetched||this.fetchNotes(),setTimeout((function(){e.renderSkeleton=!e.shouldShow}))},discussionTabCounterText(e){this.discussionsCount&&(this.discussionsCount.textContent=e)}},created(){this.discussionsCount=document.querySelector(".js-discussions-count"),this.setNotesData(this.notesData),this.setNoteableData(this.noteableData),this.setUserData(this.userData),this.setTargetNoteHash(Object(f.k)()),w.a.$once("fetchNotesData",this.fetchNotes)},mounted(){var e=this;this.shouldShow&&this.fetchNotes();const{parentElement:t}=this.$el;t&&t.classList.contains("js-vue-notes-event")&&t.addEventListener("toggleAward",(function(t){const{awardName:i,noteId:n}=t.detail;e.toggleAward({awardName:i,noteId:n})})),window.addEventListener("hashchange",this.handleHashChanged),w.a.$on("notesApp.updateIssuableConfidentiality",this.setConfidentiality)},updated(){var e=this;this.$nextTick((function(){Object(s.a)(e.$el.querySelectorAll(".gfm-project_member")),Object(o.a)(e.$el.querySelectorAll(".js-user-link"))}))},beforeDestroy(){this.stopPolling(),window.removeEventListener("hashchange",this.handleHashChanged),w.a.$off("notesApp.updateIssuableConfidentiality",this.setConfidentiality)},methods:{...Object(n.c)(["setFetchingState","setLoadingState","fetchDiscussions","poll","toggleAward","setNotesData","setNoteableData","setUserData","setLastFetchedAt","setTargetNoteHash","toggleDiscussion","setNotesFetchedState","expandDiscussion","startTaskList","convertToDiscussion","stopPolling","setConfidentiality"]),discussionIsIndividualNoteAndNotConverted(e){return e.individual_note&&!this.convertedDisscussionIds.includes(e.id)},handleHashChanged(){this.checkLocationHash()&&this.setTargetNoteHash(Object(f.k)())},fetchNotes(){var e=this;return this.isFetching?null:(this.setFetchingState(!0),this.glFeatures.paginatedNotes?this.initPolling():this.fetchDiscussions(this.getFetchDiscussionsConfig()).then(this.initPolling).then((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),w.a.$emit("fetchedNotesData"),e.setFetchingState(!1)})).catch((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),Object(a.f)({message:Object(r.a)("Something went wrong while fetching comments. Please try again.")})})))},initPolling(){this.isPollingInitialized||(this.setLastFetchedAt(this.getNotesDataByProp("lastFetchedAt")),this.poll(),this.isPollingInitialized=!0)},checkLocationHash(){const e=Object(f.k)(),t=e&&e.replace(/^note_/,"");if(t){const e=this.discussions.find((function(e){return e.notes.some((function(e){let{id:i}=e;return i===t}))}));e&&this.expandDiscussion({discussionId:e.id})}return t},startReplying(e){return this.convertToDiscussion(e).then(this.$nextTick).then((function(){return w.a.$emit("startReplying",e)}))},getFetchDiscussionsConfig(){const e={path:this.getNotesDataByProp("discussionsPath")},t=this.getNotesDataByProp("notesFilter")||_.DISCUSSION_FILTERS_DEFAULT_VALUE;return Object(f.f)(_.NOTE_UNDERSCORE)&&t!==_.DISCUSSION_FILTERS_DEFAULT_VALUE?{...e,filter:_.DISCUSSION_FILTERS_DEFAULT_VALUE,persistFilter:!1}:e}},systemNote:_.SYSTEM_NOTE},ae=Object(d.a)(se,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],attrs:{id:"notes"}},[i("sidebar-subscription",{attrs:{iid:e.noteableData.iid,"noteable-data":e.noteableData}}),e._v(" "),i("ordered-layout",{attrs:{"slot-keys":e.slotKeys},scopedSlots:e._u([{key:"form",fn:function(){return[e.commentsDisabled||e.timelineEnabled?e._e():i("comment-form",{staticClass:"js-comment-form",attrs:{"noteable-type":e.noteableType}})]},proxy:!0},{key:"comments",fn:function(){return[i("ul",{staticClass:"notes main-notes-list timeline",attrs:{id:"notes-list"}},[e._l(e.allDiscussions,(function(t){return[t.isSkeletonNote?i("skeleton-loading-container",{key:t.id}):t.isDraft?i("timeline-entry-item",{key:t.id},[i("draft-note",{attrs:{draft:t}})],1):t.isPlaceholderNote?[t.placeholderType===e.$options.systemNote?i("placeholder-system-note",{key:t.id,attrs:{note:t.notes[0]}}):i("placeholder-note",{key:t.id,attrs:{note:t.notes[0]}})]:e.discussionIsIndividualNoteAndNotConverted(t)?[t.notes[0].system?i("system-note",{key:t.id,attrs:{note:t.notes[0]}}):i("noteable-note",{key:t.id,attrs:{note:t.notes[0],"show-reply-button":e.canReply},on:{startReplying:function(i){return e.startReplying(t.id)}}})]:i("noteable-discussion",{key:t.id,attrs:{discussion:t,"render-diff-file":!0,"is-overview-tab":"","help-page-path":e.helpPagePath}})]})),e._v(" "),i("discussion-filter-note",{directives:[{name:"show",rawName:"v-show",value:e.commentsDisabled,expression:"commentsDisabled"}]})],2)]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=ae.exports},JBkr:function(e,t,i){"use strict";var n=i("odYa"),s=i.n(n),a=i("6IRw"),r=i.n(a);const o=s()(e=>new IntersectionObserver(e=>{e.forEach(e=>{e.target.$_gl_intersectionHandler(e)})},e||{}));const l={name:"GlIntersectionObserver",props:{options:{type:Object,required:!1,default:null}},mounted(){const e=o(this.options);this.$el.$_gl_intersectionHandler=e=>{this.$emit("update",e),e.isIntersecting?this.$emit("appear"):this.$emit("disappear")},this.$el.$_gl_intersectionObserver=e,e.observe(this.$el)},destroyed(){this.$el.$_gl_intersectionObserver.unobserve(this.$el),delete this.$el.$_gl_intersectionHandler,delete this.$el.$_gl_intersectionObserver},getObserver:o};const c=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("default")],2)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},Jrby:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i("t9l/");const s=Object(n.a)("Something went wrong on our end. Please try again!"),a={optionsDropdownTitle:Object(n.a)("Options"),fileReviewLabel:Object(n.a)("Viewed"),fileReviewTooltip:Object(n.a)("Collapses this file (only for you) until its changed again.")},r={tooLarge:Object(n.g)("MRDiffFile|Changes are too large to be shown."),blobView:Object(n.g)("MRDiffFile|View file @ %{commitSha}"),editInFork:Object(n.a)("You're not allowed to %{tag_start}edit%{tag_end} files in this project directly. Please fork this project, make your changes there, and submit a merge request."),fork:Object(n.a)("Fork"),cancel:Object(n.a)("Cancel"),autoCollapsed:Object(n.a)("Files with large changes are collapsed by default."),expand:Object(n.a)("Expand file")},o={whitespace:Object(n.a)("Show whitespace changes"),fileByFile:Object(n.a)("Show one file at a time"),preferences:Object(n.a)("Preferences")},l={both_modified:Object(n.a)("Conflict: This file was modified in both the source and target branches."),modified_source_removed_target:Object(n.a)("Conflict: This file was modified in the source branch, but removed in the target branch."),modified_target_removed_source:Object(n.a)("Conflict: This file was removed in the source branch, but modified in the target branch."),renamed_same_file:Object(n.a)("Conflict: This file was renamed differently in the source and target branches."),removed_source_renamed_target:Object(n.a)("Conflict: This file was removed in the source branch, but renamed in the target branch."),removed_target_renamed_source:Object(n.a)("Conflict: This file was renamed in the source branch, but removed in the target branch."),both_added:Object(n.a)("Conflict: This file was added both in the source and target branches, but with different contents.")}},JzpF:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("F+K/"),a=i("9LGn"),r=i("CkNe"),o=i("5ggI"),l=i("sFNI"),c={components:{NoteableNote:o.a,PublishButton:l.a,GlButton:n.a,GlBadge:s.a},directives:{SafeHtml:a.a},props:{draft:{type:Object,required:!0},line:{type:Object,required:!1,default:null}},data:()=>({isEditingDraft:!1}),computed:{...Object(r.f)("batchComments",["isPublishing"]),...Object(r.d)("batchComments",["isPublishingDraft"]),draftCommands(){return this.draft.references.commands}},mounted(){window.location.hash&&window.location.hash===`#note_${this.draft.id}`&&this.scrollToDraft(this.draft)},methods:{...Object(r.c)("batchComments",["deleteDraft","updateDraft","publishSingleDraft","scrollToDraft","toggleResolveDiscussion"]),...Object(r.c)(["setSelectedCommentPositionHover"]),update(e){this.updateDraft(e)},publishNow(){this.publishSingleDraft(this.draft.id)},handleEditing(){this.isEditingDraft=!0},handleNotEditing(){this.isEditingDraft=!1},handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()}},safeHtmlConfig:{ADD_TAGS:["use","gl-emoji","copy-code"]}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"draft-note-component note-wrapper",on:{mouseenter:function(t){return e.handleMouseEnter(e.draft)},mouseleave:function(t){return e.handleMouseLeave(e.draft)}}},[i("ul",{staticClass:"notes draft-notes"},[i("noteable-note",{staticClass:"draft-note",attrs:{note:e.draft,line:e.line,"discussion-root":!0},on:{handleEdit:e.handleEditing,cancelForm:e.handleNotEditing,updateSuccess:e.handleNotEditing,handleDeleteNote:e.deleteDraft,handleUpdateNote:e.update,toggleResolveStatus:function(t){return e.toggleResolveDiscussion(e.draft.id)}},scopedSlots:e._u([{key:"note-header-info",fn:function(){return[i("gl-badge",{staticClass:"gl-mr-2",attrs:{variant:"warning"}},[e._v(e._s(e.__("Pending")))])]},proxy:!0}])})],1),e._v(" "),e.isEditingDraft?e._e():[e.draftCommands?i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.draftCommands,expression:"draftCommands",arg:e.$options.safeHtmlConfig}],staticClass:"referenced-commands draft-note-commands"}):e._e(),e._v(" "),i("p",{staticClass:"draft-note-actions d-flex"},[i("publish-button",{attrs:{"show-count":!0,"should-publish":!1,category:"secondary",disabled:e.isPublishingDraft(e.draft.id)}}),e._v(" "),i("gl-button",{staticClass:"gl-ml-3",attrs:{disabled:e.isPublishing,loading:e.isPublishingDraft(e.draft.id)},on:{click:e.publishNow}},[e._v("\n        "+e._s(e.__("Add comment now"))+"\n      ")])],1)]],2)}),[],!1,null,null,null);t.a=u.exports},K4Wm:function(e,t,i){"use strict";var n=i("teVv"),s=i("t9l/");t.a={computed:{discussionResolved(){return this.discussion?Boolean(this.discussion.resolved):this.note.resolved},resolveButtonTitle(){return this.updatedNoteBody?this.discussionResolved?Object(s.a)("Comment & unresolve thread"):Object(s.a)("Comment & resolve thread"):this.discussionResolved?Object(s.a)("Unresolve thread"):Object(s.a)("Resolve thread")}},methods:{resolveHandler(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.note&&this.note.isDraft)return this.$emit("toggleResolveStatus");this.isResolving=!0;const i=this.discussionResolved||t,a=this.resolveAsThread;let r=a&&this.discussion?this.discussion.resolve_path:`${this.note.path}/resolve`;return this.discussionResolvePath&&(r=this.discussionResolvePath),this.toggleResolveNote({endpoint:r,isResolved:i,discussion:a}).then((function(){e.isResolving=!1})).catch((function(){e.isResolving=!1;const t=Object(s.a)("Something went wrong while resolving this discussion. Please try again.");Object(n.f)({message:t,parent:e.$el})}))}}}},KLkI:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("WiJj"),a={components:{GlButton:n.a},props:{isTodo:{type:Boolean,required:!1,default:!0}},computed:{buttonLabel(){return Object(s.a)(this.isTodo)}},methods:{incrementGlobalTodoCount(){Object(s.b)(1)},decrementGlobalTodoCount(){Object(s.b)(-1)},onToggle(e){this.isTodo?this.decrementGlobalTodoCount():this.incrementGlobalTodoCount(),this.$emit("click",e)}}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",e._b({attrs:{"aria-label":e.buttonLabel},on:{click:function(t){return e.onToggle(t)}}},"gl-button",e.$attrs,!1),[e._v("\n  "+e._s(e.buttonLabel)+"\n")])}),[],!1,null,null,null);t.a=o.exports},KZOo:function(e,t,i){var n=i("qGI4"),s=i("YK+j"),a=i("T5M9"),r=i("WkmZ"),o=a((function(e){var t=n(e,r);return t.length&&t[0]===e[0]?s(t):[]}));e.exports=o},KZmS:function(e,t,i){"use strict";var n=i("teVv"),s=i("t9l/"),a=i("6/mp"),r=i("mphk");var o=class{constructor(e){this.endpoint=e}fetchRelatedIssues(){return r.a.get(this.endpoint)}addRelatedIssues(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.p.RELATES_TO;return r.a.post(this.endpoint,{issuable_references:e,link_type:t})}static saveOrder(e){let{endpoint:t,move_before_id:i,move_after_id:n}=e;return r.a.put(t,{epic:{move_before_id:i,move_after_id:n}})}static remove(e){return r.a.delete(e)}},l=i("fydA"),c={name:"RelatedIssuesRoot",components:{relatedIssuesBlock:i("PgTW").a},props:{endpoint:{type:String,required:!0},canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},helpPath:{type:String,required:!1,default:""},issuableType:{type:String,required:!1,default:a.i.ISSUE},allowAutoComplete:{type:Boolean,required:!1,default:!0},pathIdSeparator:{type:String,required:!1,default:a.a.Issue},cssClass:{type:String,required:!1,default:""},showCategorizedIssues:{type:Boolean,required:!1,default:!0}},data(){return this.store=new l.a,{state:this.store.state,isFetching:!1,isSubmitting:!1,isFormVisible:!1,inputValue:""}},computed:{autoCompleteSources(){return this.allowAutoComplete?gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources:{}}},created(){this.service=new o(this.endpoint),this.fetchRelatedIssues()},methods:{findRelatedIssueById(e){return this.state.relatedIssues.find((function(t){return t.id===e}))},onRelatedIssueRemoveRequest(e){var t=this;const i=this.findRelatedIssueById(e);i?o.remove(i.relationPath).then((function(e){let{data:i}=e;t.store.setRelatedIssues(i.issuables)})).catch((function(e){e&&404!==e.status&&Object(n.f)({message:a.s[t.issuableType]})})):Object(n.f)({message:a.r[this.issuableType]})},onToggleAddRelatedIssuesForm(){this.isFormVisible=!this.isFormVisible},onPendingIssueRemoveRequest(e){this.store.removePendingRelatedIssue(e)},onPendingFormSubmit(e){var t=this;this.processAllReferences(e.pendingReferences),this.state.pendingReferences.length>0&&(this.isSubmitting=!0,this.service.addRelatedIssues(this.state.pendingReferences,e.linkedIssueType).then((function(e){let{data:i}=e;t.store.setPendingReferences([]),t.store.setRelatedIssues(i.issuables),t.isFormVisible=!1})).catch((function(e){let{response:i}=e,s=a.b[t.issuableType];i&&i.data&&i.data.message&&(s=i.data.message),Object(n.f)({message:s})})).finally((function(){t.isSubmitting=!1})))},onPendingFormCancel(){this.isFormVisible=!1,this.store.setPendingReferences([]),this.inputValue=""},fetchRelatedIssues(){var e=this;this.isFetching=!0,this.service.fetchRelatedIssues().then((function(t){let{data:i}=t;e.store.setRelatedIssues(i)})).catch((function(){e.store.setRelatedIssues([]),Object(n.f)({message:Object(s.a)("An error occurred while fetching issues.")})})).finally((function(){e.isFetching=!1}))},saveIssueOrder(e){var t=this;let{issueId:i,beforeId:a,afterId:r,oldIndex:l,newIndex:c}=e;const d=this.findRelatedIssueById(i);d&&o.saveOrder({endpoint:d.relationPath,move_before_id:a,move_after_id:r}).then((function(e){let{data:i}=e;i.message||t.store.updateIssueOrder(l,c)})).catch((function(){Object(n.f)({message:Object(s.a)("An error occurred while reordering issues.")})}))},onInput(e){let{untouchedRawReferences:t,touchedReference:i}=e;this.store.addPendingReferences(t),this.formatInput(i)},formatInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=null!==String(e).match(/^[0-9]/);this.inputValue=t?`#${e}`:`${e}`},onBlur(e){this.processAllReferences(e)},processAllReferences(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/\s+/).filter((function(e){return e.trim().length>0}));this.store.addPendingReferences(e),this.inputValue=""}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("related-issues-block",{class:e.cssClass,attrs:{"help-path":e.helpPath,"is-fetching":e.isFetching,"is-submitting":e.isSubmitting,"related-issues":e.state.relatedIssues,"can-admin":e.canAdmin,"can-reorder":e.canReorder,"pending-references":e.state.pendingReferences,"is-form-visible":e.isFormVisible,"input-value":e.inputValue,"auto-complete-sources":e.autoCompleteSources,"issuable-type":e.issuableType,"path-id-separator":e.pathIdSeparator,"show-categorized-issues":e.showCategorizedIssues},on:{saveReorder:e.saveIssueOrder,toggleAddRelatedIssuesForm:e.onToggleAddRelatedIssuesForm,addIssuableFormInput:e.onInput,addIssuableFormBlur:e.onBlur,addIssuableFormSubmit:e.onPendingFormSubmit,addIssuableFormCancel:e.onPendingFormCancel,pendingIssuableRemoveRequest:e.onPendingIssueRemoveRequest,relatedIssueRemoveRequest:e.onRelatedIssueRemoveRequest}})}),[],!1,null,null,null);t.a=u.exports},Kfky:function(e,t,i){"use strict";var n=i("q+nE");t.a=function({idProp:e=(e=>e.item.id)}={}){const t={},i=new n.default({data:()=>({store:t})});return{data:()=>({idState:null}),created(){this.$_id=null,this.$_getId="function"==typeof e?()=>e.call(this,this):()=>this[e],this.$watch(this.$_getId,{handler(e){this.$nextTick(()=>{this.$_id=e})},immediate:!0}),this.$_updateIdState()},beforeUpdate(){this.$_updateIdState()},methods:{$_idStateInit(e){const n=this.$options.idState;if("function"==typeof n){const s=n.call(this,this);return i.$set(t,e,s),this.$_id=e,s}throw new Error("[mixin IdState] Missing `idState` function on component definition.")},$_updateIdState(){const i=this.$_getId();null==i&&console.warn(`No id found for IdState with idProp: '${e}'.`),i!==this.$_id&&(t[i]||this.$_idStateInit(i),this.idState=t[i])}}}}},Ks8L:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return o}));var n=i("tY3p");const s=function(e){return{endpoint:e.notesData.draftsPath,data:e}},a=function(e){return{endpoint:e.notesData.draftsPath,data:Object(n.h)(e)}},r=function(e,t){return e[t]?e[t].line_code:""},o=function(e,t){if(null===t)return!0;if("left"===t||"right"===t){const i="left"===t?"right":"left",n=e[t]&&e[t].line_code||"",s=e[i]&&e[i].line_code||"";if(n!==s||"left"===t&&n===s)return!0}return!1}},KunK:function(e,t,i){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.d(t,"a",(function(){return c}));var r=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(i,n)}var t,i,n;return t=e,(i=[{key:"createObserver",value:function(e,t){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){var n;if(this.options="function"==typeof(n=e)?{callback:n}:n,this.callback=function(e,t){i.options.callback(e,t),e&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var s=(this.options.throttleOptions||{}).leading;this.callback=function(e,t){var i,n,s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];if(s=c,!i||o!==n){var u=r.leading;"function"==typeof u&&(u=u(o,n)),i&&o===n||!u||e.apply(void 0,[o].concat(a(s))),n=o,clearTimeout(i),i=setTimeout((function(){e.apply(void 0,[o].concat(a(s))),i=0}),t)}};return o._clear=function(){clearTimeout(i),i=null},o}(this.callback,this.options.throttle,{leading:function(e){return"both"===s||"visible"===s&&e||"hidden"===s&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];if(e.length>1){var n=e.find((function(e){return e.isIntersecting}));n&&(t=n)}if(i.callback){var s=t.isIntersecting&&t.intersectionRatio>=i.threshold;if(s===i.oldResult)return;i.oldResult=s,i.callback(s,t)}}),this.options.intersection),t.context.$nextTick((function(){i.observer&&i.observer.observe(i.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}])&&s(t.prototype,i),n&&s(t,n),e}();function o(e,t,i){var n=t.value;if(n)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var s=new r(e,n,i);e._vue_visibilityState=s}}function l(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var c={bind:o,update:function(e,t,i){var s=t.value;if(!function e(t,i){if(t===i)return!0;if("object"===n(t)){for(var s in t)if(!e(t[s],i[s]))return!1;return!0}return!1}(s,t.oldValue)){var a=e._vue_visibilityState;s?a?a.createObserver(s,i):o(e,{value:s},i):l(e)}},unbind:l};var d={version:"1.0.0",install:function(e){e.directive("observe-visibility",c)}},u=null;"undefined"!=typeof window?u=window.Vue:void 0!==e&&(u=e.Vue),u&&u.use(d)}).call(this,i("uE4I"))},"L+KC":function(e,t,i){"use strict";var n=i("CkNe");t.a={computed:{...Object(n.d)(["getNoteableDataByProp"]),isProjectArchived(){return this.getNoteableDataByProp("is_project_archived")},archivedProjectDocsPath(){return this.getNoteableDataByProp("archived_project_docs_path")},lockedIssueDocsPath(){return this.getNoteableDataByProp("locked_discussion_docs_path")}},methods:{isLocked:e=>Boolean(e.discussion_locked)}}},L2Ca:function(e,t,i){"use strict";var n=i("s1va"),s=i.n(n),a=i("0X+3"),r=i("q+nE"),o=i("teVv"),l=i("mpzd"),c=i("t9l/"),d=i("P9vb"),u=i("cuRJ"),p=i("QWlh"),h={components:{GlButton:u.a,UncollapsedAssigneeList:p.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"},signedIn:{type:Boolean,required:!1,default:!1}},computed:{assigneesText(){return Object(c.f)("Assignee","%d Assignees",this.users.length)},emptyUsers(){return 0===this.users.length}},methods:{toggleAttentionRequested(e){this.$emit("toggle-attention-requested",e)}}},f=i("bPvS"),m=Object(f.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-flex-direction-column issuable-assignees"},[e.emptyUsers?i("div",{staticClass:"gl-display-flex gl-align-items-center gl-text-gray-500 gl-mt-2 hide-collapsed",attrs:{"data-testid":"none"}},[i("span",[e._v(" "+e._s(e.__("None")))]),e._v(" "),e.signedIn?[i("span",{staticClass:"gl-ml-2"},[e._v("-")]),e._v(" "),i("gl-button",{staticClass:"gl-ml-2",attrs:{"data-testid":"assign-yourself",category:"tertiary",variant:"link"},on:{click:function(t){return e.$emit("assign-self")}}},[i("span",{staticClass:"gl-text-gray-500 gl-hover-text-blue-800"},[e._v(e._s(e.__("assign yourself")))])])]:e._e()],2):i("uncollapsed-assignee-list",{staticClass:"gl-text-gray-800 gl-mt-2 hide-collapsed",attrs:{users:e.users,"issuable-type":e.issuableType},on:{"toggle-attention-requested":e.toggleAttentionRequested}})],1)}),[],!1,null,null,null).exports,g=i("dYBJ"),b=i("5ee2"),v=i("m6pR"),y=i("OkMp"),_=i("OqKX"),w=i("6HTq"),S=i("zLBL"),k=i("ayGe"),O=i.n(k),T=i("5iYK"),j=i("EtIY"),C={components:{GlAvatarLabeled:T.a,GlAvatarLink:j.a},props:{user:{type:Object,required:!0}},computed:{userLabel(){return this.user.status?Object(c.h)(Object(c.g)("UserAvailability|%{author} (Busy)"),{author:this.user.name}):this.user.name}}},E=Object(f.a)(C,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-avatar-link",[t("gl-avatar-labeled",{staticClass:"gl-align-items-center",attrs:{size:32,label:this.userLabel,"sub-label":this.user.username,src:this.user.avatarUrl||this.user.avatar||this.user.avatar_url}})],1)}),[],!1,null,null,null).exports,I={i18n:{unassigned:Object(c.a)("Unassigned")},components:{GlDropdownForm:v.a,GlDropdown:y.a,GlDropdownDivider:_.a,GlDropdownItem:a.a,GlSearchBoxByType:w.a,SidebarParticipant:E,GlLoadingIcon:S.a},props:{headerText:{type:String,required:!0},text:{type:String,required:!0},fullPath:{type:String,required:!0},iid:{type:String,required:!0},value:{type:Array,required:!0},allowMultipleAssignees:{type:Boolean,required:!1,default:!1},currentUser:{type:Object,required:!0},issuableType:{type:String,required:!1,default:"issue"},isEditing:{type:Boolean,required:!1,default:!0}},data:()=>({search:"",participants:[],searchUsers:[],isSearching:!1}),apollo:{participants:{query(){return b.p[this.issuableType].query},skip(){return Boolean(b.p[this.issuableType].skipQuery)||!this.isEditing},variables(){return{iid:this.iid,fullPath:this.fullPath}},update(e){var t,i;return null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.participants.nodes},error(){this.$emit("error")}},searchUsers:{query:O.a,variables(){return{fullPath:this.fullPath,search:this.search,first:20}},skip(){return!this.isEditing},update(e){var t,i;return(null===(t=e.workspace)||void 0===t?void 0:null===(i=t.users)||void 0===i?void 0:i.nodes.filter((function(e){return null==e?void 0:e.user})).map((function(e){let{user:t}=e;return t})))||[]},debounce:b.a,error(){this.$emit("error"),this.isSearching=!1},result(){this.isSearching=!1}}},computed:{isLoading(){return this.$apollo.queries.searchUsers.loading||this.$apollo.queries.participants.loading},users(){var e=this;if(!this.participants)return[];const t=this.participants.filter((function(t){return t.name.includes(e.search)||t.username.includes(e.search)})).concat(this.searchUsers).reduce((function(e,t){return e.some((function(e){return t.id===e.id}))?e:[...e,t]}),[]);return this.moveCurrentUserToStart(t)},isSearchEmpty(){return""===this.search},shouldShowParticipants(){return this.isSearchEmpty||this.isSearching},isCurrentUserInList(){var e=this;return this.users.some((function(t){return t.username===e.currentUser.username}))},noUsersFound(){return!this.isSearchEmpty&&0===this.users.length},showCurrentUser(){return this.currentUser.username&&!this.isCurrentUserInList&&this.isSearchEmpty},selectedFiltered(){if(this.shouldShowParticipants)return this.moveCurrentUserToStart(this.value);const e=this.users.map((function(e){let{username:t}=e;return t})),t=this.value.filter((function(t){let{username:i}=t;return e.includes(i)}));return this.moveCurrentUserToStart(t)},selectedUserNames(){return this.value.map((function(e){let{username:t}=e;return t}))},unselectedFiltered(){var e,t=this;return(null===(e=this.users)||void 0===e?void 0:e.filter((function(e){let{username:i}=e;return!t.selectedUserNames.includes(i)})))||[]},selectedIsEmpty(){return 0===this.selectedFiltered.length}},watch:{search(e){e&&(this.isSearching=!0)}},methods:{selectAssignee(e){let t=[...this.value];this.allowMultipleAssignees?t.push(e):t=[e],this.$emit("input",t)},unselect(e){const t=this.value.filter((function(t){return t.username!==e}));this.$emit("input",t)},focusSearch(){this.$refs.search.focusInput()},showDivider(e){return e.length>0&&this.isSearchEmpty},moveCurrentUserToStart(e){var t=this;if(!e)return[];const i=[...e],n=i.find((function(e){return e.username===t.currentUser.username}));if(n){const e=i.indexOf(n);i.splice(0,0,i.splice(e,1)[0])}return i}}},x=Object(f.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{staticClass:"show",attrs:{text:e.text},on:{toggle:function(t){return e.$emit("toggle")}},scopedSlots:e._u([{key:"header",fn:function(){return[i("p",{staticClass:"gl-font-weight-bold gl-text-center gl-mt-2 gl-mb-4"},[e._v(e._s(e.headerText))]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),i("gl-search-box-by-type",{ref:"search",staticClass:"js-dropdown-input-field",model:{value:e.search,callback:function(t){e.search="string"==typeof t?t.trim():t},expression:"search"}})]},proxy:!0},{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[e._v(" "),i("gl-dropdown-form",{staticClass:"gl-relative gl-min-h-7"},[e.isLoading?i("gl-loading-icon",{staticClass:"gl-absolute gl-left-0 gl-top-0 gl-right-0",attrs:{"data-testid":"loading-participants",size:"md"}}):[e.shouldShowParticipants?[e.isSearchEmpty?i("gl-dropdown-item",{attrs:{"is-checked":e.selectedIsEmpty,"is-check-centered":!0,"data-testid":"unassign"},on:{click:function(t){return e.$emit("input",[])}}},[i("span",{staticClass:"gl-font-weight-bold",class:e.selectedIsEmpty?"gl-pl-0":"gl-pl-6"},[e._v(e._s(e.$options.i18n.unassigned))])]):e._e()]:e._e(),e._v(" "),e.showDivider(e.selectedFiltered)?i("gl-dropdown-divider"):e._e(),e._v(" "),e._l(e.selectedFiltered,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"is-checked":"","is-check-centered":"","data-testid":"selected-participant"},on:{click:function(i){return i.stopPropagation(),e.unselect(t.username)}}},[i("sidebar-participant",{attrs:{user:t}})],1)})),e._v(" "),e.showCurrentUser?[i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{attrs:{"data-testid":"current-user"},on:{click:function(t){return t.stopPropagation(),e.selectAssignee(e.currentUser)}}},[i("sidebar-participant",{staticClass:"gl-pl-6!",attrs:{user:e.currentUser}})],1)]:e._e(),e._v(" "),e.showDivider(e.unselectedFiltered)?i("gl-dropdown-divider"):e._e(),e._v(" "),e._l(e.unselectedFiltered,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"data-testid":"unselected-participant"},on:{click:function(i){return e.selectAssignee(t)}}},[i("sidebar-participant",{staticClass:"gl-pl-6!",attrs:{user:t}})],1)})),e._v(" "),e.noUsersFound?i("gl-dropdown-item",{staticClass:"gl-pl-6!",attrs:{"data-testid":"empty-results"}},[e._v("\n        "+e._s(e.__("No matching results"))+"\n      ")]):e._e()]],2)],1)}),[],!1,null,null,null).exports,D=i("Zxcm"),P=i("rBzE"),N={displayText:Object(c.a)("Invite members"),dataTrackLabel:"edit_assignee",dataTrackEvent:"click_invite_members",components:{InviteMembersTrigger:P.a},props:{issuableType:{type:String,required:!0}},computed:{triggerSource(){return`${this.issuableType}-assignee-dropdown`}}},A=Object(f.a)(N,(function(){var e=this.$createElement;return(this._self._c||e)("invite-members-trigger",{attrs:{"trigger-element":"anchor","display-text":this.$options.displayText,event:this.$options.dataTrackEvent,label:this.$options.dataTrackLabel,"trigger-source":this.triggerSource,classes:"gl-display-block gl-pl-6 gl-hover-text-decoration-none gl-hover-text-blue-800!"}})}),[],!1,null,null,null).exports;const R=r.default.observable({updateAssignees:null}),L=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var $={i18n:{unassigned:Object(c.a)("Unassigned"),assignee:Object(c.a)("Assignee"),assignees:Object(c.a)("Assignees"),assignTo:Object(c.a)("Assign to")},components:{SidebarEditableItem:g.a,IssuableAssignees:m,GlDropdownItem:a.a,SidebarInviteMembers:A,SidebarAssigneesRealtime:d.a,UserSelect:x},mixins:[Object(D.a)()],inject:{directlyInviteMembers:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},initialAssignees:{type:Array,required:!1,default:null},issuableType:{type:String,required:!1,default:l.c.Issue,validator:e=>[l.c.Issue,l.c.MergeRequest,l.c.Alert].includes(e)},issuableId:{type:Number,required:!1,default:null},allowMultipleAssignees:{type:Boolean,required:!0}},data:()=>({issuable:{},selected:[],isSettingAssignees:!1,isDirty:!1,oldIid:null,oldSelected:null}),apollo:{issuable:{query(){return b.f[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},result(e){var t;let{data:i}=e;if(!i)return;const n=null===(t=i.workspace)||void 0===t?void 0:t.issuable;n&&(this.selected=s()(n.assignees.nodes))},error(){Object(o.f)({message:Object(c.a)("An error occurred while fetching participants.")})}}},computed:{shouldEnableRealtime(){return this.glFeatures.realTimeIssueSidebar&&this.issuableType===l.c.Issue},queryVariables(){return{iid:this.iid,fullPath:this.fullPath}},assignees(){var e,t;return(this.$apollo.queries.issuable.loading?this.initialAssignees:null===(e=this.issuable)||void 0===e?void 0:null===(t=e.assignees)||void 0===t?void 0:t.nodes)||[]},assigneeText(){const e=this.$apollo.queries.issuable.loading?this.initialAssignees:this.selected;return e?Object(c.f)("Assignee","%d Assignees",e.length):Object(c.a)("Assignee")},isAssigneesLoading(){return!this.initialAssignees&&this.$apollo.queries.issuable.loading},currentUser(){var e,t,i;return{username:null===(e=gon)||void 0===e?void 0:e.current_username,name:null===(t=gon)||void 0===t?void 0:t.current_user_fullname,avatarUrl:null===(i=gon)||void 0===i?void 0:i.current_user_avatar_url}},signedIn(){return void 0!==this.currentUser.username}},watch:{iid(e,t){this.isDirty&&(this.oldIid=t,this.oldSelected=this.selected)}},created(){R.updateAssignees=this.updateAssignees},destroyed(){R.updateAssignees=null},methods:{updateAssignees(e){var t=this;return this.isSettingAssignees=!0,this.$apollo.mutate({mutation:b.f[this.issuableType].mutation,variables:{...this.queryVariables,assigneeUsernames:e,iid:this.oldIid||this.iid}}).then((function(e){let{data:i}=e;return t.$emit("assignees-updated",{id:i.issuableSetAssignees.issuable.id,assignees:i.issuableSetAssignees.issuable.assignees.nodes}),i})).catch((function(){Object(o.f)({message:Object(c.a)("An error occurred while updating assignees.")})})).finally((function(){t.isSettingAssignees=!1}))},assignSelf(){this.updateAssignees([this.currentUser.username])},saveAssignees(){if(this.isDirty){this.isDirty=!1;const e=this.oldSelected||this.selected;this.updateAssignees(e.map((function(e){let{username:t}=e;return t}))),this.oldIid=null,this.oldSelected=null}this.$el.dispatchEvent(L)},collapseWidget(){this.$refs.toggle.collapse()},expandWidget(){this.$refs.toggle.expand()},focusSearch(){this.$refs.userSelect.focusSearch()},showError(){Object(o.f)({message:Object(c.a)("An error occurred while fetching participants.")})},setDirtyState(){this.isDirty=!0,this.allowMultipleAssignees||this.collapseWidget()}}},q=Object(f.a)($,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"assignees-widget"}},[e.shouldEnableRealtime?i("sidebar-assignees-realtime",{attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"query-variables":e.queryVariables}}):e._e(),e._v(" "),i("sidebar-editable-item",{ref:"toggle",attrs:{loading:e.isSettingAssignees,"initial-loading":e.isAssigneesLoading,title:e.assigneeText,"is-dirty":e.isDirty},on:{open:e.focusSearch,close:e.saveAssignees},scopedSlots:e._u([{key:"collapsed",fn:function(){return[e._t("collapsed",null,{users:e.assignees,onClick:e.expandWidget}),e._v(" "),i("issuable-assignees",{attrs:{users:e.assignees,"issuable-type":e.issuableType,"signed-in":e.signedIn},on:{"assign-self":e.assignSelf,"expand-widget":e.expandWidget}})]},proxy:!0},{key:"default",fn:function(t){var n=t.edit;return[i("user-select",{ref:"userSelect",staticClass:"gl-w-full dropdown-menu-user",attrs:{text:e.$options.i18n.assignees,"header-text":e.$options.i18n.assignTo,iid:e.iid,"full-path":e.fullPath,"allow-multiple-assignees":e.allowMultipleAssignees,"current-user":e.currentUser,"issuable-type":e.issuableType,"is-editing":n},on:{toggle:e.collapseWidget,error:e.showError,input:e.setDirtyState},scopedSlots:e._u([{key:"footer",fn:function(){return[e.directlyInviteMembers?i("gl-dropdown-item",[i("sidebar-invite-members",{attrs:{"issuable-type":e.issuableType}})],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})]}}],null,!0)})],1)}),[],!1,null,null,null);t.a=q.exports},LSGu:function(e,t,i){var n=i("8RB9"),s=i("x/yk");e.exports=function(e,t){return e&&n(t,s(t),e)}},LcVr:function(e,t,i){"use strict";var n=i("ly/8"),s=i("BLrG"),a=(i("U1Ws"),{directives:{GlTooltip:n.a},mixins:[s.a],props:{time:{type:[String,Number],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}},computed:{timeAgo(){return this.timeFormatted(this.time)}}}),r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:e.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:e.cssClass,attrs:{title:e.tooltipTitle(e.time),datetime:e.time}},[e._t("default",[e._v(e._s(e.timeAgo))],{timeAgo:e.timeAgo})],2)}),[],!1,null,null,null);t.a=o.exports},LdWl:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("ly/8"),a=i("t9l/"),r=i("/LsX"),o={i18n:{attentionRequestedReviewer:Object(a.a)("Request attention to review"),attentionRequestedAssignee:Object(a.a)("Request attention"),removeAttentionRequested:Object(a.a)("Remove attention request")},components:{GlButton:n.a},directives:{GlTooltip:s.a},props:{type:{type:String,required:!0},user:{type:Object,required:!0}},data:()=>({loading:!1}),computed:{tooltipTitle(){return this.user.attention_requested?this.$options.i18n.removeAttentionRequested:"reviewer"===this.type?this.$options.i18n.attentionRequestedReviewer:this.$options.i18n.attentionRequestedAssignee}},methods:{toggleAttentionRequired(){this.loading||(this.$root.$emit(r.d),this.loading=!0,this.$emit("toggle-attention-requested",{user:this.user,callback:this.toggleAttentionRequiredComplete}))},toggleAttentionRequiredComplete(){this.loading=!1}}},l=i("bPvS"),c=Object(l.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",value:this.tooltipTitle,expression:"tooltipTitle",modifiers:{left:!0,viewport:!0}}]},[t("gl-button",{attrs:{loading:this.loading,variant:this.user.attention_requested?"warning":"default",icon:this.user.attention_requested?"attention-solid":"attention","aria-label":this.tooltipTitle,size:"small",category:"tertiary"},on:{click:this.toggleAttentionRequired}})],1)}),[],!1,null,null,null);t.a=c.exports},LdpZ:function(e,t,i){"use strict";var n=i("lT7T"),s=i("AFSh"),a=i("vRHk"),r=i("t9l/"),o={actionCancel:{text:Object(r.a)("Cancel")},csrf:s.a,components:{GlModal:n.a},props:{issuePath:{type:String,required:!0},issueType:{type:String,required:!0},modalId:{type:String,required:!0},title:{type:String,required:!0}},computed:{actionPrimary(){return{attributes:{variant:"danger"},text:this.title}},bodyText(){return"epic"===this.issueType.toLowerCase()?Object(r.a)("Delete this epic and all descendants?"):Object(r.h)(Object(r.a)("%{issuableType} will be removed! Are you sure?"),{issuableType:Object(a.b)(this.issueType)})}},methods:{submitForm(){this.$emit("delete"),this.$refs.form.submit()}}},l=i("bPvS"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-modal",{attrs:{"action-cancel":e.$options.actionCancel,"action-primary":e.actionPrimary,"modal-id":e.modalId,size:"sm",title:e.title},on:{primary:e.submitForm}},[i("form",{ref:"form",attrs:{action:e.issuePath,method:"post"}},[i("input",{attrs:{type:"hidden",name:"_method",value:"delete"}}),e._v(" "),i("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),i("input",{attrs:{type:"hidden",name:"destroy_confirm",value:"true"}}),e._v("\n    "+e._s(e.bodyText)+"\n  ")])])}),[],!1,null,null,null);t.a=c.exports},MyrM:function(e,t,i){"use strict";var n=i("H8gz"),s=i("5DNK"),a=i("U1Ws"),r=i("t9l/"),o=i("BLrG"),l={components:{GlIcon:n.a,GlTooltip:s.a},mixins:[o.a],props:{milestone:{type:Object,required:!0}},computed:{milestoneDue(){const e=this.milestone.due_date||this.milestone.dueDate;return e?Object(a.T)(e):null},milestoneStart(){const e=this.milestone.start_date||this.milestone.startDate;return e?Object(a.T)(e):null},isMilestoneStarted(){return!!this.milestoneStart&&Date.now()>this.milestoneStart},isMilestonePastDue(){return!!this.milestoneDue&&Date.now()>this.milestoneDue},milestoneDatesAbsolute(){return this.milestoneDue?`(${Object(a.f)(this.milestoneDue)})`:this.milestoneStart?`(${Object(a.f)(this.milestoneStart)})`:""},milestoneDatesHuman(){return this.milestoneStart||this.milestoneDue?this.milestoneDue?Object(a.ab)(this.milestoneDue,Object(r.h)(Object(r.a)("Expired %{expiredOn}"),{expiredOn:this.timeFormatted(this.milestoneDue)})):Object(r.h)(this.isMilestoneStarted?Object(r.a)("Started %{startsIn}"):Object(r.a)("Starts %{startsIn}"),{startsIn:this.timeFormatted(this.milestoneStart)}):""}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"milestoneDetails",staticClass:"issue-milestone-details"},[i("gl-icon",{staticClass:"gl-mr-2",attrs:{size:16,name:"clock"}}),e._v(" "),i("span",{staticClass:"milestone-title d-inline-block"},[e._v(e._s(e.milestone.title))]),e._v(" "),i("gl-tooltip",{staticClass:"js-item-milestone",attrs:{target:function(){return e.$refs.milestoneDetails},placement:"bottom"}},[i("span",{staticClass:"bold"},[e._v(e._s(e.__("Milestone")))]),e._v(" "),i("br"),e._v(" "),i("span",[e._v(e._s(e.milestone.title))]),e._v(" "),i("br"),e._v(" "),e.milestoneStart||e.milestoneDue?i("span",{class:{"text-danger-muted":e.isMilestonePastDue,"text-tertiary":!e.isMilestonePastDue}},[i("span",[e._v(e._s(e.milestoneDatesHuman))]),i("br"),i("span",[e._v(e._s(e.milestoneDatesAbsolute))])]):e._e()])],1)}),[],!1,null,null,null);t.a=d.exports},"N+rP":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("Z2pp"),s=i("jyii"),a=i("gCUY"),r=i("ummR"),o=i("PrCM"),l=i("GpHn");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=Object(a.c)({variant:{type:String,default:null}},s.pb),p=n.a.extend({name:s.pb,mixins:[r.a,o.a,l.a],provide:function(){return{bvTableTr:this}},inject:{bvTableRowGroup:{default:function(){return{}}}},inheritAttrs:!1,props:u,computed:{inTbody:function(){return this.bvTableRowGroup.isTbody},inThead:function(){return this.bvTableRowGroup.isThead},inTfoot:function(){return this.bvTableRowGroup.isTfoot},isDark:function(){return this.bvTableRowGroup.isDark},isStacked:function(){return this.bvTableRowGroup.isStacked},isResponsive:function(){return this.bvTableRowGroup.isResponsive},isStickyHeader:function(){return this.bvTableRowGroup.isStickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTableRowGroup.hasStickyHeader},tableVariant:function(){return this.bvTableRowGroup.tableVariant},headVariant:function(){return this.inThead?this.bvTableRowGroup.headVariant:null},footVariant:function(){return this.inTfoot?this.bvTableRowGroup.footVariant:null},isRowDark:function(){return"light"!==this.headVariant&&"light"!==this.footVariant&&("dark"===this.headVariant||"dark"===this.footVariant||this.isDark)},trClasses:function(){return[this.variant?"".concat(this.isRowDark?"bg":"table","-").concat(this.variant):null]},trAttrs:function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({role:"row"},this.bvAttrs)}},render:function(e){return e("tr",{class:this.trClasses,attrs:this.trAttrs,on:this.bvListeners},this.normalizeSlot())}})},Ng9o:function(e,t,i){"use strict";var n=i("H8gz");const s=[8,12,16,18,24,32,48,72];var a={components:{GlIcon:n.a},props:{status:{type:Object,required:!0},size:{type:Number,required:!1,default:16,validator:e=>s.includes(e)},borderless:{type:Boolean,required:!1,default:!1},cssClasses:{type:String,required:!1,default:""}},computed:{cssClass(){const e=this.status.group;return`ci-status-icon ci-status-icon-${e} js-ci-status-icon-${e}`},icon(){return this.borderless?`${this.status.icon}_borderless`:this.status.icon}}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{class:this.cssClass},[t("gl-icon",{class:this.cssClasses,attrs:{name:this.icon,size:this.size,"aria-label":this.status.icon}})],1)}),[],!1,null,null,null);t.a=o.exports},NlHF:function(e,t,i){var n=i("ueyC");e.exports=function(e,t,i){var s=e.length;return i=void 0===i?s:i,!t&&i>=s?e:n(e,t,i)}},NwYK:function(e,t,i){var n=i("NYR+"),s=i("vAG4"),a=i("eV0l"),r=RegExp("[']","g");e.exports=function(e){return function(t){return n(a(s(t).replace(r,"")),e,"")}}},NwwH:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Label"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Label"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]}]}}],loc:{start:0,end:75}};i.loc.source={body:"fragment Label on Label {\n  id\n  title\n  description\n  color\n  textColor\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},OFrq:function(e,t,i){"use strict";var n=i("zLBL"),s=i("nPFI"),a=i("t9l/"),r={name:"CopyableField",components:{ClipboardButton:i("/MVl").a,GlLoadingIcon:n.a,GlSprintf:s.a},props:{value:{type:String,required:!0},name:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1},clipboardTooltipText:{type:String,required:!1,default:void 0}},computed:{clipboardProps(){return{category:"tertiary",tooltipBoundary:"viewport",tooltipPlacement:"left",text:this.value,title:this.clipboardTooltipText||Object(a.h)(this.$options.i18n.clipboardTooltip,{name:this.name})}},loadingIconLabel(){return Object(a.h)(this.$options.i18n.loadingIconLabel,{name:this.name})}},i18n:{loadingIconLabel:Object(a.a)("Loading %{name}"),clipboardTooltip:Object(a.a)("Copy %{name}"),templateText:Object(a.g)("Sidebar|%{name}: %{value}")}},o=i("bPvS"),l=Object(o.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLoading?e._e():i("clipboard-button",e._b({attrs:{"css-class":"sidebar-collapsed-icon js-dont-change-state gl-rounded-0! gl-hover-bg-transparent"}},"clipboard-button",e.clipboardProps,!1)),e._v(" "),i("div",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-space-between hide-collapsed"},[i("span",{staticClass:"gl-overflow-hidden gl-text-overflow-ellipsis gl-white-space-nowrap",attrs:{title:e.value}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.templateText},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.name))]},proxy:!0},{key:"value",fn:function(){return[e._v(e._s(e.value))]},proxy:!0}])})],1),e._v(" "),e.isLoading?i("gl-loading-icon",{attrs:{size:"sm",inline:"",label:e.loadingIconLabel}}):i("clipboard-button",e._b({attrs:{size:"small"}},"clipboard-button",e.clipboardProps,!1))],1)],1)}),[],!1,null,null,null);t.a=l.exports},OPBM:function(e,t){var i=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,i.exec(e));return t.lastIndex=e.lastIndex,t}},"Ox/j":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY");var o=n.a.extend({name:a.s,functional:!0,props:Object(r.c)({tag:{type:String,default:"p"},textClass:{type:[String,Array,Object]},variant:{type:String}},a.s),render:function(e,t){var i,n,a,r=t.props,o=t.data,l=t.children,c=r.tag,d=r.textClass,u=r.variant,p=o.attrs||{};return o.attrs={},e("li",Object(s.a)(o,{attrs:{role:"presentation"}}),[e(c,{staticClass:"b-dropdown-text",class:[d,(i={},n="text-".concat(u),a=u,n in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a,i)],props:r,attrs:p,ref:"text"},l)])}}),l=i("6IRw");const c={components:{BDropdownText:o},inheritAttrs:!1};const d=i.n(l)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-text",this._g(this._b({staticClass:"gl-new-dropdown-text"},"b-dropdown-text",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},P9vb:function(e,t,i){"use strict";var n=i("ENs1"),s=i("+lve"),a=i("mpzd"),r=i("5ee2"),o={subscription:null,name:"AssigneesRealtime",props:{mediator:{type:Object,required:!1,default:null},issuableType:{type:String,required:!0},issuableId:{type:Number,required:!0},queryVariables:{type:Object,required:!0}},computed:{issuableClass(){var e=this;return Object.keys(a.c).find((function(t){return a.c[t]===e.issuableType}))}},apollo:{issuable:{query(){return r.f[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},subscribeToMore:{document(){return r.f[this.issuableType].subscription},variables(){return{issuableId:Object(s.c)(this.issuableClass,this.issuableId)}},updateQuery(e,t){var i;let{subscriptionData:s}=t;if(e&&null!=s&&null!==(i=s.data)&&void 0!==i&&i.issuableAssigneesUpdated){const t=Object(n.a)(e,(function(e){e.workspace.issuable.assignees.nodes=s.data.issuableAssigneesUpdated.assignees.nodes}));return this.mediator&&this.handleFetchResult(t),t}return e}}}},methods:{handleFetchResult(e){const{nodes:t}=e.workspace.issuable.assignees,i=t.map((function(e){return{...e,avatar_url:e.avatarUrl,id:Object(s.e)(e.id)}}));this.mediator.store.setAssigneesFromRealtime(i)}},render:()=>null},l=i("bPvS"),c=Object(l.a)(o,void 0,void 0,!1,null,null,null);t.a=c.exports},PgTW:function(e,t,i){"use strict";var n=i("u1ru"),s=i("cuRJ"),a=i("H8gz"),r=i("6/mp"),o=i("6NJX"),l=i("zLBL"),c=i("d80H"),d=i("yMQU"),u=i("xV1n"),p={name:"RelatedIssuesList",components:{GlLoadingIcon:l.a,RelatedIssuableItem:u.a},props:{canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},heading:{type:String,required:!1,default:""},isFetching:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!0},pathIdSeparator:{type:String,required:!0},relatedIssues:{type:Array,required:!1,default:function(){return[]}}},mounted(){this.canReorder&&(this.sortable=c.default.create(this.$refs.list,{...d.a,onStart:this.addDraggingCursor,onEnd:this.reordered}))},methods:{getBeforeAfterId(e){const t=e.previousElementSibling,i=e.nextElementSibling;return{beforeId:t&&parseInt(t.dataset.orderingId,10),afterId:i&&parseInt(i.dataset.orderingId,10)}},reordered(e){this.removeDraggingCursor();const{beforeId:t,afterId:i}=this.getBeforeAfterId(e.item),{oldIndex:n,newIndex:s}=e;this.$emit("saveReorder",{issueId:parseInt(e.item.dataset.key,10),oldIndex:n,newIndex:s,afterId:i,beforeId:t})},addDraggingCursor(){document.body.classList.add("is-dragging")},removeDraggingCursor(){document.body.classList.remove("is-dragging")},issuableOrderingId(e){let{epicIssueId:t,id:i}=e;return"issue"===this.issuableType?t:i}}},h=i("bPvS"),f=Object(h.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.heading?i("h4",{staticClass:"gl-font-base mt-0"},[e._v(e._s(e.heading))]):e._e(),e._v(" "),i("div",{staticClass:"related-issues-token-body bordered-box bg-white",class:{"sortable-container":e.canReorder}},[e.isFetching?i("div",{staticClass:"gl-mb-2",attrs:{"data-qa-selector":"related_issues_loading_placeholder"}},[i("gl-loading-icon",{ref:"loadingIcon",staticClass:"gl-mt-2",attrs:{size:"sm",label:"Fetching linked issues"}})],1):e._e(),e._v(" "),i("ul",{ref:"list",staticClass:"related-items-list",class:{"content-list":!e.canReorder}},e._l(e.relatedIssues,(function(t){return i("li",{key:t.id,staticClass:"js-related-issues-token-list-item list-item pt-0 pb-0",class:{"gl-cursor-grab":e.canReorder,"sortable-row":e.canReorder,"card card-slim":e.canReorder},attrs:{"data-key":t.id,"data-ordering-id":e.issuableOrderingId(t)}},[i("related-issuable-item",{attrs:{"id-key":t.id,"display-reference":t.reference,confidential:t.confidential,title:t.title,path:t.path,state:t.state,milestone:t.milestone,assignees:t.assignees,"created-at":t.createdAt,"closed-at":t.closedAt,weight:t.weight,"due-date":t.dueDate,"can-remove":e.canAdmin,"can-reorder":e.canReorder,"path-id-separator":e.pathIdSeparator,"is-locked":t.lockIssueRemoval,"locked-message":t.lockedMessage,"event-namespace":"relatedIssue","data-qa-selector":"related_issuable_content"},on:{relatedIssueRemoveRequest:function(t){return e.$emit("relatedIssueRemoveRequest",t)}}})],1)})),0)])])}),[],!1,null,null,null).exports,m={name:"RelatedIssuesBlock",components:{GlLink:n.a,GlButton:s.a,GlIcon:a.a,AddIssuableForm:o.a,RelatedIssuesList:f},props:{isFetching:{type:Boolean,required:!1,default:!1},isSubmitting:{type:Boolean,required:!1,default:!1},relatedIssues:{type:Array,required:!1,default:function(){return[]}},canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},isFormVisible:{type:Boolean,required:!1,default:!1},pendingReferences:{type:Array,required:!1,default:function(){return[]}},inputValue:{type:String,required:!1,default:""},pathIdSeparator:{type:String,required:!0},helpPath:{type:String,required:!1,default:""},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},issuableType:{type:String,required:!0},showCategorizedIssues:{type:Boolean,required:!1,default:!0}},computed:{hasRelatedIssues(){return this.relatedIssues.length>0},categorisedIssues(){var e=this;return this.showCategorizedIssues?Object.values(r.p).map((function(t){return{linkType:t,issues:e.relatedIssues.filter((function(e){return e.linkType===t}))}})).filter((function(e){return e.issues.length>0})):[{issues:this.relatedIssues}]},shouldShowTokenBody(){return this.hasRelatedIssues||this.isFetching},hasBody(){return this.isFormVisible||this.shouldShowTokenBody},headerText(){return r.k[this.issuableType]},helpLinkText(){return r.l[this.issuableType]},addIssuableButtonText(){return r.j[this.issuableType]},badgeLabel(){return this.isFetching&&0===this.relatedIssues.length?"...":this.relatedIssues.length},hasHelpPath(){return this.helpPath.length>0},issuableTypeIcon(){return r.g[this.issuableType]},qaClass(){return r.h[this.issuableType]}},linkedIssueTypesTextMap:r.q},g=Object(h.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"related-issues-block gl-mt-5",attrs:{id:"related-issues"}},[i("div",{staticClass:"card card-slim gl-overflow-hidden"},[i("div",{staticClass:"card-header gl-display-flex gl-justify-content-space-between",class:{"panel-empty-heading border-bottom-0":!e.hasBody}},[i("h3",{staticClass:"card-title h5 position-relative gl-my-0 gl-display-flex gl-align-items-center gl-h-7"},[i("gl-link",{staticClass:"anchor position-absolute gl-text-decoration-none",attrs:{id:"user-content-related-issues",href:"#related-issues","aria-hidden":"true"}}),e._v(" "),e._t("header-text",[e._v(e._s(e.headerText))]),e._v(" "),e.hasHelpPath?i("gl-link",{staticClass:"gl-display-flex gl-align-items-center gl-ml-2 gl-text-gray-500",attrs:{href:e.helpPath,target:"_blank","data-testid":"help-link","aria-label":e.helpLinkText}},[i("gl-icon",{attrs:{name:"question",size:12}})],1):e._e(),e._v(" "),i("div",{staticClass:"gl-display-inline-flex"},[i("div",{staticClass:"js-related-issues-header-issue-count gl-display-inline-flex gl-mx-5"},[i("span",{staticClass:"gl-display-inline-flex gl-align-items-center"},[i("gl-icon",{staticClass:"gl-mr-2 gl-text-gray-500",attrs:{name:e.issuableTypeIcon}}),e._v("\n              "+e._s(e.badgeLabel)+"\n            ")],1)]),e._v(" "),e.canAdmin?i("gl-button",{class:e.qaClass,attrs:{"data-qa-selector":"related_issues_plus_button",icon:"plus","aria-label":e.addIssuableButtonText},on:{click:function(t){return e.$emit("toggleAddRelatedIssuesForm",t)}}}):e._e()],1)],2),e._v(" "),e._t("header-actions")],2),e._v(" "),i("div",{staticClass:"linked-issues-card-body bg-gray-light",class:{"gl-p-5":e.isFormVisible||e.shouldShowTokenBody}},[e.isFormVisible?i("div",{staticClass:"js-add-related-issues-form-area card-body bordered-box bg-white"},[i("add-issuable-form",{attrs:{"show-categorized-issues":e.showCategorizedIssues,"is-submitting":e.isSubmitting,"issuable-type":e.issuableType,"input-value":e.inputValue,"pending-references":e.pendingReferences,"auto-complete-sources":e.autoCompleteSources,"path-id-separator":e.pathIdSeparator},on:{pendingIssuableRemoveRequest:function(t){return e.$emit("pendingIssuableRemoveRequest",t)},addIssuableFormInput:function(t){return e.$emit("addIssuableFormInput",t)},addIssuableFormBlur:function(t){return e.$emit("addIssuableFormBlur",t)},addIssuableFormSubmit:function(t){return e.$emit("addIssuableFormSubmit",t)},addIssuableFormCancel:function(t){return e.$emit("addIssuableFormCancel",t)}}})],1):e._e(),e._v(" "),e.shouldShowTokenBody?e._l(e.categorisedIssues,(function(t){return i("related-issues-list",{key:t.linkType,attrs:{heading:e.$options.linkedIssueTypesTextMap[t.linkType],"can-admin":e.canAdmin,"can-reorder":e.canReorder,"is-fetching":e.isFetching,"issuable-type":e.issuableType,"path-id-separator":e.pathIdSeparator,"related-issues":t.issues},on:{relatedIssueRemoveRequest:function(t){return e.$emit("relatedIssueRemoveRequest",t)},saveReorder:function(t){return e.$emit("saveReorder",t)}}})})):e._e()],2)])])}),[],!1,null,null,null);t.a=g.exports},Q1Ax:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssuableSeverity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"severity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableSeverity"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetSeverity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"severity"},value:{kind:"Variable",name:{kind:"Name",value:"severity"}}},{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:258}};i.loc.source={body:"mutation updateIssuableSeverity($projectPath: ID!, $severity: IssuableSeverity!, $iid: String!) {\n  issueSetSeverity(input: { iid: $iid, severity: $severity, projectPath: $projectPath }) {\n    errors\n    issue {\n      iid\n      id\n      severity\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssuableSeverity=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssuableSeverity")},QJim:function(e,t,i){"use strict";i.r(t),function(e){var n=i("zdec"),s=i("j/k3");i.d(t,"RecycleScroller",(function(){return s.a}));var a=i("hK9k");i.d(t,"DynamicScroller",(function(){return a.a}));var r=i("lYqH");i.d(t,"DynamicScrollerItem",(function(){return r.a}));var o=i("Kfky");i.d(t,"IdState",(function(){return o.a}));const l={install(e,t){const i=Object.assign({},{installComponents:!0,componentsPrefix:""},t);for(const e in i)void 0!==i[e]&&(n.a[e]=i[e]);i.installComponents&&function(e,t){e.component(`${t}recycle-scroller`,s.a),e.component(`${t}RecycleScroller`,s.a),e.component(`${t}dynamic-scroller`,a.a),e.component(`${t}DynamicScroller`,a.a),e.component(`${t}dynamic-scroller-item`,r.a),e.component(`${t}DynamicScrollerItem`,r.a)}(e,i.componentsPrefix)}};t.default=l;let c=null;"undefined"!=typeof window?c=window.Vue:void 0!==e&&(c=e.Vue),c&&c.use(l)}.call(this,i("uE4I"))},QN0Q:function(e,t,i){var n=i("miPr"),s=i("cgqb");e.exports=function(e){return s(e)&&n(e)}},QWlh:function(e,t,i){"use strict";var n=i("Zxcm"),s=i("mpzd"),a=i("t9l/"),r=i("LdWl"),o=i("u1ru"),l=i("ly/8"),c=i("Daar"),d=i("ZIpG");const u={BUSY:Object(a.a)("Busy"),CANNOT_MERGE:Object(a.a)("Cannot merge"),LC_CANNOT_MERGE:Object(a.a)("cannot merge")},p=function(e){return`(${e})`};var h={components:{AssigneeAvatar:d.a,GlLink:o.a},directives:{GlTooltip:l.a},props:{user:{type:Object,required:!0},tooltipPlacement:{type:String,default:"bottom",required:!1},tooltipHasName:{type:Boolean,default:!0,required:!1},issuableType:{type:String,default:"issue",required:!1}},computed:{cannotMerge(){return"merge_request"===this.issuableType&&!this.user.can_merge},tooltipTitle(){const{name:e="",availability:t=""}=this.user;return function(e){let{name:t,availability:i,cannotMerge:n=!0,tooltipHasName:s=!1}=e;if(!s)return n?u.CANNOT_MERGE:"";const a=[];if(i&&Object(c.a)(i)&&a.push(u.BUSY),n&&a.push(u.LC_CANNOT_MERGE),s&&a.length){return`${t} ${a.map(p).join(" ")}`}return t}({name:e,availability:t,cannotMerge:this.cannotMerge,tooltipHasName:this.tooltipHasName})},tooltipOption(){return{container:"body",placement:this.tooltipPlacement,boundary:"viewport"}},assigneeUrl(){return this.user.web_url||this.user.webUrl}}},f=i("bPvS"),m=Object(f.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:this.tooltipOption,expression:"tooltipOption"}],staticClass:"gl-display-inline-block",attrs:{href:this.assigneeUrl,title:this.tooltipTitle}},[t("span",{staticClass:"gl-display-flex"},[t("assignee-avatar",{attrs:{user:this.user,"img-size":32,"issuable-type":this.issuableType}}),this._v(" "),this._t("default")],2)])}),[],!1,null,null,null).exports,g=i("Ad8m");var b={components:{AttentionRequestedToggle:r.a,AssigneeAvatarLink:m,UserNameWithStatus:g.a},mixins:[Object(n.a)()],props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"}},data:()=>({showLess:!0}),computed:{firstUser(){return this.users[0]},hasOneUser(){return!this.showVerticalList&&1===this.users.length},hiddenAssigneesLabel(){const{numberOfHiddenAssignees:e}=this;return Object(a.h)(Object(a.a)("+ %{numberOfHiddenAssignees} more"),{numberOfHiddenAssignees:e})},renderShowMoreSection(){return this.users.length>5},numberOfHiddenAssignees(){return this.users.length-5},uncollapsedUsers(){if(this.showVerticalList)return this.users;const e=this.showLess?Math.min(this.users.length,5):this.users.length;return this.showLess?this.users.slice(0,e):this.users},username(){return`@${this.firstUser.username}`},showVerticalList(){return this.glFeatures.mrAttentionRequests&&this.isMergeRequest},isMergeRequest(){return this.issuableType===s.c.MergeRequest}},methods:{toggleShowLess(){this.showLess=!this.showLess},userAvailability(e){var t;return this.issuableType===s.c.MergeRequest?(null==e?void 0:e.availability)||"":(null==e?void 0:null===(t=e.status)||void 0===t?void 0:t.availability)||""},toggleAttentionRequested(e){this.$emit("toggle-attention-requested",e)}}},v=Object(f.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasOneUser?i("assignee-avatar-link",{attrs:{"tooltip-placement":"left","tooltip-has-name":!1,user:e.firstUser,"issuable-type":e.issuableType}},[i("div",{staticClass:"ml-2 gl-line-height-normal"},[i("user-name-with-status",{attrs:{name:e.firstUser.name,availability:e.userAvailability(e.firstUser)}}),e._v(" "),i("div",[e._v(e._s(e.username))])],1)]):i("div",[i("div",{staticClass:"gl-display-flex gl-flex-wrap"},e._l(e.uncollapsedUsers,(function(t,n){return i("div",{key:t.id,staticClass:"gl-display-inline-block",class:{"user-item":!e.showVerticalList,"gl-mb-3":n!==e.users.length-1&&e.showVerticalList}},[e.showVerticalList&&t.can_update_merge_request?i("attention-requested-toggle",{attrs:{user:t,type:"assignee"},on:{"toggle-attention-requested":e.toggleAttentionRequested}}):e._e(),e._v(" "),i("assignee-avatar-link",{attrs:{user:t,"issuable-type":e.issuableType,"tooltip-has-name":!e.showVerticalList}},[e.showVerticalList?i("div",{staticClass:"gl-ml-3 gl-line-height-normal gl-display-grid",attrs:{"data-testid":"username"}},[i("user-name-with-status",{attrs:{name:t.name,availability:e.userAvailability(t)}}),e._v(" "),i("span",[e._v("@"+e._s(t.username))])],1):e._e()])],1)})),0),e._v(" "),e.renderShowMoreSection?i("div",{staticClass:"user-list-more gl-hover-text-blue-800"},[i("button",{staticClass:"btn-link",attrs:{type:"button","data-qa-selector":"more_assignees_link"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n        "+e._s(e.hiddenAssigneesLabel)+"\n      ")]:[e._v(e._s(e.__("- show less")))]],2)]):e._e()])}),[],!1,null,null,null);t.a=v.exports},QslC:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("vZRN"),s=i.n(n);let a=null;const r=(e,t)=>{if(!s()(t))throw TypeError("directive value must be a function");a||(a=new ResizeObserver(e=>{e.forEach(e=>{e.target.glResizeHandler(e)})})),e.glResizeHandler=t,a.observe(e)},o=e=>{var t;e.glResizeHandler&&(delete e.glResizeHandler,null===(t=a)||void 0===t||t.unobserve(e))},l={bind(e,t){let{value:i,arg:n=!0}=t;n&&r(e,i)},update(e,t){let{value:i,arg:n=!0}=t;n?r(e,i):o(e)},unbind:o}},R8rx:function(e,t,i){"use strict";var n={name:"PlaceholderSystemNote",components:{TimelineEntryItem:i("1jid").a},props:{note:{type:Object,required:!0}}},s=i("bPvS"),a=Object(s.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note system-note being-posted fade-in-half"},[t("div",{staticClass:"timeline-content"},[t("em",[this._v(this._s(this.note.body))])])])}),[],!1,null,null,null);t.a=a.exports},RGzp:function(e,t){var i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(i)||[]}},RewC:function(e,t,i){"use strict";var n=i("SYh6");t.a=Object(n.a)()},SGmW:function(e,t,i){"use strict";var n=i("jyii"),s=i("3XSL"),a=i("gCUY"),r=i("G55H"),o=i("ST6S"),l=i("8Vyw"),c=i("9Q7u"),d=i("ZVxY"),u=i("ySPH"),p=i("HTH9"),h=function(e,t){var i=[];if(Object(r.a)(e)&&e.filter(d.a).forEach((function(e){if(Object(r.m)(e))i.push({key:e,label:Object(u.d)(e)});else if(Object(r.i)(e)&&e.key&&Object(r.m)(e.key))i.push(Object(c.b)(e));else if(Object(r.i)(e)&&1===Object(c.h)(e).length){var t=Object(c.h)(e)[0],n=function(e,t){var i=null;return Object(r.m)(t)?i={key:e,label:t}:Object(r.e)(t)?i={key:e,formatter:t}:Object(r.i)(t)?(i=Object(c.b)(t)).key=i.key||e:!1!==t&&(i={key:e}),i}(t,e[t]);n&&i.push(n)}})),0===i.length&&Object(r.a)(t)&&t.length>0){var n=t[0];Object(c.h)(n).forEach((function(e){p.b[e]||i.push({key:e,label:Object(u.d)(e)})}))}var s={};return i.filter((function(e){return!s[e.key]&&(s[e.key]=!0,e.label=Object(r.m)(e.label)?e.label:Object(u.d)(e.key),!0)}))};t.a={props:Object(a.c)({items:{type:Array,default:function(){return[]}},fields:{type:Array,default:null},primaryKey:{type:String},value:{type:Array,default:function(){return[]}}},n.ab),data:function(){return{localItems:Object(r.a)(this.items)?this.items.slice():[]}},computed:{computedFields:function(){return h(this.fields,this.localItems)},computedFieldsObj:function(){var e=this.$parent;return this.computedFields.reduce((function(t,i){if(t[i.key]=Object(c.b)(i),i.formatter){var n=i.formatter;Object(r.m)(n)&&Object(r.e)(e[n])?n=e[n]:Object(r.e)(n)||(n=void 0),t[i.key].formatter=n}return t}),{})},computedItems:function(){return(this.paginatedItems||this.sortedItems||this.filteredItems||this.localItems||[]).slice()},context:function(){return{filter:this.localFilter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,perPage:Object(o.d)(Object(l.c)(this.perPage,0),0),currentPage:Object(o.d)(Object(l.c)(this.currentPage,0),1),apiUrl:this.apiUrl}}},watch:{items:function(e){Object(r.a)(e)?this.localItems=e.slice():Object(r.o)(e)&&(this.localItems=[])},computedItems:function(e,t){Object(s.a)(e,t)||this.$emit("input",e)},context:function(e,t){Object(s.a)(e,t)||this.$emit("context-changed",e)}},mounted:function(){this.$emit("input",this.computedItems)},methods:{getFieldFormatter:function(e){var t=this.computedFieldsObj[e];return t?t.formatter:void 0}}}},SLa1:function(e,t,i){"use strict";i.d(t,"a",(function(){return w})),i.d(t,"b",(function(){return k}));i("AfGZ");var n=i("odnV"),s=i.n(n),a=i("49qB"),r=i("6oy4"),o=i.n(r),l=i("oj/M"),c=i("8GQU"),d=i("16BQ"),u=i("teVv"),p=i("mphk"),h=i("4zBw"),f=i("t9l/");const m="animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",g="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",b=/(?:, and | and |, )/,v={activity:"Activity",people:"People",nature:"Nature",food:"Food",travel:"Travel",objects:"Objects",symbols:"Symbols",flags:"Flags"},y="is-visible",_="is-rendered";class w{constructor(e){this.emoji=e,this.eventListeners=[],this.toggleButtonSelector=".js-add-award",this.menuClass="js-award-emoji-menu"}bindEvents(){var e=this;const t=this.targetContainerEl?o()(this.targetContainerEl):o()(document);this.registerEventListener("one",t,"mouseenter focus",this.toggleButtonSelector,"mouseenter focus",(function(){0===o()(`.${e.menuClass}`).length&&requestAnimationFrame((function(){e.createEmojiMenu()}))})),this.registerEventListener("on",t,"click",this.toggleButtonSelector,(function(t){t.stopPropagation(),t.preventDefault(),e.showEmojiMenu(o()(t.currentTarget))})),this.registerEventListener("on",o()("html"),"click",(function(t){o()(t.target).closest(`.${e.menuClass}`).length||(o()(".js-awards-block.current").removeClass("current"),o()(`.${e.menuClass}`).is(":visible")&&(o()(`${e.toggleButtonSelector}.is-active`).removeClass("is-active"),e.hideMenuElement(o()(`.${e.menuClass}`))))}));const i=`.js-awards-block .js-emoji-btn, .${this.menuClass} .js-emoji-btn`;this.registerEventListener("on",t,"click",i,(function(t){t.preventDefault();const i=o()(t.currentTarget),n=i.find("gl-emoji"),s=i.find(".icon"),a=(n.length?n:s).data("name");i.closest(".js-awards-block").addClass("current"),e.addAward(e.getVotesBlock(),e.getAwardUrl(),a)}))}registerEventListener(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on",t=arguments.length>1?arguments[1]:void 0;for(var i=arguments.length,n=new Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];t[e].call(t,...n),this.eventListeners.push({element:t,args:n})}showEmojiMenu(e){var t=this;e.hasClass("js-note-emoji")?e.closest(".note").find(".js-awards-block").addClass("current"):e.closest(".js-awards-block").addClass("current");const i=o()(`.${this.menuClass}`);i.length?i.is(".is-visible")?(e.removeClass("is-active"),this.hideMenuElement(i),o()(".js-emoji-menu-search").blur()):(e.addClass("is-active"),this.positionMenu(i,e),this.showMenuElement(i),o()(".js-emoji-menu-search").focus()):(e.addClass("is-loading is-active"),this.createEmojiMenu((function(){const i=o()(`.${t.menuClass}`);return e.removeClass("is-loading"),t.positionMenu(i,e),setTimeout((function(){t.showMenuElement(i),o()(".js-emoji-menu-search").focus()}),200)})))}createEmojiMenu(e){if(this.isCreatingEmojiMenu)return;this.isCreatingEmojiMenu=!0;const t=this.emoji.getEmojiCategoryMap(),i=Object.keys(t)[0],n=t[i],s=this.renderCategory(v[i],n),a=this.getFrequentlyUsedEmojis();let r="";a.length>0&&(r=this.renderCategory("Frequently used",a,{menuListClass:"frequent-emojis"}));const o=`\n      <div class="emoji-menu ${this.menuClass}">\n        <input type="text" name="emoji-menu-search" value="" class="js-emoji-menu-search emoji-search search-input form-control" placeholder="Search emoji" />\n\n        <div class="emoji-menu-content">\n          ${r}\n          ${s}\n        </div>\n      </div>\n    `;(this.targetContainerEl?this.targetContainerEl:document.body).insertAdjacentHTML("beforeend",o),this.addRemainingEmojiMenuCategories(),this.setupSearch(),e&&e()}addRemainingEmojiMenuCategories(){var e=this;if(this.isAddingRemainingEmojiMenuCategories)return;this.isAddingRemainingEmojiMenuCategories=!0;const t=this.emoji.getEmojiCategoryMap(),i=document.querySelector(`.${this.menuClass}`),n=i.querySelector(".emoji-menu-content");Object.keys(t).slice(1).reduce((function(i,s){return i.then((function(){return new Promise((function(i){const a=t[s],r=e.renderCategory(v[s],a);requestAnimationFrame((function(){n.insertAdjacentHTML("beforeend",r),i()}))}))}))}),Promise.resolve()).then((function(){i&&i.dispatchEvent(new CustomEvent("build-emoji-menu-finish"))})).catch((function(e){throw n.insertAdjacentHTML("beforeend","<p>We encountered an error while adding the remaining categories</p>"),new Error(`Error occurred in addRemainingEmojiMenuCategories: ${e.message}`)}))}renderCategory(e,t){var i=this;return`\n      <h5 class="emoji-menu-title">\n        ${e}\n      </h5>\n      <ul class="clearfix emoji-menu-list ${(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).menuListClass||""}">\n        ${t.map((function(e){return`\n          <li class="emoji-menu-list-item">\n            <button class="emoji-menu-btn text-center js-emoji-btn" type="button">\n              ${i.emoji.glEmojiTag(e,{sprite:!0})}\n            </button>\n          </li>\n        `})).join("\n")}\n      </ul>\n    `}positionMenu(e,t){if(this.targetContainerEl)return e.css({top:`${t.outerHeight()}px`});const i=t.data("position"),n={top:`${t.offset().top+t.outerHeight()}px`};return"xs"===a.b.getBreakpointSize()||"sm"===a.b.getBreakpointSize()?n.left="5%":"right"===i?(n.left=`${t.offset().left-e.outerWidth()+20}px`,e.addClass("is-aligned-right")):(n.left=`${t.offset().left}px`,e.removeClass("is-aligned-right")),e.css(n)}addAward(e,t,i,n,s){var a=this;const r=e.closest(".js-noteable-awards").length;if(Object(h.g)()&&!r){const t=e.attr("id").replace("note_","");this.hideMenuElement(o()(`.${this.menuClass}`)),o()(`${this.toggleButtonSelector}.is-active`).removeClass("is-active");const n=new CustomEvent("toggleAward",{detail:{awardName:i,noteId:t}});document.querySelector(".js-vue-notes-event").dispatchEvent(n)}const l=this.emoji.normalizeEmojiName(i),c=this.findEmojiIcon(e,l).parent();return this.postEmoji(c,t,l,(function(){return a.addAwardToEmojiBar(e,l,n),"function"==typeof s?s():void 0})),this.hideMenuElement(o()(`.${this.menuClass}`)),o()(`${this.toggleButtonSelector}.is-active`).removeClass("is-active")}addAwardToEmojiBar(e,t,i){(i||null===i)&&this.checkMutuality(e,t),this.addEmojiToFrequentlyUsedList(t);const n=this.emoji.normalizeEmojiName(t),s=this.findEmojiIcon(e,n).parent();if(s.length>0)if(this.isActive(s))this.decrementCounter(s,n);else{const t=s.find(".js-counter");t.text(parseInt(t.text(),10)+1),s.addClass("active"),this.addYouToUserList(e,n),this.animateEmoji(s)}else e.removeClass("hidden"),this.createEmoji(e,n)}getVotesBlock(){if(Object(h.g)()){const e=o()(`${this.toggleButtonSelector}.is-active`).closest(".note.timeline-entry");if(e.length)return e}const e=o()(".js-awards-block.current");let t=e;return 0===e.length&&(t=o()(".js-awards-block").eq(0)),t}getAwardUrl(){return this.getVotesBlock().data("awardUrl")}checkMutuality(e,t){const i=this.getAwardUrl();if("thumbsup"===t||"thumbsdown"===t){const n="thumbsup"===t?"thumbsdown":"thumbsup";e.find(`[data-name="${n}"]`).parent().hasClass("active")&&this.addAward(e,i,n,!1)}}isActive(e){return e.hasClass("active")}decrementCounter(e,t){const i=o()(".js-counter",e),n=parseInt(i.text(),10);return n>1?(i.text(n-1),this.removeYouFromUserList(e)):"thumbsup"===t||"thumbsdown"===t?(Object(d.b)(e),i.text("0"),this.removeYouFromUserList(e),e.parents(".note").length&&this.removeEmoji(e)):this.removeEmoji(e),e.removeClass("active")}removeEmoji(e){Object(d.b)(e),e.remove();const t=this.getVotesBlock();0===t.find(".js-emoji-btn").length&&t.addClass("hidden")}getAwardTooltip(e){return e.attr("data-original-title")||e.attr("data-title")||""}toSentence(e){let t;return t=e.length<=2?e.join(" and "):`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`}removeYouFromUserList(e){const t=e,i=this.getAwardTooltip(t).split(b);return i.splice(i.indexOf("You"),1),t.closest(".js-emoji-btn").removeData("title").removeAttr("data-title").removeAttr("data-original-title").attr("title",this.toSentence(i)),Object(d.c)(t),t}addYouToUserList(e,t){const i=this.findEmojiIcon(e,t).parent(),n=this.getAwardTooltip(i);let s=[];return n&&(s=n.trim().split(b)),s.unshift("You"),i.attr("title",this.toSentence(s)),Object(d.c)(i),i}createAwardButtonForVotesBlock(e,t){const i=`\n      <button class="gl-button btn btn-default award-control js-emoji-btn has-tooltip active" title="You">\n        ${this.emoji.glEmojiTag(t)}\n        <span class="award-control-text js-counter">1</span>\n      </button>\n    `,n=o()(i);n.insertBefore(e.find(".js-award-holder")).find(".emoji-icon").data("name",t),this.animateEmoji(n),e.removeClass("current")}animateEmoji(e){e.addClass("pulse animated once short"),this.registerEventListener("on",e,m,(function(e){o()(e.currentTarget).removeClass("pulse animated once short")}))}createEmoji(e,t){var i=this;o()(`.${this.menuClass}`).length&&this.createAwardButtonForVotesBlock(e,t),this.createEmojiMenu((function(){i.createAwardButtonForVotesBlock(e,t)}))}postEmoji(e,t,i,n){p.a.post(t,{name:i}).then((function(e){let{data:t}=e;t.ok&&n()})).catch((function(){return Object(u.f)({message:Object(f.a)("Something went wrong on our end.")})}))}findEmojiIcon(e,t){return e.find(`.js-emoji-btn [data-name="${t}"]`)}scrollToAwards(){Object(l.M)(".awards",{offset:-110})}addEmojiToFrequentlyUsedList(e){this.emoji.isEmojiNameValid(e)&&(this.frequentlyUsedEmojis=s()(this.getFrequentlyUsedEmojis().concat(e)),Object(l.P)("frequently_used_emojis",this.frequentlyUsedEmojis.join(",")))}getFrequentlyUsedEmojis(){var e=this;return this.frequentlyUsedEmojis||function(){const t=s()((Object(l.l)("frequently_used_emojis")||"").split(","));return e.frequentlyUsedEmojis=t.filter((function(t){return e.emoji.isEmojiNameValid(t)})),e.frequentlyUsedEmojis}()}setupSearch(){var e=this;const t=o()(".js-emoji-menu-search");this.registerEventListener("on",t,"input",(function(t){const i=o()(t.target).val().trim();e.searchEmojis(i)}));const i=o()(`.${this.menuClass}`);this.registerEventListener("on",i,g,(function(t){t.target===t.currentTarget&&e.searchEmojis("")}))}searchEmojis(e){if(o()(".js-emoji-menu-search").val(e),o()("ul.emoji-menu-search, h5.emoji-search-title").remove(),e.length>0){const t=o()('<h5 class="emoji-search-title"/>').text("Search results"),i=this.findMatchingEmojiElements(e).show(),n=o()("<ul>").addClass("emoji-menu-list emoji-menu-search").append(i);o()(".emoji-menu-content ul, .emoji-menu-content h5").hide(),o()(".emoji-menu-content").append(t).append(n)}else o()(".emoji-menu-content").children().show()}findMatchingEmojiElements(e){const t=this.emoji.searchEmoji(e).map((function(e){return e.emoji.name}));return o()(".emoji-menu-list:not(.frequent-emojis) [data-name]").filter((function(e,i){return t.indexOf(i.dataset.name)>=0})).closest("li").clone()}showMenuElement(e){return e.addClass(_),Promise.resolve().then((function(){return e.addClass(y)}))}hideMenuElement(e){e.on(g,(function(t){t.currentTarget===t.target&&e.removeClass(_).off(g)})),e.removeClass(y)}destroy(){this.eventListeners.forEach((function(e){e.element.off.call(e.element,...e.args)})),o()(`.${this.menuClass}`).remove()}}let S=null;function k(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return S&&!e||(S=c.initEmojiMap().then((function(){const e=new w(c);return e.bindEvents(),e}))),S}},SNO9:function(e,t,i){var n=i("NwYK")((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}));e.exports=n},ScDC:function(e,t,i){"use strict";var n=i("t9l/"),s=i("5ee2"),a={components:{CopyableField:i("OFrq").a},inject:["fullPath","iid"],props:{issuableType:{required:!0,type:String}},data:()=>({reference:""}),apollo:{reference:{query(){return s.q[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.reference)||""},error(e){this.$emit("fetch-error",{message:Object(n.a)("An error occurred while fetching reference"),error:e})}}},computed:{isLoading(){return this.$apollo.queries.reference.loading}}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("copyable-field",{staticClass:"sub-block",attrs:{"is-loading":this.isLoading,name:this.__("Reference"),value:this.reference}})}),[],!1,null,null,null);t.a=o.exports},THZC:function(e,t){var i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},TkD4:function(e,t,i){var n=i("m1at")("toUpperCase");e.exports=n},TujI:function(e,t,i){"use strict";var n={name:"IterationTitle",props:{title:{type:String,required:!0}}},s=i("bPvS"),a=Object(s.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"gl-text-gray-400"},[this._v("\n  "+this._s(this.title)+"\n")])}),[],!1,null,null,null);t.a=a.exports},Tw1G:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CrmContacts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customerRelationsContacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:226}};i.loc.source={body:"fragment CrmContacts on Issue {\n  id\n  customerRelationsContacts {\n    nodes {\n      id\n      firstName\n      lastName\n      email\n      phone\n      description\n      organization {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},"U2+R":function(e,t,i){"use strict";var n=i("vKRd"),s=i.n(n),a=i("U1Ws"),r=i("t9l/"),o=i("BLrG");const l={data:()=>({removeDisabled:!1}),props:{idKey:{type:Number,required:!0},displayReference:{type:String,required:!0},pathIdSeparator:{type:String,required:!0},eventNamespace:{type:String,required:!1,default:""},confidential:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1,default:""},path:{type:String,required:!1,default:""},state:{type:String,required:!1,default:""},createdAt:{type:String,required:!1,default:""},closedAt:{type:String,required:!1,default:""},mergedAt:{type:String,required:!1,default:""},milestone:{type:Object,required:!1,default:function(){return{}}},dueDate:{type:String,required:!1,default:""},assignees:{type:Array,required:!1,default:function(){return[]}},weight:{type:Number,required:!1,default:0},canRemove:{type:Boolean,required:!1,default:!1},isMergeRequest:{type:Boolean,required:!1,default:!1},pipelineStatus:{type:Object,required:!1,default:function(){return{}}}},mixins:[o.a],computed:{hasState(){return this.state&&this.state.length>0},hasPipeline(){return this.isMergeRequest&&this.pipelineStatus&&Object.keys(this.pipelineStatus).length},isOpen(){return"opened"===this.state||"reopened"===this.state},isClosed(){return"closed"===this.state},isMerged(){return"merged"===this.state},hasTitle(){return this.title.length>0},hasAssignees(){return this.assignees.length>0},hasMilestone(){return!s()(this.milestone)},iconName(){return this.isMergeRequest&&this.isMerged?"merge":this.isOpen?"issue-open-m":"issue-close"},iconClass(){return this.isMergeRequest&&this.isClosed?"merge-request-status closed issue-token-state-icon-closed":this.isOpen?"issue-token-state-icon-open gl-text-green-500":"issue-token-state-icon-closed gl-text-blue-500"},computedLinkElementType(){return this.path.length>0?"a":"span"},computedPath(){return this.path.length?this.path:null},itemPath(){return this.displayReference.split(this.pathIdSeparator)[0]},itemId(){return this.displayReference.split(this.pathIdSeparator).pop()},createdAtInWords(){return this.createdAt?this.timeFormatted(this.createdAt):""},createdAtTimestamp(){return this.createdAt?Object(a.o)(new Date(this.createdAt)):""},mergedAtTimestamp(){return this.mergedAt?Object(a.o)(new Date(this.mergedAt)):""},mergedAtInWords(){return this.mergedAt?this.timeFormatted(this.mergedAt):""},closedAtInWords(){return this.closedAt?this.timeFormatted(this.closedAt):""},closedAtTimestamp(){return this.closedAt?Object(a.o)(new Date(this.closedAt)):""},stateText(){return this.isMerged?Object(r.a)("Merged"):this.isOpen?Object(r.a)("Created"):Object(r.a)("Closed")},stateTimeInWords(){return this.isMerged?this.mergedAtInWords:this.isOpen?this.createdAtInWords:this.closedAtInWords},stateTimestamp(){return this.isMerged?this.mergedAtTimestamp:this.isOpen?this.createdAtTimestamp:this.closedAtTimestamp},pipelineStatusTooltip(){return this.hasPipeline?Object(r.h)(Object(r.a)("Pipeline: %{status}"),{status:this.pipelineStatus.label}):""}},methods:{onRemoveRequest(){let e="";this.eventNamespace&&this.eventNamespace.length>0&&(e=`${this.eventNamespace}`),this.$emit(`${e}RemoveRequest`,this.idKey),this.removeDisabled=!0}}};t.a=l},UGhW:function(e,t,i){"use strict";var n=i("OkMp"),s=i("0X+3"),a=i("OqKX"),r=i("t9l/"),o=i("A8Nj"),l=i("toOR"),c={i18n:o.a,components:{GlDropdown:n.a,GlDropdownItem:s.a,GlDropdownDivider:a.a},model:{prop:"noteType",event:"change"},props:{disabled:{type:Boolean,required:!1,default:!1},trackingLabel:{type:String,required:!1,default:void 0},discussionsRequireResolution:{type:Boolean,required:!1,default:!1},noteableDisplayName:{type:String,required:!0},noteType:{type:String,required:!0}},computed:{isNoteTypeComment(){return this.noteType===l.COMMENT},isNoteTypeDiscussion(){return this.noteType===l.DISCUSSION},commentButtonTitle(){return this.noteType===l.COMMENT?this.$options.i18n.comment:this.$options.i18n.startThread},startDiscussionDescription(){return this.discussionsRequireResolution?this.$options.i18n.discussionThatNeedsResolution:this.$options.i18n.discussion},commentDescription(){return Object(r.h)(this.$options.i18n.submitButton.commentHelp,{noteableDisplayName:this.noteableDisplayName})}},methods:{handleClick(){this.$emit("click")},setNoteTypeToComment(){this.noteType!==l.COMMENT&&this.$emit("change",l.COMMENT)},setNoteTypeToDiscussion(){this.noteType!==l.DISCUSSION&&this.$emit("change",l.DISCUSSION)}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{staticClass:"gl-mr-3 js-comment-button js-comment-submit-button comment-type-dropdown",attrs:{split:"",text:e.commentButtonTitle,category:"primary",variant:"confirm",disabled:e.disabled,"data-testid":"comment-button","data-qa-selector":"comment_button","data-track-label":e.trackingLabel,"data-track-action":"click_button"},on:{click:function(t){return e.$emit("click")}}},[i("gl-dropdown-item",{attrs:{"is-check-item":"","is-checked":e.isNoteTypeComment},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setNoteTypeToComment(t)}}},[i("strong",[e._v(e._s(e.$options.i18n.submitButton.comment))]),e._v(" "),i("p",{staticClass:"gl-m-0"},[e._v(e._s(e.commentDescription))])]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{attrs:{"is-check-item":"","is-checked":e.isNoteTypeDiscussion,"data-qa-selector":"discussion_menu_item"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setNoteTypeToDiscussion(t)}}},[i("strong",[e._v(e._s(e.$options.i18n.submitButton.startThread))]),e._v(" "),i("p",{staticClass:"gl-m-0"},[e._v(e._s(e.startDiscussionDescription))])])],1)}),[],!1,null,null,null);t.a=u.exports},Uaqt:function(e,t,i){"use strict";var n=i("H8gz"),s=i("Zi5e"),a={components:{GlIcon:n.a},props:{path:{type:String,required:!0},filePath:{type:String,required:!1,default:""},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable(){return Object(s.h)(this.fileSize)},fileName(){return(this.filePath||this.path).split("/").pop()}}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-content"},[i("p",{staticClass:"gl-mt-3 file-info"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v(" ("+e._s(e.fileSizeReadable)+") ")]:e._e()],2),e._v(" "),i("a",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:e.fileName,target:"_blank","data-qa-selector":"download_button"}},[i("gl-icon",{staticClass:"float-left gl-mr-3",attrs:{size:16,name:"download"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)])])}),[],!1,null,null,null);t.a=o.exports},"Ur+U":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issueCrmContactsUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCrmContactsUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CrmContacts"},directives:[]}]}}]}}]}}],loc:{start:0,end:203}};n.loc.source={body:'#import "./issue_crm_contacts.fragment.graphql"\n\nsubscription issueCrmContactsUpdated($id: IssuableID!) {\n  issueCrmContactsUpdated(issuableId: $id) {\n    ... on Issue {\n      ...CrmContacts\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("Tw1G").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.issueCrmContactsUpdated=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"issueCrmContactsUpdated")},V4WY:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:147}};i.loc.source={body:"mutation updateIssue($input: UpdateIssueInput!) {\n  updateIssue(input: $input) {\n    issuable: issue {\n      id\n      state\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssue=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssue")},VbmZ:function(e,t,i){var n=i("c6tM"),s=n?n.prototype:void 0,a=s?s.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},VnOA:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertManagementAlert"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"monitoringTool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hosts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:388}};i.loc.source={body:"query getAlert($iid: String!, $fullPath: ID!) {\n  project(fullPath: $fullPath) {\n    id\n    issue(iid: $iid) {\n      id\n      alertManagementAlert {\n        iid\n        title\n        detailsUrl\n        severity\n        status\n        startedAt\n        eventCount\n        monitoringTool\n        service\n        description\n        endedAt\n        hosts\n        details\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getAlert=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"getAlert")},WCLl:function(e,t,i){var n=i("NwYK")((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}));e.exports=n},WUCt:function(e,t,i){"use strict";var n=i("T9xw"),s=i.n(n),a=i("H8gz"),r=i("t9l/"),o=i("pmYr"),l={components:{GlIcon:a.a},props:{diffFile:{type:Object,required:!1,default:function(){return null}},addedLines:{type:Number,required:!0},removedLines:{type:Number,required:!0},diffFilesCountText:{type:String,required:!1,default:null}},computed:{diffFilesLength(){return parseInt(this.diffFilesCountText,10)},filesText(){return Object(r.f)("file","files",this.diffFilesLength)},isCompareVersionsHeader(){return Boolean(this.diffFilesCountText)},hasDiffFiles(){return s()(this.diffFilesLength)&&this.diffFilesLength>=0},notDiffable(){return Object(o.d)(this.diffFile)},fileStats(){return Object(o.f)(this.diffFile)}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-stats",class:{"is-compare-versions-header gl-display-none gl-lg-display-inline-flex":e.isCompareVersionsHeader,"gl-display-none gl-sm-display-inline-flex":!e.isCompareVersionsHeader}},[e.notDiffable?i("div",{class:e.fileStats.classes},[e._v("\n    "+e._s(e.fileStats.text)+"\n  ")]):i("div",{staticClass:"diff-stats-contents"},[e.hasDiffFiles?i("div",{staticClass:"diff-stats-group"},[i("gl-icon",{staticClass:"diff-stats-icon gl-text-gray-500",attrs:{name:"doc-code"}}),e._v(" "),i("span",{staticClass:"gl-text-gray-500 bold"},[e._v(e._s(e.diffFilesCountText)+" "+e._s(e.filesText))])],1):e._e(),e._v(" "),i("div",{staticClass:"diff-stats-group gl-text-green-600 gl-display-flex gl-align-items-center",class:{bold:e.isCompareVersionsHeader}},[i("span",[e._v("+")]),e._v(" "),i("span",{attrs:{"data-testid":"js-file-addition-line"}},[e._v(e._s(e.addedLines))])]),e._v(" "),i("div",{staticClass:"diff-stats-group gl-text-red-500 gl-display-flex gl-align-items-center",class:{bold:e.isCompareVersionsHeader}},[i("span",[e._v("-")]),e._v(" "),i("span",{attrs:{"data-testid":"js-file-deletion-line"}},[e._v(e._s(e.removedLines))])])])])}),[],!1,null,null,null);t.a=d.exports},WVWx:function(e,t,i){var n=i("8RB9"),s=i("ODEz");e.exports=function(e,t){return n(e,s(e),t)}},WiJj:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i("t9l/");const s=function(e){return e?Object(n.a)("Mark as done"):Object(n.a)("Add a to do")},a=function(e){const t=document.querySelector(".js-todos-count");if(null===t)return;const i=parseInt(t.innerText,10),n=new CustomEvent("todo:toggle",{detail:{count:Math.max(i+e,0)}});document.dispatchEvent(n)}},WkmZ:function(e,t,i){var n=i("QN0Q");e.exports=function(e){return n(e)?e:[]}},Wtfk:function(e,t,i){var n=i("Iwy8"),s=i("reYZ");e.exports=function(e,t){return e&&e.length?s(e,n(t,3),!1,!0):[]}},"X2+/":function(e,t,i){"use strict";var n=i("ly/8"),s=i("H8gz"),a=i("x3KW"),r=i("u1ru"),o=i("KFH7"),l=i("teVv"),c=i("mpzd"),d=i("U1Ws"),u=i("t9l/"),p=i("dYBJ"),h=i("5ee2"),f={components:{GlButton:i("cuRJ").a},inject:["canUpdate"],props:{formattedDate:{required:!0,type:String},hasDate:{required:!0,type:Boolean},resetText:{required:!0,type:String},isLoading:{required:!0,type:Boolean},canDelete:{required:!1,type:Boolean,default:!0}}},m=i("bPvS"),g=Object(m.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-align-items-center hide-collapsed"},[i("span",{class:e.hasDate?"gl-text-gray-900 gl-font-weight-bold":"gl-text-gray-500",attrs:{"data-testid":"sidebar-date-value"}},[e._v("\n    "+e._s(e.formattedDate)+"\n  ")]),e._v(" "),e.hasDate&&e.canUpdate&&e.canDelete?i("div",{staticClass:"gl-display-flex"},[i("span",{staticClass:"gl-px-2"},[e._v("-")]),e._v(" "),i("gl-button",{staticClass:"gl-text-gray-500!",attrs:{variant:"link","data-testid":"reset-button",disabled:e.isLoading},on:{click:function(t){return e.$emit("reset-date",t)}}},[e._v("\n      "+e._s(e.resetText)+"\n    ")])],1):e._e()])}),[],!1,null,null,null).exports,b={components:{GlFormRadio:i("6R2j").a,SidebarFormattedDate:g},inject:["canUpdate"],props:{issuable:{required:!0,type:Object},isLoading:{required:!1,type:Boolean,default:!1},dateType:{type:String,required:!0}},computed:{dateIsFixed:{get(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[h.h[this.dateType].isDateFixed])||!1},set(e){e!==this.issuable[h.h[this.dateType].isDateFixed]&&this.$emit("set-date",e)}},hasFixedDate(){return null!==this.issuable[h.h[this.dateType].dateFixed]},formattedFixedDate(){const e=this.issuable[h.h[this.dateType].dateFixed];return e?Object(d.f)(Object(d.T)(e),!0):this.$options.i18n.noDate},formattedInheritedDate(){const e=this.issuable[h.h[this.dateType].dateFromMilestones];return e?Object(d.f)(Object(d.T)(e),!0):this.$options.i18n.noDate}},i18n:{fixed:Object(u.a)("Fixed:"),inherited:Object(u.a)("Inherited:"),remove:Object(u.a)("remove"),noDate:Object(u.a)("None")}},v=Object(m.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hide-collapsed gl-mt-3"},[i("div",{staticClass:"gl-display-flex gl-align-items-baseline",attrs:{"data-testid":"sidebar-fixed-date"}},[i("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!0,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[i("span",{class:e.dateIsFixed?"gl-text-gray-900 gl-font-weight-bold":"gl-text-gray-500"},[e._v("\n        "+e._s(e.$options.i18n.fixed)+"\n      ")])]),e._v(" "),i("sidebar-formatted-date",{staticClass:"gl-line-height-normal",attrs:{"has-date":e.dateIsFixed,"formatted-date":e.formattedFixedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":e.dateIsFixed&&e.hasFixedDate},on:{"reset-date":function(t){return e.$emit("reset-date",t)}}})],1),e._v(" "),i("div",{staticClass:"gl-display-flex gl-align-items-baseline",attrs:{"data-testid":"sidebar-inherited-date"}},[i("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!1,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[i("span",{class:e.dateIsFixed?"gl-text-gray-500":"gl-text-gray-900 gl-font-weight-bold"},[e._v("\n        "+e._s(e.$options.i18n.inherited)+"\n      ")])]),e._v(" "),i("sidebar-formatted-date",{staticClass:"gl-line-height-normal",attrs:{"has-date":!e.dateIsFixed,"formatted-date":e.formattedInheritedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":!1}})],1)])}),[],!1,null,null,null).exports;const y=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var _={tracking:{event:h.e.editEvent,label:h.e.rightSidebarLabel},directives:{GlTooltip:n.a},components:{GlIcon:s.a,GlDatepicker:a.a,GlLink:r.a,GlPopover:o.a,SidebarEditableItem:p.a,SidebarFormattedDate:g,SidebarInheritDate:v},inject:["canUpdate"],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},dateType:{type:String,required:!1,default:h.i.due},issuableType:{required:!0,type:String},canInherit:{required:!1,type:Boolean,default:!1}},data(){return{issuable:{},loading:!1,tracking:{...this.$options.tracking,property:this.dateType===h.i.start?"startDate":"dueDate"}}},apollo:{issuable:{query(){return this.dateQueries[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t;return(null===(t=e.workspace)||void 0===t?void 0:t.issuable)||{}},result(e){var t,i;let{data:n}=e;n&&this.$emit(`${this.dateType}Updated`,null===(t=n.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i[this.dateType])},error(){Object(l.f)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:this.issuableType,dateType:this.dateType===h.i.start?"start":"due"})})}}},computed:{dateQueries(){return this.dateType===h.i.start?h.r:h.l},dateLabel(){return this.dateType===h.i.start?this.$options.i18n.startDate:this.$options.i18n.dueDate},removeDateLabel(){return this.dateType===h.i.start?this.$options.i18n.removeStartDate:this.$options.i18n.removeDueDate},dateValue(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[this.dateType])||null},firstDay:()=>gon.first_day_of_week,isLoading(){return this.$apollo.queries.issuable.loading||this.loading},initialLoading(){return this.$apollo.queries.issuable.loading},hasDate(){return null!==this.dateValue},parsedDate(){return this.hasDate?Object(d.T)(this.dateValue):null},formattedDate(){return this.hasDate?Object(d.f)(this.parsedDate,!0):this.$options.i18n.noDate},workspacePath(){return this.issuableType===c.c.Issue?{projectPath:this.fullPath}:{groupPath:this.fullPath}},dataTestId(){return this.dateType===h.i.start?"sidebar-start-date":"sidebar-due-date"}},methods:{epicDatePopoverEl(){var e,t;return null===(e=this.$refs)||void 0===e?void 0:null===(t=e.epicDatePopover)||void 0===t?void 0:t.$el},closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(y),this.$emit("closeForm")},openDatePicker(){this.$refs.datePicker.calendar.show()},setFixedDate(e){const t=this.issuable[h.h[this.dateType].dateFixed];this.setDate(t,e)},setDate(e){var t=this;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e?Object(d.o)(e,"yyyy-mm-dd"):null;this.loading=!0,this.$refs.editable.collapse(),this.$apollo.mutate({mutation:this.dateQueries[this.issuableType].mutation,variables:{input:{...this.workspacePath,iid:this.iid,...this.canInherit?{[h.h[this.dateType].dateFixed]:i?n:void 0,[h.h[this.dateType].isDateFixed]:i}:{[this.dateType]:n}}}}).then((function(e){let{data:{issuableSetDate:{errors:i}}}=e;i.length?Object(l.f)({message:i[0]}):t.$emit("closeForm")})).catch((function(){Object(l.f)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:t.issuableType,dateType:t.dateType===h.i.start?"start":"due"})})})).finally((function(){t.loading=!1}))}},i18n:{dueDate:Object(u.a)("Due date"),startDate:Object(u.a)("Start date"),noDate:Object(u.a)("None"),removeDueDate:Object(u.a)("remove due date"),removeStartDate:Object(u.a)("remove start date"),dateHelpValidMessage:Object(u.a)("These dates affect how your epics appear in the roadmap. Set a fixed date or one inherited from the milestones assigned to issues in this epic."),help:Object(u.a)("Help"),learnMore:Object(u.a)("Learn more")},dateHelpUrl:"/help/user/group/epics/index.md#start-date-and-due-date"},w=Object(m.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",staticClass:"block",attrs:{title:e.dateLabel,tracking:e.tracking,loading:e.isLoading,"data-testid":e.dataTestId},on:{open:e.openDatePicker},scopedSlots:e._u([e.canInherit?{key:"title-extra",fn:function(){return[i("gl-icon",{ref:"epicDatePopover",staticClass:"gl-ml-3 gl-cursor-pointer gl-text-blue-600 hide-collapsed",attrs:{name:"question-o",tabindex:"0","aria-label":e.$options.i18n.help,"data-testid":"inherit-date-popover"}}),e._v(" "),i("gl-popover",{attrs:{target:e.epicDatePopoverEl,triggers:"focus",placement:"left",boundary:"viewport"}},[i("p",[e._v(e._s(e.$options.i18n.dateHelpValidMessage))]),e._v(" "),i("gl-link",{attrs:{href:e.$options.dateHelpUrl,target:"_blank"}},[e._v(e._s(e.$options.i18n.learnMore))])],1)]},proxy:!0}:null,{key:"collapsed",fn:function(){return[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.dateLabel}},[i("gl-icon",{attrs:{size:16,name:"calendar"}}),e._v(" "),i("span",{staticClass:"collapse-truncated-title"},[e._v(e._s(e.formattedDate))])],1),e._v(" "),e.canInherit&&!e.initialLoading?i("sidebar-inherit-date",{attrs:{issuable:e.issuable,"date-type":e.dateType,"is-loading":e.isLoading},on:{"reset-date":function(t){return e.setDate(null)},"set-date":e.setFixedDate}}):i("sidebar-formatted-date",{attrs:{"has-date":e.hasDate,"formatted-date":e.formattedDate,"reset-text":e.removeDateLabel,"is-loading":e.isLoading},on:{"reset-date":function(t){return e.setDate(null)}}})]},proxy:!0},{key:"default",fn:function(){return[e.isLoading?e._e():i("gl-datepicker",{ref:"datePicker",staticClass:"gl-relative",attrs:{"default-date":e.parsedDate,"first-day":e.firstDay,"show-clear-button":"",autocomplete:"off"},on:{input:e.setDate,clear:function(t){return e.setDate(null)}}})]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=w.exports},XKTI:function(e,t,i){"use strict";var n=i("q+nE"),s=i("J6KD"),a=i("bS9d"),r=i("xxB1"),o=i("eT5B"),l=i("cuRJ"),c=i("ly/8"),d=i("CkNe"),u=i("t9l/"),p=i("lliz"),h=i("toOR"),f=i("RewC"),m=i("ZYcg");const g=Object(u.g)("Timeline|Turn timeline view off"),b=Object(u.g)("Timeline|Turn timeline view on");var v={components:{GlButton:l.a},directives:{GlTooltip:c.a,TrackEvent:p.a},computed:{...Object(d.d)(["timelineEnabled","sortDirection"]),tooltip(){return this.timelineEnabled?g:b}},methods:{...Object(d.c)(["setTimelineView","setDiscussionSortDirection"]),trackToggleTimelineView:m.b,setSort(){this.timelineEnabled&&this.sortDirection!==h.DESC&&this.setDiscussionSortDirection({direction:h.DESC,persist:!1})},setFilter(){f.a.$emit("dropdownSelect",h.COMMENTS_ONLY_FILTER_VALUE,!1)},toggleTimeline(e){e.currentTarget.blur(),this.setTimelineView(!this.timelineEnabled),this.setSort(),this.setFilter()}}},y=i("bPvS"),_=Object(y.a)(v,(function(){var e=this.$createElement;return(this._self._c||e)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"track-event",rawName:"v-track-event",value:this.trackToggleTimelineView(this.timelineEnabled),expression:"trackToggleTimelineView(timelineEnabled)"}],staticClass:"gl-mr-3",attrs:{icon:"comments",selected:this.timelineEnabled,title:this.tooltip,"aria-label":this.tooltip},on:{click:this.toggleTimeline}})}),[],!1,null,null,null).exports;t.a=function(){const e=document.getElementById("js-vue-notes");e&&(new n.default({el:e,name:"NotesRoot",components:{notesApp:s.a},store:o.a,data(){const t=e.dataset,i=JSON.parse(t.currentUserData),n=JSON.parse(t.noteableData);let s={};return n.noteableType=t.noteableType,n.targetType=t.targetType,null===n.discussion_locked&&(n.discussion_locked=!1),i&&(s={id:i.id,name:i.name,username:i.username,avatar_url:i.avatar_path||i.avatar_url,path:i.path}),{noteableData:n,currentUserData:s,notesData:JSON.parse(t.notesData)}},render(e){return e("notes-app",{props:{noteableData:this.noteableData,notesData:this.notesData,userData:this.currentUserData}})}}),Object(a.a)(o.a),Object(r.a)(o.a),function(e){const t=document.getElementById("js-incidents-timeline-toggle");t&&new n.default({el:t,store:e,render:e=>e(_)})}(o.a))}},XPiF:function(e,t,i){"use strict";var n={name:"EditedNoteText",components:{timeAgoTooltip:i("LcVr").a},props:{actionText:{type:String,required:!0},actionDetailText:{type:String,required:!1,default:""},editedAt:{type:String,required:!1,default:null},editedBy:{type:Object,required:!1,default:null},className:{type:String,required:!1,default:"edited-text"}}},s=i("bPvS"),a=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.className},[e._v("\n  "+e._s(e.actionText)+"\n  "),e.editedBy?[e._v("\n    by\n    "),i("a",{staticClass:"js-user-link author-link",attrs:{href:e.editedBy.path,"data-user-id":e.editedBy.id}},[e._v("\n      "+e._s(e.editedBy.name)+"\n    ")])]:e._e(),e._v("\n  "+e._s(e.actionDetailText)+"\n  "),i("time-ago-tooltip",{attrs:{time:e.editedAt,"tooltip-placement":"bottom"}})],2)}),[],!1,null,null,null);t.a=a.exports},"XR+4":function(e,t,i){"use strict";var n=i("t9l/"),s={name:"ReplyPlaceholder",props:{placeholderText:{type:String,required:!1,default:Object(n.a)("Reply")},labelText:{type:String,required:!1,default:Object(n.a)("Reply to comment")}}},a=i("bPvS"),r=Object(a.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{ref:"textarea",staticClass:"reply-placeholder-text-field js-vue-discussion-reply",attrs:{rows:"1",placeholder:e.placeholderText,"aria-label":e.labelText},on:{focus:function(t){return e.$emit("focus")}}})}),[],!1,null,null,null);t.a=r.exports},XWEW:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const n=/^(\/?(.+?)\/(.+?)\/-\/merge_requests\/(\d+)).*$/i;function s(){let e,t,i,s,{endpoint:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=n.exec(a);return r&&([,e,t,i,s]=r),{mrPath:e,userOrGroup:t,project:i,id:s}}},XXQe:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}));const n={title:"TITLE"},s="item_title"},Y8Fe:function(e,t,i){var n=i("pK7r");e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},"YK+j":function(e,t,i){var n=i("NZhY"),s=i("ZzVf"),a=i("ri+z"),r=i("qGI4"),o=i("5uIe"),l=i("lj6f"),c=Math.min;e.exports=function(e,t,i){for(var d=i?a:s,u=e[0].length,p=e.length,h=p,f=Array(p),m=1/0,g=[];h--;){var b=e[h];h&&t&&(b=r(b,o(t))),m=c(b.length,m),f[h]=!i&&(t||u>=120&&b.length>=120)?new n(h&&b):void 0}b=e[0];var v=-1,y=f[0];e:for(;++v<u&&g.length<m;){var _=b[v],w=t?t(_):_;if(_=i||0!==_?_:0,!(y?l(y,w):d(g,w,i))){for(h=p;--h;){var S=f[h];if(!(S?l(S,w):d(e[h],w,i)))continue e}y&&y.push(w),g.push(_)}}return g}},YOcS:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("ENs1"),s=i("q+nE"),a=i("teVv"),r=i("t9l/"),o=i("dYBJ"),l=i("5ee2"),c=i("H8gz"),d=i("ly/8"),u={components:{GlIcon:c.a},directives:{GlTooltip:d.a},props:{confidential:{type:Boolean,required:!0},issuableType:{type:String,required:!0}},computed:{confidentialText(){return this.confidential?Object(r.h)(Object(r.a)("This %{issuableType} is confidential"),{issuableType:this.issuableType}):Object(r.a)("Not confidential")},confidentialIcon(){return this.confidential?"eye-slash":"eye"},tooltipLabel(){return this.confidential?Object(r.a)("Confidential"):Object(r.a)("Not confidential")}}},p=i("bPvS"),h=Object(p.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-testid":"sidebar-collapsed-icon"},on:{click:function(t){return e.$emit("expandSidebar")}}},[i("gl-icon",{staticClass:"sidebar-item-icon inline",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}})],1),e._v(" "),i("gl-icon",{staticClass:"sidebar-item-icon inline hide-collapsed",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}}),e._v(" "),i("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"confidential-text"}},[e._v(e._s(e.confidentialText))])],1)}),[],!1,null,null,null).exports,f=i("nPFI"),m=i("cuRJ"),g=i("mpzd"),b={i18n:{confidentialityOnWarning:Object(r.a)("You are going to turn on confidentiality. Only team members with %{strongStart}at least Reporter access%{strongEnd} will be able to see and leave comments on the %{issuableType}."),confidentialityOffWarning:Object(r.a)("You are going to turn off the confidentiality. This means %{strongStart}everyone%{strongEnd} will be able to see and leave a comment on this %{issuableType}.")},components:{GlSprintf:f.a,GlButton:m.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},confidential:{required:!0,type:Boolean},issuableType:{required:!0,type:String}},data:()=>({loading:!1}),computed:{toggleButtonText(){return this.loading?Object(r.a)("Applying"):this.confidential?Object(r.a)("Turn off"):Object(r.a)("Turn on")},warningMessage(){return this.confidential?this.$options.i18n.confidentialityOffWarning:this.$options.i18n.confidentialityOnWarning},workspacePath(){return this.issuableType===g.c.Issue?{projectPath:this.fullPath}:{groupPath:this.fullPath}}},methods:{submitForm(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:l.g[this.issuableType].mutation,variables:{input:{...this.workspacePath,iid:this.iid,confidential:!this.confidential}}}).then((function(t){let{data:{issuableSetConfidential:{errors:i}}}=t;i.length?Object(a.f)({message:i[0]}):e.$emit("closeForm")})).catch((function(){Object(a.f)({message:Object(r.h)(Object(r.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:e.issuableType})})})).finally((function(){e.loading=!1}))}}},v=Object(p.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[i("div",[i("p",{attrs:{"data-testid":"warning-message"}},[i("gl-sprintf",{attrs:{message:e.warningMessage},scopedSlots:e._u([{key:"strong",fn:function(t){var n=t.content;return[i("strong",[e._v(e._s(n))])]}},{key:"issuableType",fn:function(){return[e._v(e._s(e.issuableType))]},proxy:!0}])})],1),e._v(" "),i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("gl-button",{staticClass:"gl-mr-3",attrs:{"data-testid":"confidential-cancel"},on:{click:function(t){return e.$emit("closeForm")}}},[e._v("\n          "+e._s(e.__("Cancel"))+"\n        ")]),e._v(" "),i("gl-button",{attrs:{category:"secondary",variant:"confirm",disabled:e.loading,loading:e.loading,"data-testid":"confidential-toggle"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n          "+e._s(e.toggleButtonText)+"\n        ")])],1)])])])}),[],!1,null,null,null).exports;const y=s.default.observable({setConfidentiality:null}),_=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var w={tracking:{event:l.e.editEvent,label:l.e.rightSidebarLabel,property:"confidentiality"},components:{SidebarEditableItem:o.a,SidebarConfidentialityContent:h,SidebarConfidentialityForm:v},inject:{isClassicSidebar:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({confidential:!1}),apollo:{confidential:{query(){return l.g[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.confidential)||!1},result(e){var t,i;let{data:n}=e;n&&this.$emit("confidentialityUpdated",null===(t=n.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.confidential)},error(){Object(a.f)({message:Object(r.h)(Object(r.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:this.issuableType})})}}},computed:{isLoading(){return this.$apollo.queries.confidential.loading}},mounted(){y.setConfidentiality=this.setConfidentiality},destroyed(){y.setConfidentiality=null},methods:{closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(_),this.$emit("closeForm")},setConfidentiality(){var e=this;const{defaultClient:t}=this.$apollo.provider.clients,i=t.readQuery({query:l.g[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid}}),s=Object(n.a)(i,(function(t){t.workspace.issuable.confidential=!e.confidential}));t.writeQuery({query:l.g[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid},data:s})},expandSidebar(){this.$refs.editable.expand(),this.$emit("expandSidebar")}}},S=Object(p.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",staticClass:"block confidentiality",attrs:{title:e.__("Confidentiality"),tracking:e.$options.tracking,loading:e.isLoading},scopedSlots:e._u([{key:"collapsed",fn:function(){return[i("div",[e.isLoading?e._e():i("sidebar-confidentiality-content",{class:{"gl-mt-3":!e.isClassicSidebar},attrs:{confidential:e.confidential,"issuable-type":e.issuableType},on:{expandSidebar:e.expandSidebar}})],1)]},proxy:!0},{key:"default",fn:function(){return[i("sidebar-confidentiality-content",{attrs:{confidential:e.confidential,"issuable-type":e.issuableType}}),e._v(" "),i("sidebar-confidentiality-form",{attrs:{iid:e.iid,"full-path":e.fullPath,confidential:e.confidential,"issuable-type":e.issuableType},on:{closeForm:e.closeForm}})]},proxy:!0}])})}),[],!1,null,null,null);t.b=S.exports},"YSj/":function(e,t,i){var n,s,a;s=[],void 0===(a="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,i){return null===e.parentNode?i:t(e.parentNode,i.concat([e]))},i=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(t){return e.test(function(e){return i(e,"overflow")+i(e,"overflow-y")+i(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var i=t(e.parentNode,[]),s=0;s<i.length;s+=1)if(n(i[s]))return i[s];return document.scrollingElement||document.documentElement}}})?n.apply(t,s):n)||(e.exports=a)},Yvyq:function(e,t,i){var n=i("bTeh");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("wd1e").default)("0a60a035",n,!0,{})},Z0Ze:function(e,t,i){"use strict";var n=i("A1CF"),s=i.n(n),a=i("H8gz"),r=i("u1ru"),o=i("t9l/");function l(e){return`<a href="${s()(e)}" target="_blank" rel="noopener noreferrer">`}const c={Issue:Object(o.a)("issue"),Epic:Object(o.a)("epic"),MergeRequest:Object(o.a)("merge request")};var d={components:{GlIcon:a.a,GlLink:r.a},props:{isLocked:{type:Boolean,default:!1,required:!1},isConfidential:{type:Boolean,default:!1,required:!1},noteableType:{type:String,required:!1,default:"Issue"},lockedNoteableDocsPath:{type:String,required:!1,default:""},confidentialNoteableDocsPath:{type:String,required:!1,default:""}},computed:{warningIcon(){return this.isConfidential?"eye-slash":this.isLocked?"lock":""},isLockedAndConfidential(){return this.isConfidential&&this.isLocked},noteableTypeText(){return c[this.noteableType]},confidentialAndLockedDiscussionText(){return Object(o.h)(Object(o.a)("This %{noteableTypeText} is %{confidentialLinkStart}confidential%{linkEnd} and %{lockedLinkStart}locked%{linkEnd}."),{noteableTypeText:this.noteableTypeText,confidentialLinkStart:l(this.confidentialNoteableDocsPath),lockedLinkStart:l(this.lockedNoteableDocsPath),linkEnd:"</a>"},!1)},confidentialContextText(){return Object(o.h)(Object(o.a)("This is a confidential %{noteableTypeText}."),{noteableTypeText:this.noteableTypeText})},lockedContextText(){return Object(o.h)(Object(o.a)("This %{noteableTypeText} is locked."),{noteableTypeText:this.noteableTypeText})}}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"issuable-note-warning",attrs:{"data-testid":"confidential-warning"}},[e.isLockedAndConfidential?e._e():i("gl-icon",{staticClass:"icon inline",attrs:{name:e.warningIcon,size:16}}),e._v(" "),e.isLockedAndConfidential?i("span",{ref:"lockedAndConfidential"},[i("span",{domProps:{innerHTML:e._s(e.confidentialAndLockedDiscussionText)}}),e._v("\n    "+e._s(e.__("People without permission will never get a notification and won't be able to comment."))+"\n  ")]):e.isConfidential?i("span",{ref:"confidential"},[e._v("\n    "+e._s(e.confidentialContextText)+"\n    "+e._s(e.__("People without permission will never get a notification."))+"\n    "),i("gl-link",{attrs:{href:e.confidentialNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more")))])],1):e.isLocked?i("span",{ref:"locked"},[e._v("\n    "+e._s(e.lockedContextText)+"\n    "+e._s(e.__("Only project members can comment."))+"\n    "),i("gl-link",{attrs:{href:e.lockedNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more")))])],1):e._e()],1)}),[],!1,null,null,null).exports,h=i("nPFI"),f=i("nGW5"),m={components:{GlSprintf:h.a},props:{emails:{type:Array,required:!0},numberOfLessParticipants:{type:Number,required:!1,default:3}},data:()=>({isShowingMoreParticipants:!1}),computed:{title(){return this.moreParticipantsAvailable?Object(f.a)(this.lessParticipants,{onlyCommas:!0}):Object(f.a)(this.emails)},lessParticipants(){return this.emails.slice(0,this.numberOfLessParticipants)},moreLabel(){return Object(o.h)(Object(o.g)("EmailParticipantsWarning|and %{moreCount} more"),{moreCount:this.emails.length-this.numberOfLessParticipants})},moreParticipantsAvailable(){return!this.isShowingMoreParticipants&&this.emails.length>this.numberOfLessParticipants},message(){return this.moreParticipantsAvailable?Object(o.g)("EmailParticipantsWarning|%{emails}, %{andMore} will be notified of your comment."):Object(o.g)("EmailParticipantsWarning|%{emails} will be notified of your comment.")}},methods:{showMoreParticipants(){this.isShowingMoreParticipants=!0}}};var g={components:{EmailParticipantsWarning:Object(u.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"issuable-note-warning",attrs:{"data-testid":"email-participants-warning"}},[i("gl-sprintf",{attrs:{message:e.message},scopedSlots:e._u([{key:"andMore",fn:function(){return[i("button",{staticClass:"btn-transparent btn-link",attrs:{type:"button"},on:{click:e.showMoreParticipants}},[e._v("\n        "+e._s(e.moreLabel)+"\n      ")])]},proxy:!0},{key:"emails",fn:function(){return[i("span",[e._v(e._s(e.title))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,NoteableWarning:p},props:{noteableData:{type:Object,required:!0},noteIsConfidential:{type:Boolean,required:!1,default:!1},noteableType:{type:String,required:!1,default:"Issue"},withAlertContainer:{type:Boolean,required:!1,default:!1}},computed:{isLocked(){return Boolean(this.noteableData.discussion_locked)},isConfidential(){return Boolean(this.noteableData.confidential)},hasWarning(){return this.isConfidential||this.isLocked},emailParticipants(){var e;return(null===(e=this.noteableData.issue_email_participants)||void 0===e?void 0:e.map((function(e){let{email:t}=e;return t})))||[]},showEmailParticipantsWarning(){return this.emailParticipants.length&&!this.noteIsConfidential}}},b=Object(u.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comment-warning-wrapper gl-border-solid gl-border-1 gl-rounded-base gl-border-gray-100"},[e.withAlertContainer?i("div",{staticClass:"error-alert",attrs:{"data-testid":"comment-field-alert-container"}}):e._e(),e._v(" "),e.hasWarning?i("noteable-warning",{staticClass:"gl-border-b-1 gl-border-b-solid gl-border-b-gray-100 gl-rounded-base gl-rounded-bottom-left-none gl-rounded-bottom-right-none",attrs:{"is-locked":e.isLocked,"is-confidential":e.isConfidential,"noteable-type":e.noteableType,"locked-noteable-docs-path":e.noteableData.locked_discussion_docs_path,"confidential-noteable-docs-path":e.noteableData.confidential_issues_docs_path}}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.showEmailParticipantsWarning?i("email-participants-warning",{staticClass:"gl-border-t-1 gl-border-t-solid gl-border-t-gray-100 gl-rounded-base gl-rounded-top-left-none! gl-rounded-top-right-none!",attrs:{emails:e.emailParticipants}}):e._e()],2)}),[],!1,null,null,null);t.a=b.exports},ZIpG:function(e,t,i){"use strict";var n=i("H8gz"),s=i("t9l/"),a={components:{GlIcon:n.a},props:{user:{type:Object,required:!0},imgSize:{type:Number,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{assigneeAlt(){return Object(s.h)(Object(s.a)("%{userName}'s avatar"),{userName:this.user.name})},avatarUrl(){return this.user.avatarUrl||this.user.avatar||this.user.avatar_url||gon.default_avatar_url},isMergeRequest(){return"merge_request"===this.issuableType},hasMergeIcon(){return this.isMergeRequest&&!this.user.can_merge}}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"position-relative"},[t("img",{staticClass:"avatar avatar-inline m-0",class:"s"+this.imgSize,attrs:{alt:this.assigneeAlt,src:this.avatarUrl,width:this.imgSize,"data-qa-selector":"avatar_image"}}),this._v(" "),this.hasMergeIcon?t("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):this._e()],1)}),[],!1,null,null,null);t.a=o.exports},ZJPx:function(e,t,i){"use strict";i.d(t,"g",(function(){return a})),i.d(t,"f",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return p}));var n=i("Wtfk"),s=i.n(n);function a(e){return"new"===e?"+":"old"===e?"-":""}function r(e,t){var i;if(!e||!t||!e[t])return"";const{new_line:n,old_line:s,type:r}=e[t],o=r?null:null===(i=e["start"===t?"end":"start"])||void 0===i?void 0:i.type,l=r||"";let c=s;return"new"!==l&&"new"!==o||(c=n),c&&a(l)+c||""}function o(e){return r(e,"start")}function l(e){return r(e,"end")}function c(e){const t="string"==typeof e?e.charAt(0):a(null==e?void 0:e.type);return"+"!==t&&"-"!==t?"":["gl-px-1 gl-rounded-small gl-border-solid gl-border-1 gl-border-white",{"gl-bg-green-100 gl-text-green-800":"+"===t,"gl-bg-red-100 gl-text-red-800":"-"===t}]}function d(e,t,i){const n="left"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left")?"old_line":"new_line",r="new_line"===n?"old_line":"new_line",o=[...e],l=t.line_code,c=o.findIndex((function(e){return e.line_code===i})),d=o.slice(0,c+1),u=s()(d,(function(e){return"match"!==e.type}));return u.findIndex((function(e){return e.line_code===l}))<0&&u.unshift(t),u.map((function(e){const{line_code:t,type:i,old_line:s,new_line:o}=e;return{value:{line_code:t,type:i,old_line:s,new_line:o},text:`${a(i)}${e[n]||e[r]}`}}))}function u(e,t){const i=function(e){let{line_code:t,type:i,old_line:n,new_line:s}=e;return{line_code:t,type:i,old_line:n,new_line:s}};return{start:i(e),end:i(t)}}function p(e,t){if(!e)return{startLine:t.length+1,endLine:t.length+1};const i=function(e){return function(t){var i,n;return[t.line_code,null===(i=t.left)||void 0===i?void 0:i.line_code,null===(n=t.right)||void 0===n?void 0:n.line_code].includes(e.line_code)}},{start:n,end:s}=e;return{startLine:t.findIndex(i(n)),endLine:t.findIndex(i(s))}}},ZP6x:function(e,t,i){"use strict";var n=i("A1CF"),s=i.n(n),a=i("t9l/"),r={WI_TITLE_TRACK_LABEL:i("XXQe").a,props:{initialTitle:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:Object(a.a)("Add a title...")},disabled:{type:Boolean,required:!1,default:!1}},data(){return{title:this.initialTitle}},methods:{getSanitizedTitle(e){const{innerText:t}=e;return s()(t)},handleBlur(e){let{target:t}=e;this.$emit("title-changed",this.getSanitizedTitle(t))},handleInput(e){let{target:t}=e;this.$emit("title-input",this.getSanitizedTitle(t))},handleSubmit(){this.$refs.titleEl.blur()}}},o=i("bPvS"),l=Object(o.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"gl-font-weight-normal gl-sm-font-weight-bold gl-my-5 gl-display-inline-block",class:{"gl-cursor-not-allowed":e.disabled},attrs:{"data-testid":"title","aria-labelledby":"item-title"}},[i("span",{ref:"titleEl",staticClass:"gl-pseudo-placeholder",attrs:{id:"item-title",role:"textbox","aria-label":e.__("Title"),"data-placeholder":e.placeholder,"data-track-label":e.$options.WI_TITLE_TRACK_LABEL,contenteditable:!e.disabled},on:{blur:e.handleBlur,keyup:e.handleInput,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.handleSubmit(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"u",void 0,t.key,void 0)?null:t.ctrlKey?void t.preventDefault():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"u",void 0,t.key,void 0)?null:t.metaKey?void t.preventDefault():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"b",void 0,t.key,void 0)?null:t.ctrlKey?void t.preventDefault():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"b",void 0,t.key,void 0)?null:t.metaKey?void t.preventDefault():null}]}},[e._v(e._s(e.title))])])}),[],!1,null,null,null);t.a=l.exports},ZPTr:function(e,t,i){var n=i("qHIR"),s=i("T5M9"),a=i("/e4I"),r=i("QN0Q"),o=s((function(e){return a(n(e,1,r,!0))}));e.exports=o},ZSrL:function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(a).concat([s]).join("\n")}var r;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var a=this[s][0];null!=a&&(n[a]=!0)}for(s=0;s<e.length;s++){var r=e[s];null!=r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},ZYcg:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i("6eiP"),s=i.n(n),a=i("BYh8"),r=i("vRHk");const o=function(e){return{category:"Incident Management",action:"toggle_incident_comments_into_timeline_view",label:"Status",property:e}},l=function(e){return Object(a.a)(s()(e),r.p)}},ZcYw:function(e,t,i){"use strict";i.d(t,"b",(function(){return o}));var n=i("H8gz"),s=i("q+nE"),a=i("voi4"),r=i("t9l/");const o=s.default.observable({state:"",updateStatus:null}),l={opened:"status-box-open",locked:"status-box-open",closed:"status-box-mr-closed",merged:"status-box-mr-merged"},c={opened:[Object(r.a)("Open"),"issue-open-m"],locked:[Object(r.a)("Open"),"issue-open-m"],closed:[Object(r.a)("Closed"),"issue-close"],merged:[Object(r.a)("Merged"),"git-merge"]};var d={components:{GlIcon:n.a},inject:{query:{default:null},projectPath:{default:null},iid:{default:null}},props:{initialState:{type:String,required:!1,default:null},issuableType:{type:String,required:!1,default:""}},data(){return this.initialState&&(o.state=this.initialState),o},computed:{statusBoxClass(){return l[`${this.issuableType}_${this.state}`]||l[this.state]},statusHumanName(){return(c[`${this.issuableType}_${this.state}`]||c[this.state])[0]},statusIconName(){return(c[`${this.issuableType}_${this.state}`]||c[this.state])[1]}},created(){o.updateStatus||(o.updateStatus=this.fetchState)},beforeDestroy(){o.updateStatus&&this.query&&(o.updateStatus=null)},methods:{async fetchState(){var e,t;const{data:i}=await this.$apollo.query({query:this.query,variables:{projectPath:this.projectPath,iid:this.iid},fetchPolicy:a.fetchPolicies.NO_CACHE});o.state=null==i?void 0:null===(e=i.workspace)||void 0===e?void 0:null===(t=e.issuable)||void 0===t?void 0:t.state}}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"issuable-status-box status-box",class:this.statusBoxClass},[t("gl-icon",{staticClass:"gl-display-block gl-sm-display-none!",attrs:{name:this.statusIconName}}),this._v(" "),t("span",{staticClass:"gl-display-none gl-sm-display-block"},[this._v("\n    "+this._s(this.statusHumanName)+"\n  ")])],1)}),[],!1,null,null,null);t.a=p.exports},Zi5e:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r})),i.d(t,"h",(function(){return o})),i.d(t,"i",(function(){return l})),i.d(t,"g",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return p})),i.d(t,"f",(function(){return f}));var n=i("t9l/"),s=i("/LsX");function a(e){return e/s.f}function r(e){return e/(s.f*s.f)}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.abs(e);return i<s.f?Object(n.h)(Object(n.a)("%{size} bytes"),{size:e}):i<s.f**2?Object(n.h)(Object(n.a)("%{size} KiB"),{size:a(e).toFixed(t)}):i<s.f**3?Object(n.h)(Object(n.a)("%{size} MiB"),{size:r(e).toFixed(t)}):Object(n.h)(Object(n.a)("%{size} GiB"),{size:(o=e,o/(s.f*s.f*s.f)).toFixed(t)});var o}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e<s.m?e.toString():e<s.m**2?`${(e/s.m).toFixed(t)}k`:`${(e/s.m**2).toFixed(t)}m`}const c=function(e){const t=Math.floor(e.length/2),i=e.sort((function(e,t){return e-t}));return e.length%2!=0?i[t]:(i[t-1]+i[t])/2},d=function(e,t){return e===t?0:Math.round((t-e)/Math.abs(e)*100)},u=function(e,t){let{nonFiniteResult:i="-"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=d(e,t);return Number.isFinite(n)?`${n>=0?"+":""}${n}%`:i},p=function(e){return!Number.isNaN(parseInt(e,10))},h=/^[0-9]+$/,f=function(e){return h.test(e)}},ZplN:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY"),o=i("9Q7u"),l=i("R+nN");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=Object(r.c)(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({vertical:{type:Boolean,default:!1},size:{type:String},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},Object(o.k)(l.b,["size"])),a.g),p=n.a.extend({name:a.g,functional:!0,props:u,render:function(e,t){var i=t.props,n=t.data,a=t.children;return e(i.tag,Object(s.a)(n,{class:d({"btn-group":!i.vertical,"btn-group-vertical":i.vertical},"btn-group-".concat(i.size),i.size),attrs:{role:i.ariaRole}}),a)}}),h=i("6IRw");const f={components:{BButtonGroup:p}};const m=i.n(h)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-button-group",this._g(this._b({},"b-button-group",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=m},aRps:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"updateLockedAttribute",(function(){return F})),i.d(n,"expandDiscussion",(function(){return B})),i.d(n,"collapseDiscussion",(function(){return M})),i.d(n,"setNotesData",(function(){return U})),i.d(n,"setNoteableData",(function(){return V})),i.d(n,"setConfidentiality",(function(){return H})),i.d(n,"setUserData",(function(){return z})),i.d(n,"setLastFetchedAt",(function(){return G})),i.d(n,"setInitialNotes",(function(){return W})),i.d(n,"setTargetNoteHash",(function(){return Y})),i.d(n,"setNotesFetchedState",(function(){return K})),i.d(n,"toggleDiscussion",(function(){return Q})),i.d(n,"setExpandDiscussions",(function(){return Z})),i.d(n,"fetchDiscussions",(function(){return J})),i.d(n,"fetchDiscussionsBatch",(function(){return X})),i.d(n,"updateDiscussion",(function(){return ee})),i.d(n,"setDiscussionSortDirection",(function(){return te})),i.d(n,"setTimelineView",(function(){return ie})),i.d(n,"setSelectedCommentPosition",(function(){return ne})),i.d(n,"setSelectedCommentPositionHover",(function(){return se})),i.d(n,"removeNote",(function(){return ae})),i.d(n,"deleteNote",(function(){return re})),i.d(n,"updateNote",(function(){return oe})),i.d(n,"updateOrCreateNotes",(function(){return le})),i.d(n,"replyToDiscussion",(function(){return ce})),i.d(n,"createNewNote",(function(){return de})),i.d(n,"removePlaceholderNotes",(function(){return ue})),i.d(n,"resolveDiscussion",(function(){return pe})),i.d(n,"toggleResolveNote",(function(){return he})),i.d(n,"closeIssuable",(function(){return fe})),i.d(n,"reopenIssuable",(function(){return me})),i.d(n,"toggleStateButtonLoading",(function(){return ge})),i.d(n,"emitStateChangedEvent",(function(){return be})),i.d(n,"toggleIssueLocalState",(function(){return ve})),i.d(n,"saveNote",(function(){return ye})),i.d(n,"setFetchingState",(function(){return _e})),i.d(n,"poll",(function(){return we})),i.d(n,"stopPolling",(function(){return Se})),i.d(n,"restartPolling",(function(){return ke})),i.d(n,"toggleAward",(function(){return Oe})),i.d(n,"toggleAwardRequest",(function(){return Te})),i.d(n,"scrollToNoteIfNeeded",(function(){return je})),i.d(n,"fetchDiscussionDiffLines",(function(){return Ce})),i.d(n,"updateMergeRequestWidget",(function(){return Ee})),i.d(n,"setLoadingState",(function(){return Ie})),i.d(n,"filterDiscussion",(function(){return xe})),i.d(n,"setCommentsDisabled",(function(){return De})),i.d(n,"startTaskList",(function(){return Pe})),i.d(n,"updateResolvableDiscussionsCounts",(function(){return Ne})),i.d(n,"submitSuggestion",(function(){return Ae})),i.d(n,"submitSuggestionBatch",(function(){return Re})),i.d(n,"addSuggestionInfoToBatch",(function(){return Le})),i.d(n,"removeSuggestionInfoFromBatch",(function(){return $e})),i.d(n,"convertToDiscussion",(function(){return qe})),i.d(n,"removeConvertedDiscussion",(function(){return Fe})),i.d(n,"setCurrentDiscussionId",(function(){return Be})),i.d(n,"fetchDescriptionVersion",(function(){return Me})),i.d(n,"requestDescriptionVersion",(function(){return Ue})),i.d(n,"receiveDescriptionVersion",(function(){return Ve})),i.d(n,"receiveDescriptionVersionError",(function(){return He})),i.d(n,"softDeleteDescriptionVersion",(function(){return ze})),i.d(n,"requestDeleteDescriptionVersion",(function(){return Ge})),i.d(n,"receiveDeleteDescriptionVersion",(function(){return We})),i.d(n,"receiveDeleteDescriptionVersionError",(function(){return Ye})),i.d(n,"updateAssignees",(function(){return Ke})),i.d(n,"updateDiscussionPosition",(function(){return Qe}));var s={};i.r(s),i.d(s,"discussions",(function(){return nt})),i.d(s,"convertedDisscussionIds",(function(){return st})),i.d(s,"targetNoteHash",(function(){return at})),i.d(s,"getNotesData",(function(){return rt})),i.d(s,"isNotesFetched",(function(){return ot})),i.d(s,"sortDirection",(function(){return lt})),i.d(s,"persistSortOrder",(function(){return ct})),i.d(s,"timelineEnabled",(function(){return dt})),i.d(s,"isFetching",(function(){return ut})),i.d(s,"isLoading",(function(){return pt})),i.d(s,"getNotesDataByProp",(function(){return ht})),i.d(s,"getNoteableData",(function(){return ft})),i.d(s,"getNoteableDataByProp",(function(){return mt})),i.d(s,"getBlockedByIssues",(function(){return gt})),i.d(s,"userCanReply",(function(){return bt})),i.d(s,"openState",(function(){return vt})),i.d(s,"getUserData",(function(){return yt})),i.d(s,"getUserDataByProp",(function(){return _t})),i.d(s,"descriptionVersions",(function(){return wt})),i.d(s,"notesById",(function(){return St})),i.d(s,"noteableType",(function(){return kt})),i.d(s,"getCurrentUserLastNote",(function(){return jt})),i.d(s,"getDiscussionLastNote",(function(){return Ct})),i.d(s,"unresolvedDiscussionsCount",(function(){return Et})),i.d(s,"resolvableDiscussionsCount",(function(){return It})),i.d(s,"showJumpToNextDiscussion",(function(){return xt})),i.d(s,"isDiscussionResolved",(function(){return Dt})),i.d(s,"allResolvableDiscussions",(function(){return Pt})),i.d(s,"resolvedDiscussionsById",(function(){return Nt})),i.d(s,"unresolvedDiscussionsIdsByDate",(function(){return At})),i.d(s,"unresolvedDiscussionsIdsByDiff",(function(){return Rt})),i.d(s,"resolvedDiscussionCount",(function(){return Lt})),i.d(s,"discussionTabCounter",(function(){return $t})),i.d(s,"unresolvedDiscussionsIdsOrdered",(function(){return qt})),i.d(s,"isLastUnresolvedDiscussion",(function(){return Ft})),i.d(s,"findUnresolvedDiscussionIdNeighbor",(function(){return Bt})),i.d(s,"nextUnresolvedDiscussionId",(function(){return Mt})),i.d(s,"previousUnresolvedDiscussionId",(function(){return Ut})),i.d(s,"firstUnresolvedDiscussionId",(function(){return Vt})),i.d(s,"getDiscussion",(function(){return Ht})),i.d(s,"commentsDisabled",(function(){return zt})),i.d(s,"suggestionsCount",(function(){return Gt})),i.d(s,"hasDrafts",(function(){return Wt})),i.d(s,"getSuggestionsFilePaths",(function(){return Yt}));var a=i("toOR"),r=i("6oy4"),o=i.n(r),l=i("jmNb"),c=i.n(l),d=i("q+nE"),u=i("htOw"),p=i("teVv"),h=i("8KL1"),f=i("mphk"),m=i("t9l/"),g=i("YOcS"),b=i("1fbm"),v=i.n(b),y=i("14kI"),_=i.n(y),w=i("SLa1"),S=i("oj/M"),k=i("kSYl"),O=i("wC1f");const T={};var j=i("yYHy"),C=i("cBN0"),E=i("cd08"),I=i("HiZ0"),x=i("RewC");i("AfGZ");var D=i("tY3p"),P=i("voi4"),N=i("F87h");const A=function(e,t){return e.filter((function(e){return e.id===t}))[0]},R=function(e){let t=Object(m.a)("Applying command");const i=(N.a.get(gl.GfmAutoComplete.dataSources.commands)||[]).filter((function(t){return new RegExp(`/${t.name}`).test(e)}));if(i&&i.length)if(i.length>1)t=Object(m.a)("Applying multiple commands");else{const e=i[0].description.toLowerCase();t=Object(m.h)(Object(m.a)("Applying command to %{commandDescription}"),{commandDescription:e})}return t},L=function(e){return e.map((function(e){return{...Object(D.q)(e)}}))},$=Object(P.default)({},{fetchPolicy:P.fetchPolicies.NO_CACHE});let q;const F=function(e,t){let{commit:i,getters:n}=e,{locked:s,fullPath:a}=t;const{iid:r,targetType:o}=n.getNoteableData;return $.mutate({mutation:"issue"===o?v.a:_.a,variables:{input:{projectPath:a,iid:String(r),locked:s}}}).then((function(e){let{data:t}=e;const n="issue"===o?t.issueSetLocked.issue.discussionLocked:t.mergeRequestSetLocked.mergeRequest.discussionLocked;i("SET_ISSUABLE_LOCK",n)}))},B=function(e,t){let{commit:i,dispatch:n}=e;t.discussionId&&n("diffs/renderFileForDiscussionId",t.discussionId,{root:!0}),i("EXPAND_DISCUSSION",t)},M=function(e,t){let{commit:i}=e;return i("COLLAPSE_DISCUSSION",t)},U=function(e,t){let{commit:i}=e;return i("SET_NOTES_DATA",t)},V=function(e,t){let{commit:i}=e;return i("SET_NOTEABLE_DATA",t)},H=function(e,t){let{commit:i}=e;return i("SET_ISSUE_CONFIDENTIAL",t)},z=function(e,t){let{commit:i}=e;return i("SET_USER_DATA",t)},G=function(e,t){let{commit:i}=e;return i("SET_LAST_FETCHED_AT",t)},W=function(e,t){let{commit:i}=e;return i("ADD_OR_UPDATE_DISCUSSIONS",t)},Y=function(e,t){let{commit:i}=e;return i("SET_TARGET_NOTE_HASH",t)},K=function(e,t){let{commit:i}=e;return i("SET_NOTES_FETCHED_STATE",t)},Q=function(e,t){let{commit:i}=e;return i("TOGGLE_DISCUSSION",t)},Z=function(e,t){let{commit:i}=e,{discussionIds:n,expanded:s}=t;i("SET_EXPAND_DISCUSSIONS",{discussionIds:n,expanded:s})},J=function(e,t){var i,n;let{commit:s,dispatch:a}=e,{path:r,filter:o,persistFilter:l}=t;const c=void 0!==o?{params:{notes_filter:o,persist_filter:l}}:null;return null!==(i=window.gon)&&void 0!==i&&null!==(n=i.features)&&void 0!==n&&n.paginatedIssueDiscussions?a("fetchDiscussionsBatch",{path:r,config:c,perPage:20}):f.a.get(r,c).then((function(e){let{data:t}=e;s("ADD_OR_UPDATE_DISCUSSIONS",t),s("SET_FETCHING_DISCUSSIONS",!1),a("updateResolvableDiscussionsCounts")}))},X=function(e,t){let{commit:i,dispatch:n}=e,{path:s,config:a,cursor:r,perPage:o}=t;const l={...null==a?void 0:a.params,per_page:o};return r&&(l.cursor=r),f.a.get(s,{params:l}).then((function(e){let{data:t,headers:r}=e;if(i("ADD_OR_UPDATE_DISCUSSIONS",t),r["x-next-page-cursor"]){var l;const e={...a};return null!=a&&null!==(l=a.params)&&void 0!==l&&l.persist_filter&&(delete e.params.notes_filter,delete e.params.persist_filter),n("fetchDiscussionsBatch",{path:s,config:e,cursor:r["x-next-page-cursor"],perPage:Math.min(Math.round(1.5*o),100)})}i("SET_FETCHING_DISCUSSIONS",!1),n("updateResolvableDiscussionsCounts")}))},ee=function(e,t){let{commit:i,state:n}=e;return i("UPDATE_DISCUSSION",t),A(n.discussions,t.id)},te=function(e,t){let{commit:i}=e,{direction:n,persist:s=!0}=t;i("SET_DISCUSSIONS_SORT",{direction:n,persist:s})},ie=function(e,t){let{commit:i}=e;i("SET_TIMELINE_VIEW",t)},ne=function(e,t){let{commit:i}=e;i("SET_SELECTED_COMMENT_POSITION",t)},se=function(e,t){let{commit:i}=e;i("SET_SELECTED_COMMENT_POSITION_HOVER",t)},ae=function(e,t){let{commit:i,dispatch:n,state:s}=e;const a=s.discussions.find((function(e){let{id:i}=e;return i===t.discussion_id}));i("DELETE_NOTE",t),n("updateMergeRequestWidget"),n("updateResolvableDiscussionsCounts"),Object(S.x)()&&n("diffs/removeDiscussionsFromDiff",a)},re=function(e,t){let{dispatch:i}=e;return f.a.delete(t.path).then((function(){i("removeNote",t)}))},oe=function(e,t){let{commit:i,dispatch:n}=e,{endpoint:s,note:a}=t;return f.a.put(s,a).then((function(e){let{data:t}=e;i("UPDATE_NOTE",t),n("startTaskList")}))},le=function(e,t){let{commit:i,state:n,getters:s,dispatch:r}=e;const{notesById:o}=s;t.forEach((function(e){if(o[e.id])i("UPDATE_NOTE",e);else if(e.type===a.DISCUSSION_NOTE||e.type===a.DIFF_NOTE){A(n.discussions,e.discussion_id)?i("ADD_NEW_REPLY_TO_DISCUSSION",e):e.type!==a.DIFF_NOTE||e.base_discussion?i("ADD_NEW_NOTE",e):(t=n.currentlyFetchingDiscussions)?(!0!==t&&clearTimeout(n.currentlyFetchingDiscussions),i("SET_FETCHING_DISCUSSIONS",setTimeout((function(){r("fetchDiscussions",{path:n.notesData.discussionsPath})}),a.DISCUSSION_FETCH_TIMEOUT))):(i("SET_FETCHING_DISCUSSIONS",!0),r("fetchDiscussions",{path:n.notesData.discussionsPath}))}else i("ADD_NEW_NOTE",e);var t}))},ce=function(e,t){let{commit:i,state:n,getters:s,dispatch:a}=e,{endpoint:r,data:o}=t;return f.a.post(r,o).then((function(e){let{data:t}=e;return t.discussion?(i("UPDATE_DISCUSSION",t.discussion),le({commit:i,state:n,getters:s,dispatch:a},t.discussion.notes),a("updateMergeRequestWidget"),a("startTaskList"),a("updateResolvableDiscussionsCounts")):i("ADD_NEW_REPLY_TO_DISCUSSION",t),t}))},de=function(e,t){let{commit:i,dispatch:n}=e,{endpoint:s,data:a}=t;return f.a.post(s,a).then((function(e){let{data:t}=e;return t.errors||(i("ADD_NEW_NOTE",t),n("updateMergeRequestWidget"),n("startTaskList"),n("updateResolvableDiscussionsCounts")),t}))},ue=function(e){let{commit:t}=e;return t("REMOVE_PLACEHOLDER_NOTES")},pe=function(e,t){let{state:i,dispatch:n,getters:s}=e,{discussionId:a}=t;const r=A(i.discussions,a),o=s.isDiscussionResolved(a);return r?o?Promise.resolve():n("toggleResolveNote",{endpoint:r.resolve_path,isResolved:o,discussion:!0}):Promise.reject()},he=function(e,t){let{commit:i,dispatch:n}=e,{endpoint:s,isResolved:r,discussion:o}=t;const l=r?a.UNRESOLVE_NOTE_METHOD_NAME:a.RESOLVE_NOTE_METHOD_NAME,c=o?"UPDATE_DISCUSSION":"UPDATE_NOTE";return f.a[l](s).then((function(e){let{data:t}=e;i(c,t),n("updateResolvableDiscussionsCounts"),n("updateMergeRequestWidget")}))},fe=function(e){let{commit:t,dispatch:i,state:n}=e;return i("toggleStateButtonLoading",!0),f.a.put(n.notesData.closePath).then((function(e){let{data:n}=e;t("CLOSE_ISSUE"),i("emitStateChangedEvent",n),i("toggleStateButtonLoading",!1)}))},me=function(e){let{commit:t,dispatch:i,state:n}=e;return i("toggleStateButtonLoading",!0),f.a.put(n.notesData.reopenPath).then((function(e){let{data:n}=e;t("REOPEN_ISSUE"),i("emitStateChangedEvent",n),i("toggleStateButtonLoading",!1)}))},ge=function(e,t){let{commit:i}=e;return i("TOGGLE_STATE_BUTTON_LOADING",t)},be=function(e,t){let{getters:i}=e;const n=new CustomEvent(h.a,{detail:{data:t,isClosed:i.openState===a.CLOSED}});document.dispatchEvent(n)},ve=function(e,t){let{commit:i}=e;t===a.CLOSED?i("CLOSE_ISSUE"):t===a.REOPENED&&i("REOPEN_ISSUE")},ye=function(e,t){let{commit:i,dispatch:n}=e;const s=t.data.draft_note||t.data["note[note]"]||t.data.note.note;let a=s;const r=function(e){return/^\/\w+.*$/gm.test(e)}(a),l=t.data.in_reply_to_discussion_id;let c;const d={...t};!0===d.isDraft?(c=l?"batchComments/addDraftToDiscussion":"batchComments/createNewDraft",!d.draft_note&&t.note&&(d.draft_note=d.note,delete d.note)):c=l?"replyToDiscussion":"createNewNote",o()(".notes-form .flash-container").hide(),i("REMOVE_PLACEHOLDER_NOTES"),r&&(a=function(e){return e.replace(/^\/\w+.*$/gm,"").trim()}(a)),a.length&&i("SHOW_PLACEHOLDER_NOTE",{noteBody:a,replyId:l}),r&&i("SHOW_PLACEHOLDER_NOTE",{isSystemNote:!0,noteBody:R(s),replyId:l});return n(c,d,{root:!0}).then((function(e){const{errors:{commands_only:i}={commands_only:null}}=e;return r&&i&&(q.makeRequest(),g.a.setConfidentiality&&i.some((function(e){return e.includes("Made this issue confidential")}))&&g.a.setConfidentiality(),o()(".js-gfm-input").trigger("clear-commands-cache.atwho"),Object(p.f)({message:i||Object(m.a)("Commands applied"),type:"notice",parent:t.flashContainer})),e})).then((function(e){const{commands_changes:i}=e,{emoji_award:n}=i||{};if(!n)return e;const s=o()(".js-awards-block").eq(0);return Object(w.b)().then((function(e){e.addAwardToEmojiBar(s,n),e.scrollToAwards()})).catch((function(){Object(p.f)({message:Object(m.a)("Something went wrong while adding your award. Please try again."),parent:t.flashContainer})})).then((function(){return e}))})).then((function(e){const{commands_changes:t}=e,{spend_time:i,time_estimate:n}=t||{};return null==i&&null==n||C.a.$emit("timeTrackingUpdated",{commands_changes:t}),e})).then((function(e){return i("REMOVE_PLACEHOLDER_NOTES"),e})).catch((function(e){if(e.response){const{response:{data:i={}}}=e,{errors:n={}}=i,{base:s=[]}=n;if(s.length>0){const e=Object(m.h)(Object(m.a)("Your comment could not be submitted because %{error}"),{error:s[0].toLowerCase()});return Object(p.f)({message:e,parent:t.flashContainer}),{...i,hasFlash:!0}}}throw e}))},_e=function(e,t){let{commit:i}=e;return i("SET_NOTES_FETCHING_STATE",t)},we=function(e){let{commit:t,state:i,getters:n,dispatch:s}=e;const a=function(){const e=Object(O.a)()[0];let t={},i=0;const n={get id(){return e},get count(){return i},get handlers(){return t},free:()=>delete T[e],handle(e,i){e&&i&&(t[e]=i)},eject(e){e&&delete t[e]},occur(){"function"==typeof t[i+=1]&&t[i](i)},reset(){let{currentCount:e=!0,handlersList:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(i=0),n&&(t={})}};return T[e]=n,n}();let r;a.handle(1,(function(){setTimeout((function(){return q.restart()}),6e3)})),a.handle(2,(function(){r=Object(p.f)({message:Object(m.a)("Something went wrong while fetching latest comments.")}),setTimeout((function(){return q.restart()}),6e3)})),q=new k.a({resource:{poll:function(){const{endpoint:e,options:t}=function(e){return{endpoint:e.notesData.notesPath,options:{headers:{"X-Last-Fetched-At":e.lastFetchedAt?`${e.lastFetchedAt}`:void 0}}}}(i);return f.a.get(e,t)}},method:"poll",successCallback:function(e){var n;let{data:o}=e;!async function(e,t,i,n,s){var a,r,o;i.isResolvingDiscussion||(null!==(a=window.gon)&&void 0!==a&&null!==(r=a.features)&&void 0!==r&&r.paginatedNotes&&!e.more&&i.isFetching&&(x.a.$emit("fetchedNotesData"),s("setFetchingState",!1),s("setNotesFetchedState",!0),s("setLoadingState",!1)),null!==(o=e.notes)&&void 0!==o&&o.length&&(await s("updateOrCreateNotes",e.notes),s("startTaskList"),s("updateResolvableDiscussionsCounts")),t("SET_LAST_FETCHED_AT",e.last_fetched_at))}(o,t,i,0,s),a.count&&a.reset(),null===(n=r)||void 0===n||n.close()},errorCallback:function(){return a.occur()}}),c.a.hidden()?q.makeRequest():q.makeDelayedRequest(2500),c.a.change((function(){c.a.hidden()?q.stop():q.restart()}))},Se=function(){q&&q.stop()},ke=function(){q&&q.restart()},Oe=function(e,t){let{commit:i,getters:n}=e,{awardName:s,noteId:a}=t;i("TOGGLE_AWARD",{awardName:s,note:n.notesById[a]})},Te=function(e,t){let{dispatch:i}=e;const{endpoint:n,awardName:s}=t;return f.a.post(n,{name:s}).then((function(){i("toggleAward",t)}))},je=function(e,t){Object(S.y)(t[0])||Object(S.M)(t)},Ce=function(e,t){let{commit:i}=e;return f.a.get(t.truncated_diff_lines_path).then((function(e){let{data:n}=e;i("SET_DISCUSSION_DIFF_LINES",{discussionId:t.id,diffLines:n.truncated_diff_lines})}))},Ee=function(){I.a.$emit("mr.discussion.updated")},Ie=function(e,t){let{commit:i}=e;i("SET_NOTES_LOADING_STATE",t)},xe=function(e,t){let{commit:i,dispatch:n}=e,{path:s,filter:a,persistFilter:r}=t;i("CLEAR_DISCUSSIONS"),n("setLoadingState",!0),n("fetchDiscussions",{path:s,filter:a,persistFilter:r}).then((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0)})).catch((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0),Object(p.f)({message:Object(m.a)("Something went wrong while fetching comments. Please try again.")})}))},De=function(e,t){let{commit:i}=e;i("DISABLE_COMMENTS",t)},Pe=function(e){let{dispatch:t}=e;return d.default.nextTick((function(){return new E.a({dataType:"note",fieldName:"note",selector:".notes .is-editable",onSuccess:function(){return t("startTaskList")}})}))},Ne=function(e){let{commit:t}=e;return t("UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS")},Ae=function(e,t){let{commit:i,dispatch:n}=e,{discussionId:s,suggestionId:a,flashContainer:r,message:o}=t;return i("SET_RESOLVING_DISCUSSION",!0),n("stopPolling"),u.b.applySuggestion(a,o).then((function(){return n("resolveDiscussion",{discussionId:s}).catch((function(){}))})).catch((function(e){var t;const i=Object(m.a)("Something went wrong while applying the suggestion. Please try again."),n=(null===(t=e.response.data)||void 0===t?void 0:t.message)||i;Object(p.f)({message:n,parent:r})})).finally((function(){i("SET_RESOLVING_DISCUSSION",!1),n("restartPolling")}))},Re=function(e,t){let{commit:i,dispatch:n,state:s}=e,{message:a,flashContainer:r}=t;const o=s.batchSuggestionsInfo.map((function(e){let{suggestionId:t}=e;return t}));return i("SET_APPLYING_BATCH_STATE",!0),i("SET_RESOLVING_DISCUSSION",!0),n("stopPolling"),u.b.applySuggestionBatch(o,a).then((function(){return Promise.all(s.batchSuggestionsInfo.map((function(e){const{discussionId:t}=e;return n("resolveDiscussion",{discussionId:t}).catch((function(){}))})))})).then((function(){return i("CLEAR_SUGGESTION_BATCH")})).catch((function(e){var t;const i=Object(m.a)("Something went wrong while applying the batch of suggestions. Please try again."),n=(null===(t=e.response.data)||void 0===t?void 0:t.message)||i;Object(p.f)({message:n,parent:r})})).finally((function(){i("SET_APPLYING_BATCH_STATE",!1),i("SET_RESOLVING_DISCUSSION",!1),n("restartPolling")}))},Le=function(e,t){let{commit:i}=e,{suggestionId:n,noteId:s,discussionId:a}=t;return i("ADD_SUGGESTION_TO_BATCH",{suggestionId:n,noteId:s,discussionId:a})},$e=function(e,t){let{commit:i}=e;return i("REMOVE_SUGGESTION_FROM_BATCH",t)},qe=function(e,t){let{commit:i}=e;return i("CONVERT_TO_DISCUSSION",t)},Fe=function(e,t){let{commit:i}=e;return i("REMOVE_CONVERTED_DISCUSSION",t)},Be=function(e,t){let{commit:i}=e;return i("SET_CURRENT_DISCUSSION_ID",t)},Me=function(e,t){let{dispatch:i}=e,{endpoint:n,startingVersion:s,versionId:a}=t,r=n;return s&&(r=Object(j.z)({start_version_id:s},r)),i("requestDescriptionVersion"),f.a.get(r).then((function(e){i("receiveDescriptionVersion",{descriptionVersion:e.data,versionId:a})})).catch((function(e){i("receiveDescriptionVersionError",e),Object(p.f)({message:Object(m.a)("Something went wrong while fetching description changes. Please try again.")})}))},Ue=function(e){let{commit:t}=e;t("REQUEST_DESCRIPTION_VERSION")},Ve=function(e,t){let{commit:i}=e;i("RECEIVE_DESCRIPTION_VERSION",t)},He=function(e,t){let{commit:i}=e;i("RECEIVE_DESCRIPTION_VERSION_ERROR",t)},ze=function(e,t){let{dispatch:i}=e,{endpoint:n,startingVersion:s,versionId:a}=t,r=n;return s&&(r=Object(j.z)({start_version_id:s},r)),i("requestDeleteDescriptionVersion"),f.a.delete(r).then((function(){i("receiveDeleteDescriptionVersion",a)})).catch((function(e){throw i("receiveDeleteDescriptionVersionError",e),Object(p.f)({message:Object(m.a)("Something went wrong while deleting description changes. Please try again.")}),new Error}))},Ge=function(e){let{commit:t}=e;t("REQUEST_DELETE_DESCRIPTION_VERSION")},We=function(e,t){let{commit:i}=e;i("RECEIVE_DELETE_DESCRIPTION_VERSION",{[t]:Object(m.a)("Deleted")})},Ye=function(e,t){let{commit:i}=e;i("RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR",t)},Ke=function(e,t){let{commit:i}=e;i("UPDATE_ASSIGNEES",t)},Qe=function(e,t){let{commit:i}=e;i("UPDATE_DISCUSSION_POSITION",t)};var Ze=i("rl7y"),Je=i.n(Ze),Xe=i("LW8g"),et=i.n(Xe),tt=i("ZcYw");const it=function(e){let t=null,i=-1;return e.slice(0).reduce((function(e,n){const s=n.notes[0];if(function(e){return e.system&&e.note===a.DESCRIPTION_TYPE}(s))if(t){if(t){(function(e,t){const i=new Date(e.created_at),n=(new Date(t.created_at)-i)/1e3/60;return Math.ceil(n)})(t,s)>a.TIME_DIFFERENCE_VALUE||s.author.id!==t.author.id||t.description_version_deleted?(t=s,i=e.length):(s.start_description_version_id=t.description_version_id,e.splice(i,1),i=e.length)}}else t=s,i=e.length;return e.push(n),e}),[])},nt=function(e,t,i){let n=Je()(e.discussions);return e.isTimelineEnabled&&(n=n.reduce((function(e,t){const i=t.notes.map((function(e){return{...t,id:e.id,created_at:e.created_at,individual_note:!0,notes:[e]}}));return e.concat(i)}),[]).sort((function(e,t){return new Date(e.created_at)-new Date(t.created_at)}))),n=(n=it(n)).concat(function(e){return e.batchComments?e.batchComments.drafts.filter((function(e){return!e.file_path&&!e.discussion_id})).map((function(e){return{...e,individual_note:!0}})).sort((function(e,t){return e.id-t.id})):[]}(i)),e.discussionSortOrder===a.DESC&&(n=n.reverse()),n},st=function(e){return e.convertedDisscussionIds},at=function(e){return e.targetNoteHash},rt=function(e){return e.notesData},ot=function(e){return e.isNotesFetched},lt=function(e){return e.discussionSortOrder},ct=function(e){return e.persistSortOrder},dt=function(e){return e.isTimelineEnabled},ut=function(e){return e.isFetching},pt=function(e){return e.isLoading},ht=function(e){return function(t){return e.notesData[t]}},ft=function(e){return e.noteableData},mt=function(e){return function(t){return e.noteableData[t]}},gt=function(e){return e.noteableData.blocked_by_issues},bt=function(e){return Boolean(e.noteableData.current_user.can_create_note)},vt=function(e){return Object(S.x)()?tt.b.state:e.noteableData.state},yt=function(e){return e.userData||{}},_t=function(e){return function(t){return e.userData&&e.userData[t]}},wt=function(e){return e.descriptionVersions},St=function(e){return e.discussions.reduce((function(e,t){return t.notes.every((function(t){return Object.assign(e,{[t.id]:t})})),e}),{})},kt=function(e){const{ISSUE_NOTEABLE_TYPE:t,MERGE_REQUEST_NOTEABLE_TYPE:i,EPIC_NOTEABLE_TYPE:n}=a;return e.noteableData.noteableType===n?n:e.noteableData.merge_params?i:t},Ot=function(e){return e.slice(0).reverse()},Tt=function(e,t){return!e.system&&t.userData&&e.author&&e.author.id===t.userData.id},jt=function(e){return et()(Ot(e.discussions).map((function(e){return Ot(e.notes)}))).find((function(t){return Tt(t,e)}))},Ct=function(e){return function(t){return Ot(t.notes).find((function(t){return Tt(t,e)}))}},Et=function(e){return e.unresolvedDiscussionsCount},It=function(e){return e.resolvableDiscussionsCount},xt=function(e,t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"discussion";const i="discussion"!==e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate;return i.length>1}},Dt=function(e,t){return function(e){return void 0!==t.resolvedDiscussionsById[e]}},Pt=function(e){return e.discussions.filter((function(e){return!e.individual_note&&e.resolvable}))},Nt=function(e){const t={};return e.discussions.filter((function(e){return e.resolvable})).forEach((function(e){if(e.notes){e.notes.filter((function(e){return e.resolvable})).every((function(e){return e.resolved}))&&(t[e.id]=e)}})),t},At=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved})).sort((function(e,t){const i=new Date(e.notes[0].created_at),n=new Date(t.notes[0].created_at);return i<n?-1:i===n?0:1})).map((function(e){return e.id}))},Rt=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved&&e.active})).sort((function(e,t){if(!e.diff_file||!t.diff_file)return 0;const i=e.diff_file.file_path.localeCompare(t.diff_file.file_path),n=[e.position.new_line,e.position.old_line],s=[t.position.new_line,t.position.old_line];return i<0||0===i&&Math.max(n[0],n[1])<Math.max(s[0],s[1])?-1:1})).map((function(e){return e.id}))},Lt=function(e,t){const i=t.resolvedDiscussionsById;return Object.keys(i).length},$t=function(e){return e.discussions.reduce((function(e,t){return e+t.notes.filter((function(e){return!e.system&&!e.placeholder})).length}),0)},qt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate}},Ft=function(e,t){return function(e,i){const n=t.unresolvedDiscussionsIdsOrdered(i);return n[n.length-1]===e}},Bt=function(e,t){return function(e){let{discussionId:i,diffOrder:n,step:s}=e;const a=t.unresolvedDiscussionsIdsOrdered(n),r=t.unresolvedDiscussionsIdsOrdered(!1),o=a.length?a:r,l=o.indexOf(i)+s;return l<0&&s<0?o[o.length-1]:l===o.length&&s>0?o[0]:o[l]}},Mt=function(e,t){return function(e,i){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:i,step:1})}},Ut=function(e,t){return function(e,i){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:i,step:-1})}},Vt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff[0]:t.unresolvedDiscussionsIdsByDate[0]}},Ht=function(e){return function(t){return e.discussions.find((function(e){return e.id===t}))}},zt=function(e){return e.commentsDisabled},Gt=function(e,t){return Object.values(t.notesById).filter((function(e){var t;return null===(t=e.suggestions)||void 0===t?void 0:t.length})).length},Wt=function(e,t,i,n){return Boolean(n["batchComments/hasDrafts"])},Yt=function(e){return function(){return e.batchSuggestionsInfo.reduce((function(t,i){var n;const s=e.discussions.find((function(e){return e.id===i.discussionId}));return-1===t.indexOf(null==s?void 0:null===(n=s.diff_file)||void 0===n?void 0:n.file_path)&&t.push(s.diff_file.file_path),t}),[])}};var Kt=i("pY+i"),Qt=i.n(Kt),Zt={ADD_NEW_NOTE(e,t){const i=t.discussion?t.discussion.notes[0]:t,{discussion_id:n,type:s}=i,[r]=e.discussions.filter((function(e){return e.id===i.discussion_id})),o=s===a.DISCUSSION_NOTE||s===a.DIFF_NOTE;if(!r){var l,c;let s=t.discussion||i.base_discussion;s||(s={expanded:!0,id:n,individual_note:!o,reply_id:n},o&&Object(S.x)()&&(s.resolvable=i.resolvable,s.resolved=!1,s.active=!0,s.resolve_path=i.resolve_path,s.resolve_with_issue_path=i.resolve_with_issue_path,s.diff_discussion=!1)),null!==(l=window.gon)&&void 0!==l&&null!==(c=l.features)&&void 0!==c&&c.paginatedNotes&&i.base_discussion&&(s.diff_file&&(s.file_hash=s.diff_file.file_hash,s.truncated_diff_lines=L(s.truncated_diff_lines||[])),s.resolvable=i.resolvable,s.expanded=i.base_discussion.expanded,s.resolved=i.resolved),delete i.base_discussion,s.notes=[i],e.discussions.push(s)}},ADD_NEW_REPLY_TO_DISCUSSION(e,t){const i=A(e.discussions,t.discussion_id),n=i&&A(i.notes,t.id);i&&!n&&i.notes.push(t)},DELETE_NOTE(e,t){const i=A(e.discussions,t.discussion_id);if(i.individual_note)e.discussions.splice(e.discussions.indexOf(i),1);else{const n=A(i.notes,t.id);i.notes.splice(i.notes.indexOf(n),1),i.notes.length||e.discussions.splice(e.discussions.indexOf(i),1)}},EXPAND_DISCUSSION(e,t){let{discussionId:i}=t;const n=A(e.discussions,i);Object.assign(n,{expanded:!0})},COLLAPSE_DISCUSSION(e,t){let{discussionId:i}=t;const n=A(e.discussions,i);Object.assign(n,{expanded:!1})},REMOVE_PLACEHOLDER_NOTES(e){const{discussions:t}=e;for(let e=t.length-1;e>=0;e-=1){const i=t[e],n=i.notes;if(n.length&&!i.individual_note)for(let e=n.length-1;e>=0;e-=1)n[e].isPlaceholderNote&&n.splice(e,1);else i.isPlaceholderNote&&t.splice(e,1)}},SET_NOTES_DATA(e,t){Object.assign(e,{notesData:t})},SET_NOTEABLE_DATA(e,t){Object.assign(e,{noteableData:t})},SET_ISSUE_CONFIDENTIAL(e,t){e.noteableData.confidential=t},SET_ISSUABLE_LOCK(e,t){e.noteableData.discussion_locked=t},SET_USER_DATA(e,t){Object.assign(e,{userData:t})},CLEAR_DISCUSSIONS(e){e.discussions=[]},ADD_OR_UPDATE_DISCUSSIONS(e,t){t.forEach((function(t){const i={...t},n={};if(i.diff_file&&(n.file_hash=i.diff_file.file_hash,n.truncated_diff_lines=L(i.truncated_diff_lines||[])),i.individual_note&&i.notes.length>1)i.notes.forEach((function(t){const s={...i,...n,notes:[t]},a=e.discussions.find((function(e){return e.id===i.id&&e.notes[0].id===t.id}));a?e.discussions.splice(e.discussions.indexOf(a),1,s):e.discussions.push(s)}));else{const t=A(e.discussions,i.id);t?e.discussions.splice(e.discussions.indexOf(t),1,{...i,...n,expanded:t.expanded}):e.discussions.push({...i,...n})}}))},SET_LAST_FETCHED_AT(e,t){Object.assign(e,{lastFetchedAt:t})},SET_TARGET_NOTE_HASH(e,t){Object.assign(e,{targetNoteHash:t})},SHOW_PLACEHOLDER_NOTE(e,t){let i=e.discussions;const n=A(i,t.replyId);n&&(i=n.notes),i.push({individual_note:!0,isPlaceholderNote:!0,placeholderType:t.isSystemNote?a.SYSTEM_NOTE:a.NOTE,notes:[{body:t.noteBody}]})},TOGGLE_AWARD(e,t){const{awardName:i,note:n}=t,{id:s,name:a,username:r}=e.userData,o=n.award_emoji.filter((function(e){return`${e.name}`===`${t.awardName}`&&e.user.id===s}));o.length?n.award_emoji.splice(n.award_emoji.indexOf(o[0]),1):n.award_emoji.push({name:i,user:{id:s,name:a,username:r}})},TOGGLE_DISCUSSION(e,t){let{discussionId:i,forceExpanded:n=null}=t;const s=A(e.discussions,i);Object.assign(s,{expanded:null===n?!s.expanded:n})},SET_EXPAND_DISCUSSIONS(e,t){let{discussionIds:i,expanded:n}=t;null!=i&&i.length&&i.forEach((function(t){const i=A(e.discussions,t);Object.assign(i,{expanded:n})}))},SET_RESOLVING_DISCUSSION(e,t){e.isResolvingDiscussion=t},UPDATE_NOTE(e,t){const i=A(e.discussions,t.discussion_id);if(delete t.base_discussion,i.individual_note)t.type===a.DISCUSSION_NOTE&&(i.individual_note=!1),i.notes.splice(0,1,t);else{const e=A(i.notes,t.id);Qt()(e,t)||i.notes.splice(i.notes.indexOf(e),1,t)}},APPLY_SUGGESTION(e,t){let{noteId:i,discussionId:n,suggestionId:s}=t;const a=A(e.discussions,n),r=A(a.notes,i);r.suggestions=r.suggestions.map((function(e){return{...e,applied:e.applied||e.id===s,appliable:!1}}))},SET_APPLYING_BATCH_STATE(e,t){e.batchSuggestionsInfo.forEach((function(i){const{discussionId:n,noteId:s,suggestionId:a}=i,r=A(e.discussions,n),o=A(r.notes,s);o.suggestions=o.suggestions.map((function(e){return{...e,is_applying_batch:e.id===a&&t}}))}))},ADD_SUGGESTION_TO_BATCH(e,t){let{noteId:i,discussionId:n,suggestionId:s}=t;e.batchSuggestionsInfo.push({suggestionId:s,noteId:i,discussionId:n})},REMOVE_SUGGESTION_FROM_BATCH(e,t){const i=e.batchSuggestionsInfo.findIndex((function(e){let{suggestionId:i}=e;return i===t}));-1!==i&&e.batchSuggestionsInfo.splice(i,1)},CLEAR_SUGGESTION_BATCH(e){e.batchSuggestionsInfo.splice(0,e.batchSuggestionsInfo.length)},UPDATE_DISCUSSION(e,t){const i=t,n=e.discussions.find((function(e){return e.id===i.id}));i.expanded=!0,i.diff_file&&Object.assign(i,{file_hash:i.diff_file.file_hash}),Object.assign(n,{...i})},UPDATE_DISCUSSION_POSITION(e,t){let{discussionId:i,position:n}=t;const s=e.discussions.find((function(e){return e.id===i}));s&&Object.assign(s.position,{...n})},CLOSE_ISSUE(e){Object.assign(e.noteableData,{state:a.CLOSED})},REOPEN_ISSUE(e){Object.assign(e.noteableData,{state:a.REOPENED})},TOGGLE_STATE_BUTTON_LOADING(e,t){Object.assign(e,{isToggleStateButtonLoading:t})},SET_NOTES_FETCHED_STATE(e,t){Object.assign(e,{isNotesFetched:t})},SET_NOTES_LOADING_STATE(e,t){e.isLoading=t},SET_NOTES_FETCHING_STATE(e,t){e.isFetching=t},SET_DISCUSSION_DIFF_LINES(e,t){let{discussionId:i,diffLines:n}=t;A(e.discussions,i).truncated_diff_lines=L(n)},SET_DISCUSSIONS_SORT(e,t){let{direction:i,persist:n}=t;e.discussionSortOrder=i,e.persistSortOrder=n},SET_TIMELINE_VIEW(e,t){e.isTimelineEnabled=t},SET_SELECTED_COMMENT_POSITION(e,t){e.selectedCommentPosition=t},SET_SELECTED_COMMENT_POSITION_HOVER(e,t){e.selectedCommentPositionHover=t},DISABLE_COMMENTS(e,t){e.commentsDisabled=t},UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS(e){e.resolvableDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable})).length,e.unresolvedDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable&&e.notes.some((function(e){return e.resolvable&&!e.resolved}))})).length},CONVERT_TO_DISCUSSION(e,t){const i=[...e.convertedDisscussionIds,t];Object.assign(e,{convertedDisscussionIds:i})},REMOVE_CONVERTED_DISCUSSION(e,t){const i=[...e.convertedDisscussionIds];i.splice(i.indexOf(t),1),Object.assign(e,{convertedDisscussionIds:i})},SET_CURRENT_DISCUSSION_ID(e,t){e.currentDiscussionId=t},REQUEST_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DESCRIPTION_VERSION(e,t){let{descriptionVersion:i,versionId:n}=t;const s={...e.descriptionVersions,[n]:i};Object.assign(e,{descriptionVersions:s,isLoadingDescriptionVersion:!1})},RECEIVE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},REQUEST_DELETE_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DELETE_DESCRIPTION_VERSION(e,t){e.isLoadingDescriptionVersion=!1,Object.assign(e.descriptionVersions,t)},RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},UPDATE_ASSIGNEES(e,t){e.noteableData.assignees=t},SET_FETCHING_DISCUSSIONS(e,t){e.currentlyFetchingDiscussions=t}};t.a=function(){return{state:{discussions:[],discussionSortOrder:a.ASC,persistSortOrder:!0,convertedDisscussionIds:[],targetNoteHash:null,lastFetchedAt:null,currentDiscussionId:null,batchSuggestionsInfo:[],currentlyFetchingDiscussions:!1,selectedCommentPosition:null,selectedCommentPositionHover:null,isToggleStateButtonLoading:!1,isNotesFetched:!1,isLoading:!0,isLoadingDescriptionVersion:!1,notesData:{markdownDocsPath:""},userData:{},noteableData:{discussion_locked:!1,confidential:!1,current_user:{},preview_note_path:"path/to/preview"},isResolvingDiscussion:!1,commentsDisabled:!1,resolvableDiscussionsCount:0,unresolvedDiscussionsCount:0,descriptionVersions:{},isTimelineEnabled:!1,isFetching:!1},actions:n,getters:s,mutations:Zt}}},aeXO:function(e,t,i){"use strict";var n=i("ly/8"),s=i("H8gz"),a=i("zLBL"),r=i("t9l/"),o=i("9l04"),l={directives:{GlTooltip:n.a},components:{userAvatarImage:o.a,GlIcon:s.a,GlLoadingIcon:a.a},props:{loading:{type:Boolean,required:!1,default:!1},participants:{type:Array,required:!1,default:function(){return[]}},numberOfLessParticipants:{type:Number,required:!1,default:7},showParticipantLabel:{type:Boolean,required:!1,default:!0},lazy:{type:Boolean,required:!1,default:!0}},data:()=>({isShowingMoreParticipants:!1}),computed:{lessParticipants(){return this.participants.slice(0,this.numberOfLessParticipants)},visibleParticipants(){return this.isShowingMoreParticipants?this.participants:this.lessParticipants},hasMoreParticipants(){return this.participants.length>this.numberOfLessParticipants},toggleLabel(){let e="";return e=this.isShowingMoreParticipants?Object(r.a)("- show less"):Object(r.h)(Object(r.a)("+ %{moreCount} more"),{moreCount:this.participants.length-this.numberOfLessParticipants})},participantLabel(){return Object(r.h)(Object(r.f)("%{count} participant","%{count} participants",this.participants.length),{count:this.loading?"":this.participantCount})},participantCount(){return this.participants.length}},methods:{toggleMoreParticipants(){this.isShowingMoreParticipants=!this.isShowingMoreParticipants},onClickCollapsedIcon(){this.$emit("toggleSidebar")}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showParticipantLabel?i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.participantLabel},on:{click:e.onClickCollapsedIcon}},[i("gl-icon",{attrs:{name:"users"}}),e._v(" "),e.loading?i("gl-loading-icon",{attrs:{size:"sm"}}):i("span",{attrs:{"data-testid":"collapsed-count"}},[e._v(" "+e._s(e.participantCount)+" ")])],1):e._e(),e._v(" "),e.showParticipantLabel?i("div",{staticClass:"title hide-collapsed gl-mb-2 gl-line-height-20"},[e.loading?i("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e._e(),e._v("\n    "+e._s(e.participantLabel)+"\n  ")],1):e._e(),e._v(" "),i("div",{staticClass:"hide-collapsed gl-display-flex gl-flex-wrap"},e._l(e.visibleParticipants,(function(t){return i("div",{key:t.id,staticClass:"participants-author gl-display-inline-block gl-pr-3 gl-pb-3"},[i("a",{staticClass:"author-link",attrs:{href:t.web_url||t.webUrl}},[i("user-avatar-image",{attrs:{lazy:e.lazy,"img-src":t.avatar_url||t.avatarUrl,size:24,"tooltip-text":t.name,"img-alt":t.name,"css-classes":"avatar-inline","tooltip-placement":"bottom"}})],1)])})),0),e._v(" "),e.hasMoreParticipants?i("div",{staticClass:"participants-more hide-collapsed"},[i("button",{staticClass:"btn-transparent btn-link",attrs:{type:"button"},on:{click:e.toggleMoreParticipants}},[e._v("\n      "+e._s(e.toggleLabel)+"\n    ")])]):e._e()])}),[],!1,null,null,null);t.a=d.exports},ayGe:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"projectUsersSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"users"},name:{kind:"Name",value:"projectMembers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"relations"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"DIRECT"},{kind:"EnumValue",value:"INHERITED"},{kind:"EnumValue",value:"INVITED_GROUPS"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:441}};n.loc.source={body:'#import "../fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery projectUsersSearch($search: String!, $fullPath: ID!) {\n  workspace: project(fullPath: $fullPath) {\n    id\n    users: projectMembers(search: $search, relations: [DIRECT, INHERITED, INVITED_GROUPS]) {\n      nodes {\n        id\n        user {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("yXJ/").definitions)),n.definitions=n.definitions.concat(a(i("ND1Y").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.projectUsersSearch=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"projectUsersSearch")},bS9d:function(e,t,i){"use strict";var n=i("q+nE"),s=i("OkMp"),a=i("0X+3"),r=i("OqKX"),o=i("CkNe"),l=i("yYHy"),c=i("toOR"),d=i("RewC"),u={components:{GlDropdown:s.a,GlDropdownItem:a.a,GlDropdownDivider:r.a},props:{filters:{type:Array,required:!0},selectedValue:{type:Number,default:c.DISCUSSION_FILTERS_DEFAULT_VALUE,required:!1}},data(){return{currentValue:Object(l.f)(c.NOTE_UNDERSCORE)?c.DISCUSSION_FILTERS_DEFAULT_VALUE:this.selectedValue,defaultValue:c.DISCUSSION_FILTERS_DEFAULT_VALUE,displayFilters:!0}},computed:{...Object(o.d)(["getNotesDataByProp","timelineEnabled","isLoading"]),currentFilter(){var e=this;return this.currentValue?this.filters.find((function(t){return t.value===e.currentValue})):this.filters[0]}},created(){if(window.mrTabs){const{eventHub:e,currentTab:t}=window.mrTabs;e.$on("MergeRequestTabChange",this.toggleFilters),this.toggleFilters(t)}d.a.$on("dropdownSelect",this.selectFilter),window.addEventListener("hashchange",this.handleLocationHash)},mounted(){this.toggleCommentsForm()},destroyed(){d.a.$off("dropdownSelect",this.selectFilter),window.removeEventListener("hashchange",this.handleLocationHash)},methods:{...Object(o.c)(["filterDiscussion","setCommentsDisabled","setTargetNoteHash","setTimelineView"]),selectFilter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=parseInt(e,10);i!==this.currentValue&&(this.timelineEnabled&&i!==c.COMMENTS_ONLY_FILTER_VALUE&&this.setTimelineView(!1),this.currentValue=i,this.filterDiscussion({path:this.getNotesDataByProp("discussionsPath"),filter:i,persistFilter:t}),this.toggleCommentsForm())},toggleCommentsForm(){this.setCommentsDisabled(this.currentValue===c.HISTORY_ONLY_FILTER_VALUE)},toggleFilters(e){this.displayFilters=e===c.DISCUSSION_TAB_LABEL},handleLocationHash(){const e=Object(l.k)();/^note_/.test(e)&&this.currentValue!==c.DISCUSSION_FILTERS_DEFAULT_VALUE&&(this.selectFilter(this.defaultValue,!1),this.setTargetNoteHash(e))},filterType:e=>0===e?c.DISCUSSION_FILTER_TYPES.ALL:1===e?c.DISCUSSION_FILTER_TYPES.COMMENTS:c.DISCUSSION_FILTER_TYPES.HISTORY}},p=i("bPvS"),h=Object(p.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.displayFilters?i("gl-dropdown",{staticClass:"gl-mr-3 full-width-mobile discussion-filter-container js-discussion-filter-container",attrs:{id:"discussion-filter-dropdown","data-qa-selector":"discussion_filter_dropdown",text:e.currentFilter.title,disabled:e.isLoading}},e._l(e.filters,(function(t){return i("div",{key:t.value,staticClass:"dropdown-item-wrapper"},[i("gl-dropdown-item",{class:{"is-active":t.value===e.currentValue},attrs:{"is-check-item":!0,"is-checked":t.value===e.currentValue,"data-filter-type":e.filterType(t.value),"data-qa-selector":"filter_menu_item"},on:{click:function(i){return i.preventDefault(),e.selectFilter(t.value)}}},[e._v("\n      "+e._s(t.title)+"\n    ")]),e._v(" "),t.value===e.defaultValue?i("gl-dropdown-divider"):e._e()],1)})),0):e._e()}),[],!1,null,null,null).exports;t.a=function(e){const t=document.getElementById("js-vue-discussion-filter");if(t){const{defaultFilter:i,notesFilters:s}=t.dataset,a=s?JSON.parse(s):{},r={filters:Object.keys(a).map((function(e){return{title:e,value:a[e]}}))};return i&&(r.selectedValue=parseInt(i,10)),new n.default({el:t,name:"DiscussionFilterRoot",components:{DiscussionFilter:h},store:e,render:e=>e("discussion-filter",{props:r})})}return null}},bTeh:function(e,t,i){(e.exports=i("ZSrL")(!1)).push([e.i,"\n.vue-recycle-scroller {\n  position: relative;\n}\n.vue-recycle-scroller.direction-vertical:not(.page-mode) {\n  overflow-y: auto;\n}\n.vue-recycle-scroller.direction-horizontal:not(.page-mode) {\n  overflow-x: auto;\n}\n.vue-recycle-scroller.direction-horizontal {\n  display: flex;\n}\n.vue-recycle-scroller__slot {\n  flex: auto 0 0;\n}\n.vue-recycle-scroller__item-wrapper {\n  flex: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n.vue-recycle-scroller.ready .vue-recycle-scroller__item-view {\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform;\n}\n.vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper {\n  width: 100%;\n}\n.vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper {\n  height: 100%;\n}\n.vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view {\n  width: 100%;\n}\n.vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view {\n  height: 100%;\n}\n",""])},"c/I3":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("6oy4"),s=i.n(n),a=i("rl6E");class r{constructor(){let{dropdown:e,data:t,pattern:i,wrapper:n,editor:a,$input:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pattern=i,this.editor=a,this.dropdown=e,this.$dropdownContainer=n,this.$filenameInput=r||s()("#file_name"),this.$dropdownIcon=s()(".dropdown-menu-toggle-icon",e),this.$loadingIcon=s()('<div class="gl-spinner gl-spinner-orange gl-spinner-sm gl-absolute gl-top-3 gl-right-3 gl-display-none"></div>').insertAfter(this.$dropdownIcon),this.initDropdown(e,t),this.listenForFilenameInput(),this.renderMatchedDropdown(),this.initAutosizeUpdateEvent()}initDropdown(e,t){var i=this;return Object(a.a)(s()(e),{data:t,filterable:!0,selectable:!0,toggleLabel:function(e){return e.name},search:{fields:["name"]},clicked:function(e){return i.onDropdownClicked(e)},text:function(e){return e.name}})}onDropdownClicked(e){this.fetchFileTemplate(e)}initAutosizeUpdateEvent(){this.autosizeUpdateEvent=document.createEvent("Event"),this.autosizeUpdateEvent.initEvent("autosize:update",!0,!1)}listenForFilenameInput(){var e=this;return this.$filenameInput.on("keyup blur",(function(t){return e.renderMatchedDropdown(t)}))}renderMatchedDropdown(){if(!this.$filenameInput.length)return null;return this.pattern.test(this.$filenameInput.val().trim())?this.$dropdownContainer.removeClass("hidden"):this.$dropdownContainer.addClass("hidden")}fetchFileTemplate(e){const{e:t}=e,i=e.selectedObj;return t.preventDefault(),this.requestFile(i)}requestFile(){}setEditorContent(e){let{skipFocus:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;const i=e.content;this.editor.setValue(i,1),t||this.editor.focus(),this.editor instanceof s.a&&(this.editor.get(0).dispatchEvent(this.autosizeUpdateEvent),this.editor.trigger("input"))}getEditorContent(){return this.editor.getValue()}startLoadingSpinner(){this.$loadingIcon.removeClass("gl-display-none"),this.$dropdownIcon.addClass("gl-display-none")}stopLoadingSpinner(){this.$loadingIcon.addClass("gl-display-none"),this.$dropdownIcon.removeClass("gl-display-none")}}var o=i("t9l/"),l=i("htOw");class c extends r{constructor(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];super(...i),e=this,this.projectId=this.dropdown.data("projectId"),this.issuableType=this.$dropdownContainer.data("issuableType"),this.titleInput=s()(`#${this.issuableType}_title`),this.templateWarningEl=s()(".js-issuable-template-warning"),this.warnTemplateOverride=i[0].warnTemplateOverride;const a={name:this.dropdown.data("selected")};a.name&&this.requestFile(a),s()(".reset-template",this.dropdown.parent()).on("click",(function(){e.setInputValueToTemplateContent()})),s()(".no-template",this.dropdown.parent()).on("click",(function(){e.reset()})),this.templateWarningEl.find(".js-close-btn").on("click",(function(){void 0!==e.previousSelectedIndex?e.dropdown.data("deprecatedJQueryDropdown").selectRowAtIndex(e.previousSelectedIndex):e.reset(),e.templateWarningEl.addClass("hidden")})),this.templateWarningEl.find(".js-override-template").on("click",(function(){e.requestFile(e.overridingTemplate),e.setSelectedIndex(),e.templateWarningEl.addClass("hidden"),e.overridingTemplate=null}))}reset(){this.currentTemplate&&(this.currentTemplate.content=""),this.setInputValueToTemplateContent(),s()(".dropdown-toggle-text",this.dropdown).text(Object(o.a)("Choose a template")),this.previousSelectedIndex=null}setSelectedIndex(){this.previousSelectedIndex=this.dropdown.data("deprecatedJQueryDropdown").selectedIndex}onDropdownClicked(e){const t=this.getEditorContent(),i=""===t||this.currentTemplate&&t===this.currentTemplate.content;if(!this.warnTemplateOverride||i)return super.onDropdownClicked(e),void this.setSelectedIndex();this.overridingTemplate=e.selectedObj,this.templateWarningEl.removeClass("hidden")}requestFile(e){var t=this;this.startLoadingSpinner(),l.b.projectTemplate(this.projectId,this.issuableType,e.name,{source_template_project_id:e.project_id},(function(e){t.currentTemplate=e,t.stopLoadingSpinner(),t.setInputValueToTemplateContent()}))}setInputValueToTemplateContent(){""===this.titleInput.val()?(this.setEditorContent(this.currentTemplate,{skipFocus:!0}),this.titleInput.focus()):this.setEditorContent(this.currentTemplate,{skipFocus:!1})}}class d{constructor(){var e=this;let{$dropdowns:t,editor:i,warnTemplateOverride:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$dropdowns=t||s()(".js-issuable-selector"),this.editor=i||this.initEditor(),this.$dropdowns.each((function(t,i){const a=s()(i);new c({pattern:/(\.md)/,data:a.data("data"),wrapper:a.closest(".js-issuable-selector-wrap"),dropdown:a,editor:e.editor,warnTemplateOverride:n})}))}initEditor(){const e=s()(".markdown-area");return e.setValue=e.val,e.getValue=e.val,e}}},c1kE:function(e,t,i){"use strict";i.d(t,"a",(function(){return gt})),i.d(t,"b",(function(){return bt})),i.d(t,"c",(function(){return vt}));var n={};i.r(n),i.d(n,"setInitialState",(function(){return me})),i.d(n,"requestData",(function(){return ge})),i.d(n,"receiveDataSuccess",(function(){return be})),i.d(n,"receiveDataError",(function(){return ve})),i.d(n,"fetchMergeRequests",(function(){return ye}));var s=i("6oy4"),a=i.n(s),r=i("j26N"),o=i("SLa1"),l=i("EdB/"),c=i("HWy0"),d=i("uY7R"),u=i("B7Ow"),p=i("c/I3"),h=i("mpzd"),f=(i("AfGZ"),i("yYHy")),m=i("teVv"),g=i("8KL1"),b=i("mphk"),v=i("vRHk"),y=i("t9l/"),_=i("4pZC"),w=i.n(_),S=i("q+nE"),k=i("oj/M"),O=i("H8gz"),T=i("u1ru"),j=i("nPFI"),C=i("htOw"),E=S.default.observable({selectedProject:{}}),I=i("OkMp"),x=i("0X+3"),D={components:{GlDropdown:I.a,GlDropdownItem:x.a},props:{projects:{type:Array,required:!0},selectedProject:{type:Object,required:!1,default:function(){return{}}}},computed:{dropdownText(){return Object.keys(this.selectedProject).length?this.selectedProject.name:Object(y.a)("Select private project")}},methods:{selectProject(e){this.$emit("click",e)}}},P=i("bPvS"),N=Object(P.a)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{attrs:{block:"",icon:"lock",text:e.dropdownText}},e._l(e.projects,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"is-check-item":!0,"is-checked":t.id===e.selectedProject.id},on:{click:function(i){return e.selectProject(t)}}},[e._v("\n    "+e._s(t.name)+"\n  ")])})),1)}),[],!1,null,null,null).exports,A={components:{GlIcon:O.a,GlLink:T.a,GlSprintf:j.a,Dropdown:N},props:{namespacePath:{type:String,required:!0},projectPath:{type:String,required:!0},newForkPath:{type:String,required:!0},helpPagePath:{type:String,required:!0}},data:()=>({projects:[]}),computed:{selectedProject:()=>E.selectedProject},mounted(){this.fetchProjects(),this.createBtn=document.querySelector(".js-create-target"),this.warningText=document.querySelector(".js-exposed-info-warning")},methods:{selectProject(e){e?(Object.assign(E,{selectedProject:e}),e.namespaceFullPath!==this.namespacePath&&this.showWarning()):this.createBtn&&this.createBtn.setAttribute("disabled","disabled")},normalizeProjectData:e=>e.map((function(e){return{id:e.id,name:e.name_with_namespace,pathWithNamespace:e.path_with_namespace,namespaceFullpath:e.namespace.full_path}})),fetchProjects(){var e=this;C.b.projectForks(this.projectPath,{with_merge_requests_enabled:!0,min_access_level:30,visibility:"private"}).then((function(t){let{data:i}=t;e.projects=e.normalizeProjectData(i),e.selectProject(e.projects[0])})).catch((function(e){throw Object(m.f)({message:Object(y.a)("Error fetching forked projects. Please try again.")}),e}))},showWarning(){this.warningText&&this.warningText.classList.remove("hidden"),this.createBtn&&(this.createBtn.classList.add("btn-warning"),this.createBtn.classList.remove("btn-success"))}},i18n:{project:Object(y.a)("Project"),privateForkSelected:Object(y.a)("To protect this issue's confidentiality, a private fork of this project was selected."),noForks:Object(y.a)("No forks are available to you."),forkTheProject:Object(y.a)("To protect this issue's confidentiality, %{linkStart}fork this project%{linkEnd} and set the fork's visibility to private."),readMore:Object(y.a)("Read more")}},R=Object(P.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"confidential-merge-request-fork-group form-group"},[i("label",[e._v(e._s(e.$options.i18n.project))]),e._v(" "),i("div",[e.projects.length?i("dropdown",{attrs:{projects:e.projects,"selected-project":e.selectedProject},on:{click:e.selectProject}}):e._e(),e._v(" "),i("p",{staticClass:"text-muted mt-1 mb-0"},[e.projects.length?[e._v("\n        "+e._s(e.$options.i18n.privateForkSelected)+"\n      ")]:[e._v("\n        "+e._s(e.$options.i18n.noForks)),i("br"),e._v(" "),i("gl-sprintf",{attrs:{message:e.$options.i18n.forkTheProject},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("a",{staticClass:"help-link",attrs:{href:e.newForkPath,target:"_blank"}},[e._v(e._s(n))])]}}])})],e._v(" "),i("gl-link",{staticClass:"w-auto p-0 d-inline-block text-primary bg-transparent",attrs:{href:e.helpPagePath,target:"_blank"}},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.$options.i18n.readMore))]),e._v(" "),i("gl-icon",{attrs:{name:"question-o"}})],1)],2)],1)])}),[],!1,null,null,null).exports;function L(){return Object(k.E)(document.querySelector(".js-create-mr").dataset.isConfidential)}function $(){return L()&&Object.keys(E.selectedProject).length>0}var q=i("CoxT");const F={...{init(e){this.hook=e,this.destroyed=!1,this.config=e.config.InputSetter||(this.hook.config.InputSetter={}),this.eventWrapper={},this.addEvents()},addEvents(){this.eventWrapper.setInputs=this.setInputs.bind(this),this.hook.list.list.addEventListener("click.dl",this.eventWrapper.setInputs)},removeEvents(){this.hook.list.list.removeEventListener("click.dl",this.eventWrapper.setInputs)},setInputs(e){var t=this;if(this.destroyed)return;const i=e.detail.selected;Array.isArray(this.config)||(this.config=[this.config]),this.config.forEach((function(e){return t.setInput(e,i)}))},setInput(e,t){const i=e.input||this.hook.trigger,n=t.getAttribute(e.valueAttribute),s=e.inputAttribute;return i.hasAttribute(s)?i.setAttribute(s,n):"INPUT"===i.tagName?i.value=n:i.textContent=n},destroy(){this.destroyed=!0,this.removeEvents()}}},B="create-mr",M="create-branch";function U(e,t){return $()?t.replace(e,E.selectedProject.pathWithNamespace):t}class V{constructor(e){var t=this;this.wrapperEl=e,this.availableButton=this.wrapperEl.querySelector(".available"),this.branchInput=this.wrapperEl.querySelector(".js-branch-name"),this.branchMessage=this.wrapperEl.querySelector(".js-branch-message"),this.createMergeRequestButton=this.wrapperEl.querySelector(".js-create-merge-request"),this.createMergeRequestLoading=this.createMergeRequestButton.querySelector(".js-spinner"),this.createTargetButton=this.wrapperEl.querySelector(".js-create-target"),this.dropdownList=this.wrapperEl.querySelector(".dropdown-menu"),this.dropdownToggle=this.wrapperEl.querySelector(".js-dropdown-toggle"),this.refInput=this.wrapperEl.querySelector(".js-ref"),this.refMessage=this.wrapperEl.querySelector(".js-ref-message"),this.unavailableButton=this.wrapperEl.querySelector(".unavailable"),this.unavailableButtonSpinner=this.unavailableButton.querySelector(".gl-spinner"),this.unavailableButtonText=this.unavailableButton.querySelector(".text"),this.branchCreated=!1,this.branchIsValid=!0,this.canCreatePath=this.wrapperEl.dataset.canCreatePath,this.createBranchPath=this.wrapperEl.dataset.createBranchPath,this.createMrPath=this.wrapperEl.dataset.createMrPath,this.droplabInitialized=!1,this.isCreatingBranch=!1,this.isCreatingMergeRequest=!1,this.isGettingRef=!1,this.refCancelToken=null,this.mergeRequestCreated=!1,this.refDebounce=w()((function(e,i){return t.getRef(e,i)}),500),this.refIsValid=!0,this.refsPath=this.wrapperEl.dataset.refsPath,this.suggestedRef=this.refInput.value,this.projectPath=this.wrapperEl.dataset.projectPath,this.projectId=this.wrapperEl.dataset.projectId,this.regexps={branch:{createBranchPath:new RegExp("(branch_name=)(.+?)(?=&issue)"),createMrPath:new RegExp("(source_branch%5D=)(.+?)(?=&)")},ref:{createBranchPath:new RegExp("(ref=)(.+?)$"),createMrPath:new RegExp("(target_branch%5D=)(.+?)$")}},this.init(),L()&&(this.createMergeRequestButton.setAttribute("data-dropdown-trigger","#create-merge-request-dropdown"),function(){const e=document.getElementById("js-forked-project");new S.default({el:e,render:t=>t(R,{props:{namespacePath:e.dataset.namespacePath,projectPath:e.dataset.projectPath,newForkPath:e.dataset.newForkPath,helpPagePath:e.dataset.helpPagePath}})})}())}available(){this.availableButton.classList.remove("hidden"),this.unavailableButton.classList.add("hidden")}bindEvents(){this.createMergeRequestButton.addEventListener("click",this.onClickCreateMergeRequestButton.bind(this)),this.createTargetButton.addEventListener("click",this.onClickCreateMergeRequestButton.bind(this)),this.branchInput.addEventListener("input",this.onChangeInput.bind(this)),this.branchInput.addEventListener("keyup",this.onChangeInput.bind(this)),this.dropdownToggle.addEventListener("click",this.onClickSetFocusOnBranchNameInput.bind(this)),this.refInput.addEventListener("input",this.onChangeInput.bind(this)),this.refInput.addEventListener("keyup",this.onChangeInput.bind(this)),this.refInput.addEventListener("click",this.onChangeInput.bind(this)),this.refInput.addEventListener("blur",this.onChangeInput.bind(this)),this.refInput.addEventListener("keydown",V.processTab.bind(this))}checkAbilityToCreateBranch(){var e=this;this.setUnavailableButtonState(),b.a.get(this.canCreatePath).then((function(t){let{data:i}=t;e.setUnavailableButtonState(!1),i.can_create_branch?(e.available(),e.enable(),e.updateBranchName(i.suggested_branch_name),e.droplabInitialized||(e.droplabInitialized=!0,e.initDroplab(),e.bindEvents())):e.hide()})).catch((function(){e.unavailable(),e.disable(),Object(m.f)({message:Object(y.a)("Failed to check related branches.")})}))}createBranch(){var e=this;return this.isCreatingBranch=!0,b.a.post(U(this.projectPath,this.createBranchPath),{confidential_issue_project_id:$()?this.projectId:null}).then((function(t){let{data:i}=t;e.branchCreated=!0,window.location.href=i.url})).catch((function(){return Object(m.f)({message:Object(y.a)("Failed to create a branch for this issue. Please try again.")})}))}createMergeRequest(){var e=this;return new Promise((function(){return e.isCreatingMergeRequest=!0,e.createBranch().then((function(){window.location.href=$()?e.createMrPath.replace(e.projectPath,E.selectedProject.pathWithNamespace):e.createMrPath}))}))}disable(){this.disableCreateAction()}setLoading(e){this.createMergeRequestLoading.classList.toggle("gl-display-none",!e)}disableCreateAction(){this.createMergeRequestButton.classList.add("disabled"),this.createMergeRequestButton.setAttribute("disabled","disabled"),this.createTargetButton.classList.add("disabled"),this.createTargetButton.setAttribute("disabled","disabled")}enable(){L()&&!$()||(this.createMergeRequestButton.classList.remove("disabled"),this.createMergeRequestButton.removeAttribute("disabled"),this.createTargetButton.classList.remove("disabled"),this.createTargetButton.removeAttribute("disabled"))}static findByValue(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!e||!e.length)&&(e.indexOf(t)>-1?t:!!i&&e.find((function(e){return new RegExp(`^${t}`).test(e)})))}getDroplabConfig(){return{addActiveClassToDropdownButton:!0,InputSetter:[{input:this.createMergeRequestButton,valueAttribute:"data-value",inputAttribute:"data-action"},{input:this.createMergeRequestButton,valueAttribute:"data-text"},{input:this.createTargetButton,valueAttribute:"data-value",inputAttribute:"data-action"},{input:this.createTargetButton,valueAttribute:"data-text"}],hideOnClick:!1}}static getInputSelectedText(e){const t=e.selectionStart,i=e.selectionEnd;return e.value.substr(t,i-t)}getRef(e){var t=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return!!e&&(this.refCancelToken=b.a.CancelToken.source(),b.a.get(`${U(this.projectPath,this.refsPath)}${encodeURIComponent(e)}`,{cancelToken:this.refCancelToken.token}).then((function(n){let{data:s}=n;const a=s[Object.keys(s)[0]],r=s[Object.keys(s)[1]];let o;return"branch"===i?o=V.findByValue(a,e):(o=V.findByValue(a,e,!0)||V.findByValue(r,e,!0),t.suggestedRef=o),t.isGettingRef=!1,t.updateInputState(i,e,o)})).catch((function(e){return!b.a.isCancel(e)&&(t.unavailable(),t.disable(),Object(m.f)({message:Object(y.a)("Failed to get ref.")}),t.isGettingRef=!1,!1)})))}getTargetData(e){return{input:this[`${e}Input`],message:this[`${e}Message`]}}hide(){this.wrapperEl.classList.add("hidden")}init(){this.checkAbilityToCreateBranch()}initDroplab(){this.droplab=new q.a,this.droplab.init(this.dropdownToggle,this.dropdownList,[F],this.getDroplabConfig())}inputsAreValid(){return this.branchIsValid&&this.refIsValid}isBusy(){return this.isCreatingMergeRequest||this.mergeRequestCreated||this.isCreatingBranch||this.branchCreated||this.isGettingRef}onChangeInput(e){let t,i;if(this.disable(),null!==this.refCancelToken&&this.refCancelToken.cancel(),e.target===this.branchInput)t="branch",({value:i}=this.branchInput);else{if(e.target!==this.refInput)return!1;t="ref",i=e.target===document.activeElement?e.target.value.slice(0,e.target.selectionStart)+e.target.value.slice(e.target.selectionEnd):e.target.value}return!this.isGettingRef&&(13===e.keyCode&&this.inputsAreValid()?(e.preventDefault(),this.createMergeRequestButton.click()):i?(this.showCheckingMessage(t),this.refDebounce(i,t),!0):(this.createBranchPath=this.wrapperEl.dataset.createBranchPath,this.createMrPath=this.wrapperEl.dataset.createMrPath,"branch"===t?this.branchIsValid=!0:this.refIsValid=!0,this.enable(),this.showAvailableMessage(t),this.refDebounce(i,t),!0))}onClickCreateMergeRequestButton(e){var t=this;let i=null;e.preventDefault(),!L()||e.target.classList.contains("js-create-target")?this.isBusy()||(e.target.dataset.action===B?i=this.createMergeRequest():e.target.dataset.action===M&&(i=this.createBranch()),i.catch((function(){t.isCreatingMergeRequest=!1,t.isCreatingBranch=!1,t.enable(),t.setLoading(!1)})),this.setLoading(!0),this.disable()):this.droplab.hooks.forEach((function(e){return e.list.toggle()}))}onClickSetFocusOnBranchNameInput(){this.branchInput.focus()}static processTab(e){if(9!==e.keyCode||this.isGettingRef)return;if(!V.getInputSelectedText(this.refInput)||this.refInput.dataset.value===this.suggestedRef)return;e.preventDefault();const t=this.refInput.value.length;this.refInput.setSelectionRange(t,t)}removeMessage(e){const{input:t,message:i}=this.getTargetData(e);["gl-field-error-outline","gl-field-success-outline"].forEach((function(e){return t.classList.remove(e)})),["text-muted","text-danger","text-success"].forEach((function(e){return i.classList.remove(e)})),i.style.display="none"}setUnavailableButtonState(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.unavailableButtonSpinner.classList.remove("hide"),this.unavailableButtonText.textContent=Object(y.a)("Checking branch availability...")):(this.unavailableButtonSpinner.classList.add("hide"),this.unavailableButtonText.textContent=Object(y.a)("New branch unavailable"))}showAvailableMessage(e){const{input:t,message:i}=this.getTargetData(e),n="branch"===e?Object(y.a)("Branch name"):Object(y.a)("Source");this.removeMessage(e),t.classList.add("gl-field-success-outline"),i.classList.add("text-success"),i.textContent=Object(y.h)(Object(y.a)("%{text} is available"),{text:n}),i.style.display="inline-block"}showCheckingMessage(e){const{message:t}=this.getTargetData(e),i="branch"===e?Object(y.a)("branch name"):Object(y.a)("source");this.removeMessage(e),t.classList.add("text-muted"),t.textContent=Object(y.h)(Object(y.a)("Checking %{text} availability"),{text:i}),t.style.display="inline-block"}showNotAvailableMessage(e){const{input:t,message:i}=this.getTargetData(e),n="branch"===e?Object(y.a)("Branch is already taken"):Object(y.a)("Source is not available");this.removeMessage(e),t.classList.add("gl-field-error-outline"),i.classList.add("text-danger"),i.textContent=n,i.style.display="inline-block"}unavailable(){this.availableButton.classList.add("hidden"),this.unavailableButton.classList.remove("hidden")}updateBranchName(e){this.branchInput.value=e,this.updateCreatePaths("branch",e)}updateInputState(e,t,i){t===i?"branch"===e?(this.branchIsValid=!1,this.showNotAvailableMessage("branch")):(this.refIsValid=!0,this.refInput.dataset.value=t,this.showAvailableMessage("ref"),this.updateCreatePaths(e,t)):"branch"===e?(this.branchIsValid=!0,this.showAvailableMessage("branch"),this.updateCreatePaths(e,t)):(this.refIsValid=!1,this.refInput.dataset.value=t,this.disableCreateAction(),this.showNotAvailableMessage("ref"),i&&(this.refInput.value=i,this.refInput.setSelectionRange(t.length,i.length))),this.inputsAreValid()?this.enable():this.disableCreateAction()}updateCreatePaths(e,t){const i=`$1${encodeURIComponent(t)}`;this.createBranchPath=this.createBranchPath.replace(this.regexps[e].createBranchPath,i),this.createMrPath=this.createMrPath.replace(this.regexps[e].createMrPath,i),this.wrapperEl.dataset.createMrPath=this.createMrPath}}class H{constructor(){var e=this;a()(".js-alert-moved-from-service-desk-warning").length&&H.initIssueMovedFromServiceDeskDismissHandler(),document.querySelector("#related-branches")&&H.initRelatedBranches(),H.createMrDropdownWrap=document.querySelector(".create-mr-dropdown-wrap"),H.createMrDropdownWrap&&(this.createMergeRequestDropdown=new V(H.createMrDropdownWrap)),this.issuableVueAppChangeHandler=function(t){return e.updateTopState(t.detail.isClosed,t.detail.data)},document.addEventListener(g.a,this.issuableVueAppChangeHandler)}dispose(){document.removeEventListener(g.a,this.issuableVueAppChangeHandler)}updateTopState(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(y.a)("Unable to update this issue at this time.");if("id"in t){const t=a()("div.status-box-issue-closed"),i=a()("div.status-box-open"),n=a()(".issue_counter");t.toggleClass("hidden",!e),i.toggleClass("hidden",e),a()(document).trigger("issuable:change",e);let s=Number(n.first().text().trim().replace(/[^\d]/,""));s=e?s-1:s+1,n.text(Object(v.a)(s)),this.createMergeRequestDropdown&&this.createMergeRequestDropdown.checkAbilityToCreateBranch()}else Object(m.f)({message:i})}static initIssueMovedFromServiceDeskDismissHandler(){const e=a()(".js-alert-moved-from-service-desk-warning"),t=window.location.pathname.slice(1),i=Object(f.y)(t,"alert-issue-moved-from-service-desk-dismissed");localStorage.getItem(i)||e.show(),e.on("click",".js-close",(function(t){t.preventDefault(),t.stopImmediatePropagation(),e.remove(),localStorage.setItem(i,!0)}))}static initRelatedBranches(){const e=a()("#related-branches");b.a.get(e.data("url")).then((function(t){let{data:i}=t;"html"in i&&e.html(i.html)})).catch((function(){return Object(m.f)({message:Object(y.a)("Failed to load related branches")})}))}}var z=i("EfTh"),G=i("voi4"),W=i("ly/8"),Y=i("kTwG"),K=i.n(Y),Q=i("RlQ7"),Z=i.n(Q),J=i("5DNK"),X=i("LcVr"),ee=i("9l04"),te=i("BLrG"),ie={components:{GlTooltip:J.a,GlLink:T.a,GlIcon:O.a,UserAvatarImage:ee.a,TimeagoTooltip:X.a},directives:{GlTooltip:W.a},mixins:[te.a],props:{suggestion:{type:Object,required:!0}},computed:{counts(){return[{id:Z()(),icon:"thumb-up",tooltipTitle:Object(y.a)("Upvotes"),count:this.suggestion.upvotes},{id:Z()(),icon:"comment",tooltipTitle:Object(y.a)("Comments"),count:this.suggestion.userNotesCount}].filter((function(e){let{count:t}=e;return t}))},isClosed(){return"closed"===this.suggestion.state},stateIconClass(){return this.isClosed?"gl-text-blue-500":"gl-text-green-500"},stateIconName(){return this.isClosed?"issue-close":"issue-open-m"},stateTitle(){return this.isClosed?Object(y.a)("Closed"):Object(y.a)("Opened")},closedOrCreatedDate(){return this.suggestion.closedAt||this.suggestion.createdAt},hasUpdated(){return this.suggestion.updatedAt!==this.suggestion.createdAt}}},ne=Object(P.a)(ie,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"suggestion-item"},[i("div",{staticClass:"d-flex align-items-center"},[e.suggestion.confidential?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-cursor-help gl-mr-2 gl-text-orange-500",attrs:{title:e.__("Confidential"),name:"eye-slash"}}):e._e(),e._v(" "),i("gl-link",{staticClass:"suggestion bold str-truncated-100 gl-text-gray-900!",attrs:{href:e.suggestion.webUrl,target:"_blank"}},[e._v("\n      "+e._s(e.suggestion.title)+"\n    ")])],1),e._v(" "),i("div",{staticClass:"text-secondary suggestion-footer"},[i("gl-icon",{ref:"state",staticClass:"gl-cursor-help",class:e.stateIconClass,attrs:{name:e.stateIconName}}),e._v(" "),i("gl-tooltip",{attrs:{target:function(){return e.$refs.state},placement:"bottom"}},[i("span",{staticClass:"d-block"},[i("span",{staticClass:"bold"},[e._v(" "+e._s(e.stateTitle)+" ")]),e._v(" "+e._s(e.timeFormatted(e.closedOrCreatedDate))+"\n      ")]),e._v(" "),i("span",{staticClass:"text-tertiary"},[e._v(e._s(e.tooltipTitle(e.closedOrCreatedDate)))])]),e._v("\n    #"+e._s(e.suggestion.iid)+" \n    "),i("timeago-tooltip",{staticClass:"gl-cursor-help",attrs:{time:e.suggestion.createdAt,"tooltip-placement":"bottom"}}),e._v("\n    "+e._s(e.__("by"))+"\n    "),i("gl-link",{attrs:{href:e.suggestion.author.webUrl}},[i("user-avatar-image",{staticClass:"d-inline-block",attrs:{"img-src":e.suggestion.author.avatarUrl,size:16,"css-classes":"mr-0 float-none","tooltip-placement":"bottom"}},[i("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Author")))]),e._v(" "+e._s(e.suggestion.author.name)+"\n        "),i("span",{staticClass:"text-tertiary"},[e._v("@"+e._s(e.suggestion.author.username))])])],1),e._v(" "),e.hasUpdated?[e._v("\n       "+e._s(e.__("updated"))+"\n      "),i("timeago-tooltip",{staticClass:"gl-cursor-help",attrs:{time:e.suggestion.updatedAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),i("span",{staticClass:"suggestion-counts"},e._l(e.counts,(function(t){var n=t.count,s=t.icon,a=t.tooltipTitle,r=t.id;return i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],key:r,staticClass:"gl-cursor-help gl-ml-3 text-tertiary",attrs:{title:a}},[i("gl-icon",{attrs:{name:s}}),e._v(" "+e._s(n)+"\n      ")],1)})),0)],2)])}),[],!1,null,null,null).exports,se={components:{GlIcon:O.a,TitleSuggestionsItem:ne},directives:{GlTooltip:W.a},props:{projectPath:{type:String,required:!0},search:{type:String,required:!0}},apollo:{issues:{query:K.a,debounce:1e3,skip(){return this.isSearchEmpty},update:function(e){return e.project.issues.edges.map((function(e){let{node:t}=e;return t}))},variables(){return{fullPath:this.projectPath,search:this.search}}}},data:()=>({issues:[],loading:0}),computed:{isSearchEmpty(){return!this.search.length},showSuggestions(){return!this.isSearchEmpty&&this.issues.length&&!this.loading}},watch:{search(){this.isSearchEmpty&&(this.issues=[])}},helpText:Object(y.a)("These existing issues have a similar title. It might be better to comment there instead of creating another similar issue.")},ae=Object(P.a)(se,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuggestions,expression:"showSuggestions"}],staticClass:"form-group row"},[e._m(0),e._v(" "),i("div",{staticClass:"col-sm-10"},[i("ul",{staticClass:"list-unstyled m-0"},e._l(e.issues,(function(t,n){return i("li",{key:t.id,class:{"gl-mb-3":n!==e.issues.length-1}},[i("title-suggestions-item",{attrs:{suggestion:t}})],1)})),0)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-form-label col-sm-2 pt-0"},[this._v("\n    "+this._s(this.__("Similar issues"))+"\n    "),t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"text-secondary gl-cursor-help",attrs:{title:this.$options.helpText,"aria-label":this.$options.helpText,name:"question-o"}})],1)}],!1,null,null,null).exports,re=i("KFH7"),oe={i18n:{issueTypes:Object(y.a)("Issue types"),issue:Object(y.a)("Issue"),incident:Object(y.a)("Incident"),issueHelpText:Object(y.a)("For general work"),incidentHelpText:Object(y.a)("For investigating IT service disruptions or outages")},components:{GlIcon:O.a,GlPopover:re.a}},le=Object(P.a)(oe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{attrs:{id:"popovercontainer"}},[i("gl-icon",{staticClass:"gl-ml-5 gl-text-gray-500",attrs:{id:"issue-type-info",name:"question-o"}}),e._v(" "),i("gl-popover",{attrs:{target:"issue-type-info",container:"popovercontainer",title:e.$options.i18n.issueTypes,triggers:"focus hover"}},[i("ul",{staticClass:"gl-list-style-none gl-p-0 gl-m-0"},[i("li",{staticClass:"gl-mb-3"},[i("div",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.$options.i18n.issue))]),e._v(" "),i("span",[e._v(e._s(e.$options.i18n.issueHelpText))])]),e._v(" "),i("li",[i("div",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.$options.i18n.incident))]),e._v(" "),i("span",[e._v(e._s(e.$options.i18n.incidentHelpText))])])])])],1)}),[],!1,null,null,null).exports;var ce=i("zLBL"),de=i("CkNe"),ue=i("xV1n"),pe=i("zlOL"),he={name:"RelatedMergeRequests",components:{GlIcon:O.a,GlLink:T.a,GlLoadingIcon:ce.a,RelatedIssuableItem:ue.a},props:{endpoint:{type:String,required:!0},projectNamespace:{type:String,required:!0},projectPath:{type:String,required:!0}},computed:{...Object(de.f)(["isFetchingMergeRequests","mergeRequests","totalCount"]),closingMergeRequestsText(){if(!this.hasClosingMergeRequest)return"";const e=Object(y.f)("When this merge request is accepted","When these merge requests are accepted",this.totalCount);return Object(y.h)(Object(y.a)("%{mrText}, this issue will be closed automatically."),{mrText:e})}},mounted(){this.setInitialState({apiEndpoint:this.endpoint}),this.fetchMergeRequests()},created(){this.hasClosingMergeRequest=Object(pe.a)().hasClosingMergeRequest},methods:{...Object(de.c)(["setInitialState","fetchMergeRequests"]),getAssignees:e=>e.assignees?e.assignees:e.assignee?[e.assignee]:[]}},fe=Object(P.a)(he,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isFetchingMergeRequests||!e.isFetchingMergeRequests&&e.totalCount?i("div",[i("div",{staticClass:"card card-slim gl-mt-5"},[i("div",{staticClass:"card-header"},[i("div",{staticClass:"card-title gl-relative gl-display-flex gl-align-items-center gl-line-height-20 gl-font-weight-bold gl-m-0"},[i("gl-link",{staticClass:"anchor gl-absolute gl-text-decoration-none",attrs:{href:"#related-merge-requests","aria-labelledby":"related-merge-requests"}}),e._v(" "),i("h3",{staticClass:"gl-font-base gl-m-0",attrs:{id:"related-merge-requests"}},[e._v("\n          "+e._s(e.__("Related merge requests"))+"\n        ")]),e._v(" "),e.totalCount?[i("gl-icon",{staticClass:"gl-ml-5 gl-mr-2 gl-text-gray-500",attrs:{name:"merge-request"}}),e._v(" "),i("span",{attrs:{"data-testid":"count"}},[e._v(e._s(e.totalCount))])]:e._e()],2)]),e._v(" "),e.isFetchingMergeRequests?i("gl-loading-icon",{staticClass:"gl-py-3",attrs:{size:"sm",label:"Fetching related merge requests"}}):i("ul",{staticClass:"content-list related-items-list"},e._l(e.mergeRequests,(function(t){return i("li",{key:t.id,staticClass:"list-item gl-m-0! gl-p-0!"},[i("related-issuable-item",{attrs:{"id-key":t.id,"display-reference":t.reference,title:t.title,milestone:t.milestone,assignees:e.getAssignees(t),"created-at":t.created_at,"closed-at":t.closed_at,"merged-at":t.merged_at,path:t.web_url,state:t.state,"is-merge-request":!0,"pipeline-status":t.head_pipeline&&t.head_pipeline.detailed_status,"path-id-separator":"!"}})],1)})),0)],1),e._v(" "),e.hasClosingMergeRequest&&!e.isFetchingMergeRequests?i("div",{staticClass:"issue-closed-by-widget second-block"},[e._v("\n    "+e._s(e.closingMergeRequestsText)+"\n  ")]):e._e()]):e._e()}),[],!1,null,null,null).exports;const me=function(e,t){let{commit:i}=e;i("SET_INITIAL_STATE",t)},ge=function(e){let{commit:t}=e;return t("REQUEST_DATA")},be=function(e,t){let{commit:i}=e;return i("RECEIVE_DATA_SUCCESS",t)},ve=function(e){let{commit:t}=e;return t("RECEIVE_DATA_ERROR")},ye=function(e){let{state:t,dispatch:i}=e;return i("requestData"),b.a.get(`${t.apiEndpoint}?per_page=100`).then((function(e){const{headers:t,data:n}=e,s=Number(Object(k.D)(t)["X-TOTAL"])||0;i("receiveDataSuccess",{data:n,total:s})})).catch((function(){i("receiveDataError"),Object(m.f)({message:Object(y.a)("Something went wrong while fetching related merge requests.")})}))};var _e={SET_INITIAL_STATE(e,t){let{apiEndpoint:i}=t;e.apiEndpoint=i},REQUEST_DATA(e){e.isFetchingMergeRequests=!0},RECEIVE_DATA_SUCCESS(e,t){let{data:i,total:n}=t;e.isFetchingMergeRequests=!1,e.mergeRequests=i,e.totalCount=n},RECEIVE_DATA_ERROR(e){e.isFetchingMergeRequests=!1,e.hasErrorFetchingMergeRequests=!0}};S.default.use(de.b);var we=function(){return new de.b.Store({state:{apiEndpoint:"",isFetchingMergeRequests:!1,hasErrorFetchingMergeRequests:!1,mergeRequests:[],totalCount:0},actions:n,mutations:_e})};var Se=i("lnrH");const ke=["mousedown","touchstart","keydown","wheel"];function Oe(){let{target:e=window.location.hash,container:t="#content-body"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return null;const i=new ResizeObserver((function(e){e.forEach((function(e){e.target.dispatchEvent(new CustomEvent("ResizeUpdate",{detail:{entry:e}}))}))})),n=document.querySelector(t);let s=!1;function a(){const t=document.querySelector(e);if(!t)return;const i=t.getBoundingClientRect().top+window.scrollY-Object(k.f)();document.documentElement.scrollTo({top:i}),s||(ke.forEach((function(e){return document.addEventListener(e,r)})),s=!0)}function r(){ke.forEach((function(e){return document.removeEventListener(e,r)})),i.unobserve(n),n.removeEventListener("ResizeUpdate",a)}return n.addEventListener("ResizeUpdate",a),i.observe(n),i}var Te=i("rVp8"),je=i("cuRJ"),Ce=i("OqKX"),Ee=i("lT7T"),Ie=i("qINL"),xe=i("7k8s"),De=i("RewC"),Pe=i("mWeI"),Ne=i("FjhJ"),Ae=i.n(Ne),Re=i("V4WY"),Le=i.n(Re),$e=i("LdpZ");const qe=Pe.a.mixin({label:"delete_issue"});var Fe={actionCancel:{text:Object(y.a)("Cancel")},actionPrimary:{text:Object(y.a)("Yes, close issue")},deleteModalId:"delete-modal-id",i18n:{promoteErrorMessage:Object(y.a)("Something went wrong while promoting the issue to an epic. Please try again."),promoteSuccessMessage:Object(y.a)("The issue was successfully promoted to an epic. Redirecting to epic...")},components:{DeleteIssueModal:$e.a,GlButton:je.a,GlDropdown:I.a,GlDropdownDivider:Ce.a,GlDropdownItem:x.a,GlLink:T.a,GlModal:Ee.a},directives:{GlModal:Ie.a},mixins:[qe],inject:{canCreateIssue:{default:!1},canDestroyIssue:{default:!1},canPromoteToEpic:{default:!1},canReopenIssue:{default:!1},canReportSpam:{default:!1},canUpdateIssue:{default:!1},iid:{default:""},isIssueAuthor:{default:!1},issuePath:{default:""},issueType:{default:h.d.Issue},newIssuePath:{default:""},projectPath:{default:""},reportAbusePath:{default:""},submitAsSpamPath:{default:""}},computed:{...Object(de.f)(["isToggleStateButtonLoading"]),...Object(de.d)(["openState","getBlockedByIssues"]),isClosed(){return this.openState===h.a.Closed},issueTypeText(){var e;return null!==(e={[h.d.Issue]:Object(y.g)("HeaderAction|issue"),[h.d.Incident]:Object(y.g)("HeaderAction|incident")}[this.issueType])&&void 0!==e?e:this.issueType},buttonText(){return this.isClosed?Object(y.h)(Object(y.a)("Reopen %{issueType}"),{issueType:this.issueTypeText}):Object(y.h)(Object(y.a)("Close %{issueType}"),{issueType:this.issueTypeText})},deleteButtonText(){return Object(y.h)(Object(y.a)("Delete %{issuableType}"),{issuableType:this.issueTypeText})},qaSelector(){return this.isClosed?"reopen_issue_button":"close_issue_button"},dropdownText(){return Object(y.h)(Object(y.a)("%{issueType} actions"),{issueType:Object(v.b)(this.issueType)})},newIssueTypeText(){return Object(y.h)(Object(y.a)("New %{issueType}"),{issueType:this.issueType})},showToggleIssueStateButton(){const e=!this.isClosed&&this.canUpdateIssue,t=this.isClosed&&this.canReopenIssue;return e||t}},created(){De.a.$on("toggle.issuable.state",this.toggleIssueState)},beforeDestroy(){De.a.$off("toggle.issuable.state",this.toggleIssueState)},methods:{...Object(de.c)(["toggleStateButtonLoading"]),toggleIssueState(){var e;this.isClosed||null===(e=this.getBlockedByIssues)||void 0===e||!e.length?this.invokeUpdateIssueMutation():this.$refs.blockedByIssuesModal.show()},invokeUpdateIssueMutation(){var e=this;this.toggleStateButtonLoading(!0),this.$apollo.mutate({mutation:Le.a,variables:{input:{iid:this.iid.toString(),projectPath:this.projectPath,stateEvent:this.isClosed?xe.d:xe.c}}}).then((function(t){let{data:i}=t;if(i.updateIssue.errors.length)throw new Error;const n={detail:{data:{id:e.iid},isClosed:!e.isClosed}};document.dispatchEvent(new CustomEvent(g.a,n))})).catch((function(){return Object(m.f)({message:Object(y.a)("Error occurred while updating the issue status")})})).finally((function(){e.toggleStateButtonLoading(!1)}))},promoteToEpic(){var e=this;this.toggleStateButtonLoading(!0),this.$apollo.mutate({mutation:Ae.a,variables:{input:{iid:this.iid,projectPath:this.projectPath}}}).then((function(t){let{data:i}=t;if(i.promoteToEpic.errors.length)throw new Error;Object(m.f)({message:e.$options.i18n.promoteSuccessMessage,type:m.b.SUCCESS}),Object(f.N)(i.promoteToEpic.epic.webPath)})).catch((function(){return Object(m.f)({message:e.$options.i18n.promoteErrorMessage})})).finally((function(){e.toggleStateButtonLoading(!1)}))}}},Be=Object(P.a)(Fe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"detail-page-header-actions gl-display-flex"},[i("gl-dropdown",{staticClass:"gl-sm-display-none! w-100",attrs:{block:"",text:e.dropdownText,"data-qa-selector":"issue_actions_dropdown",loading:e.isToggleStateButtonLoading}},[e.showToggleIssueStateButton?i("gl-dropdown-item",{attrs:{"data-qa-selector":"mobile_"+e.qaSelector},on:{click:e.toggleIssueState}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")]):e._e(),e._v(" "),e.canCreateIssue?i("gl-dropdown-item",{attrs:{href:e.newIssuePath}},[e._v("\n      "+e._s(e.newIssueTypeText)+"\n    ")]):e._e(),e._v(" "),e.canPromoteToEpic?i("gl-dropdown-item",{on:{click:e.promoteToEpic}},[e._v("\n      "+e._s(e.__("Promote to epic"))+"\n    ")]):e._e(),e._v(" "),e.isIssueAuthor?e._e():i("gl-dropdown-item",{attrs:{href:e.reportAbusePath}},[e._v("\n      "+e._s(e.__("Report abuse"))+"\n    ")]),e._v(" "),e.canReportSpam?i("gl-dropdown-item",{attrs:{href:e.submitAsSpamPath,"data-method":"post",rel:"nofollow"}},[e._v("\n      "+e._s(e.__("Submit as spam"))+"\n    ")]):e._e(),e._v(" "),e.canDestroyIssue?[i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.deleteModalId,expression:"$options.deleteModalId"}],attrs:{variant:"danger"},on:{click:function(t){return e.track("click_dropdown")}}},[e._v("\n        "+e._s(e.deleteButtonText)+"\n      ")])]:e._e()],2),e._v(" "),e.showToggleIssueStateButton?i("gl-button",{staticClass:"gl-display-none gl-sm-display-inline-flex!",attrs:{"data-qa-selector":e.qaSelector,loading:e.isToggleStateButtonLoading},on:{click:e.toggleIssueState}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")]):e._e(),e._v(" "),i("gl-dropdown",{staticClass:"gl-display-none gl-sm-display-inline-flex! gl-ml-3",attrs:{icon:"ellipsis_v",category:"tertiary",text:e.dropdownText,"text-sr-only":!0,"no-caret":"",right:""}},[e.canCreateIssue?i("gl-dropdown-item",{attrs:{href:e.newIssuePath}},[e._v("\n      "+e._s(e.newIssueTypeText)+"\n    ")]):e._e(),e._v(" "),e.canPromoteToEpic?i("gl-dropdown-item",{attrs:{disabled:e.isToggleStateButtonLoading,"data-testid":"promote-button"},on:{click:e.promoteToEpic}},[e._v("\n      "+e._s(e.__("Promote to epic"))+"\n    ")]):e._e(),e._v(" "),e.isIssueAuthor?e._e():i("gl-dropdown-item",{attrs:{href:e.reportAbusePath}},[e._v("\n      "+e._s(e.__("Report abuse"))+"\n    ")]),e._v(" "),e.canReportSpam?i("gl-dropdown-item",{attrs:{href:e.submitAsSpamPath,"data-method":"post",rel:"nofollow"}},[e._v("\n      "+e._s(e.__("Submit as spam"))+"\n    ")]):e._e(),e._v(" "),e.canDestroyIssue?[i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.deleteModalId,expression:"$options.deleteModalId"}],attrs:{variant:"danger"},on:{click:function(t){return e.track("click_dropdown")}}},[e._v("\n        "+e._s(e.deleteButtonText)+"\n      ")])]:e._e()],2),e._v(" "),i("gl-modal",{ref:"blockedByIssuesModal",attrs:{"modal-id":"blocked-by-issues-modal","action-cancel":e.$options.actionCancel,"action-primary":e.$options.actionPrimary,title:e.__("Are you sure you want to close this blocked issue?")},on:{primary:e.invokeUpdateIssueMutation}},[i("p",[e._v(e._s(e.__("This issue is currently blocked by the following issues:")))]),e._v(" "),i("ul",e._l(e.getBlockedByIssues,(function(t){return i("li",{key:t.iid},[i("gl-link",{attrs:{href:t.web_url}},[e._v("#"+e._s(t.iid))])],1)})),0)]),e._v(" "),i("delete-issue-modal",{attrs:{"issue-path":e.issuePath,"issue-type":e.issueType,"modal-id":e.$options.deleteModalId,title:e.deleteButtonText}})],1)}),[],!1,null,null,null).exports,Me=i("uSzn"),Ue=i("3saJ"),Ve=i("sRjF"),He=i("qP35"),ze=i("mzc0"),Ge=i("VnOA"),We=i.n(Ge),Ye=i("U1Ws"),Ke={components:{GlLink:T.a,IncidentSla:function(){return i.e(913).then(i.bind(null,"mrBE"))}},directives:{GlTooltip:W.a},props:{alert:{type:Object,required:!1,default:null}},data:()=>({childHasData:!1}),computed:{startTime(){return Object(Ye.o)(this.alert.startedAt,"yyyy-mm-dd Z")},showHighlightBar(){return this.alert||this.childHasData}},methods:{update(e){this.childHasData=e}}},Qe=Object(P.a)(Ke,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showHighlightBar,expression:"showHighlightBar"}],staticClass:"gl-border-solid gl-border-1 gl-border-gray-100 gl-p-5 gl-mb-3 gl-rounded-base gl-display-flex gl-justify-content-space-between gl-xs-flex-direction-column"},[e.alert?i("div",{staticClass:"gl-mr-3"},[i("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.s__("HighlightBar|Original alert:")))]),e._v(" "),i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.alert.title,href:e.alert.detailsUrl}},[e._v("\n      #"+e._s(e.alert.iid)+"\n    ")])],1):e._e(),e._v(" "),e.alert?i("div",{staticClass:"gl-mr-3"},[i("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.s__("HighlightBar|Alert start time:")))]),e._v("\n    "+e._s(e.startTime)+"\n  ")]):e._e(),e._v(" "),e.alert?i("div",{staticClass:"gl-mr-3"},[i("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.s__("HighlightBar|Alert events:")))]),e._v(" "),i("span",[e._v(e._s(e.alert.eventCount))])]):e._e(),e._v(" "),i("incident-sla",{on:{update:e.update}})],1)}),[],!1,null,null,null).exports,Ze={components:{AlertDetailsTable:He.a,DescriptionComponent:ze.a,GlTab:Me.a,GlTabs:Ue.a,HighlightBar:Qe,MetricsTab:function(){return i.e(918).then(i.bind(null,"kuN9"))}},inject:["fullPath","iid","uploadMetricsFeatureAvailable"],apollo:{alert:{query:We.a,variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,i;return null==e?void 0:null===(t=e.project)||void 0===t?void 0:null===(i=t.issue)||void 0===i?void 0:i.alertManagementAlert},error(){Object(m.f)({message:Object(y.g)("Incident|There was an issue loading alert data. Please try again.")})}}},data:()=>({alert:null}),computed:{loading(){return this.$apollo.queries.alert.loading}},mounted(){this.trackPageViews()},methods:{trackPageViews(){const{category:e,action:t}=Ve.i;Pe.a.event(e,t)}}},Je=Object(P.a)(Ze,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("gl-tabs",{staticClass:"gl-mt-n3",attrs:{"content-class":"gl-reset-line-height","data-testid":"incident-tabs"}},[i("gl-tab",{attrs:{title:e.s__("Incident|Summary")}},[i("highlight-bar",{attrs:{alert:e.alert}}),e._v(" "),i("description-component",e._b({},"description-component",e.$attrs,!1))],1),e._v(" "),e.uploadMetricsFeatureAvailable?i("metrics-tab",{attrs:{"data-testid":"metrics-tab"}}):e._e(),e._v(" "),e.alert?i("gl-tab",{staticClass:"alert-management-details",attrs:{title:e.s__("Incident|Alert details"),"data-testid":"alert-details-tab"}},[i("alert-details-table",{attrs:{alert:e.alert,loading:e.loading}})],1):e._e()],1)],1)}),[],!1,null,null,null).exports,Xe={name:"SentryErrorStackTrace",components:{Stacktrace:i("wLNQ").a,GlLoadingIcon:ce.a},props:{issueStackTracePath:{type:String,required:!0}},computed:{...Object(de.f)("details",["loadingStacktrace","stacktraceData"]),...Object(de.d)("details",["stacktrace"])},mounted(){this.startPollingStacktrace(this.issueStackTracePath)},methods:{...Object(de.c)("details",["startPollingStacktrace"])}},et=Object(P.a)(Xe,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"card card-slim mt-4 mb-0",class:{"border-bottom-0":this.loadingStacktrace}},[t("div",{staticClass:"card-header border-bottom-0"},[t("h5",{staticClass:"card-title my-1"},[this._v(this._s(this.__("Stack trace")))])])]),this._v(" "),this.loadingStacktrace?t("div",{staticClass:"card"},[t("gl-loading-icon",{staticClass:"py-2",attrs:{label:"Fetching stack trace",size:"sm"}})],1):t("stacktrace",{attrs:{entries:this.stacktrace}})],1)}),[],!1,null,null,null).exports,tt=i("me7P");S.default.use(z.default);var it=new z.default({defaultClient:tt.b}),nt=i("Aiz4"),st=i.n(nt);const at=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return it.clients.defaultClient.cache.writeQuery({query:st.a,data:{issueState:e}})};function rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i=document.querySelector(".js-issue-header-actions");if(!i)return;at({...xe.j,issueType:i.dataset.issueType});const n=t===xe.a?i.dataset.canCreateIncident:i.dataset.canCreateIssue;return new S.default({el:i,name:"HeaderActionsRoot",apolloProvider:it,store:e,provide:{canCreateIssue:Object(k.E)(n),canDestroyIssue:Object(k.E)(i.dataset.canDestroyIssue),canPromoteToEpic:Object(k.E)(i.dataset.canPromoteToEpic),canReopenIssue:Object(k.E)(i.dataset.canReopenIssue),canReportSpam:Object(k.E)(i.dataset.canReportSpam),canUpdateIssue:Object(k.E)(i.dataset.canUpdateIssue),iid:i.dataset.iid,isIssueAuthor:Object(k.E)(i.dataset.isIssueAuthor),issuePath:i.dataset.issuePath,issueType:i.dataset.issueType,newIssuePath:i.dataset.newIssuePath,projectPath:i.dataset.projectPath,projectId:i.dataset.projectId,reportAbusePath:i.dataset.reportAbusePath,submitAsSpamPath:i.dataset.submitAsSpamPath},render:function(e){return e(Be)}})}var ot=i("t+zI"),lt=i("0pyg"),ct=i("XKTI"),dt=i("eT5B"),ut=i("GyXH"),pt=i("GxZ2"),ht=i("ctn0");const ft="author_username";class mt extends pt.a{constructor(e){super({page:"service_desk",filteredSearchTokenKeys:ht.a,useDefaultState:!0}),this.supportBotData=e}canEdit(e){return"author"!==e}modifyUrlParams(e){const t=`${ft}=${this.supportBotData.username}`,i=e.filter((function(e){return-1===e.indexOf(ft)}));return i.unshift(t),i}}function gt(){if(document.querySelector(".filtered-search")){const e=JSON.parse(document.querySelector(".js-service-desk-issues").dataset.supportBot);new mt(e).setup()}}function bt(){new d.a(a()(".issue-form")),new r.a(a()(".issue-form")),new p.a({warnTemplateOverride:!0}),new ot.a,new lt.a,new c.a,function(){const e=document.getElementById("js-suggestions"),t=document.getElementById("issue_title");if(!e)return;S.default.use(z.default);const i=new z.default({defaultClient:Object(G.default)()});new S.default({el:e,name:"TitleSuggestionsRoot",apolloProvider:i,data:()=>({search:t.value}),mounted(){var e=this;t.addEventListener("input",(function(){e.search=t.value}))},render(t){return t(ae,{props:{projectPath:e.dataset.projectPath,search:this.search}})}})}(),function(){const e=document.getElementById("js-type-popover");if(e)new S.default({el:e,name:"TypePopoverRoot",render:function(e){return e(le)}})}()}function vt(){const e=document.getElementById("js-issuable-app");if(!e)return;const{issueType:t,...n}=Object(pe.a)(e);t===h.d.Incident?(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=document.getElementById("js-issuable-app");if(!t)return;at({...xe.j,issueType:t.dataset.issueType});const{canCreateIncident:i,canUpdate:n,iid:s,projectNamespace:a,projectPath:r,projectId:o,slaFeatureAvailable:l,uploadMetricsFeatureAvailable:c}=e,d=`${a}/${r}`;new S.default({el:t,name:"DescriptionRoot",apolloProvider:it,provide:{issueType:xe.a,canCreateIncident:i,canUpdate:n,fullPath:d,iid:s,projectId:o,slaFeatureAvailable:Object(k.E)(l),uploadMetricsFeatureAvailable:Object(k.E)(c)},render:t=>t(Te.a,{props:{...e,descriptionComponent:Je,showTitleBorder:!1}})})}(n),rt(dt.a,h.d.Incident)):(!function(e,t){var i,n;const s=document.getElementById("js-issuable-app");if(!s)return;const{fullPath:a}=s.dataset;null!==(i=gon)&&void 0!==i&&null!==(n=i.features)&&void 0!==n&&n.fixCommentScroll&&Oe(),at({...xe.j,issueType:s.dataset.issueType});const{canCreateIncident:r,...o}=e;new S.default({el:s,name:"DescriptionRoot",apolloProvider:it,store:t,provide:{canCreateIncident:r,fullPath:a},computed:{...Object(de.d)(["getNoteableData"])},render(e){var t,i,n,s;return e(Te.a,{props:{...o,isConfidential:null===(t=this.getNoteableData)||void 0===t?void 0:t.confidential,isLocked:null===(i=this.getNoteableData)||void 0===i?void 0:i.discussion_locked,issuableStatus:null===(n=this.getNoteableData)||void 0===n?void 0:n.state,id:null===(s=this.getNoteableData)||void 0===s?void 0:s.id}})}})}(n,dt.a),rt(dt.a)),new H,new l.a,new ut.a,Object(u.c)(dt.a),Object(u.d)(),Object(ct.a)(),function(){const e=document.querySelector("#js-related-merge-requests");if(!e)return;const{endpoint:t,projectPath:i,projectNamespace:n}=e.dataset;new S.default({el:e,name:"RelatedMergeRequestsRoot",store:we(),render:function(e){return e(fe,{props:{endpoint:t,projectNamespace:n,projectPath:i}})}})}(),function(){const e=document.querySelector("#js-sentry-error-stack-trace");if(!e)return;const{issueStackTracePath:t}=e.dataset;new S.default({el:e,name:"SentryErrorStackTraceRoot",store:Se.a,render:function(e){return e(et,{props:{issueStackTracePath:t}})}})}();const s=document.getElementById("js-vue-awards-block");s?i.e(143).then(i.bind(null,"ieV+")).then((function(e){return e.default(s)})).catch((function(){})):Object(o.b)(),Promise.all([i.e(405),i.e(858),i.e(421)]).then(i.bind(null,"UJk7")).then((function(e){return e.default()})).catch((function(){}))}},cBN0:function(e,t,i){"use strict";var n=i("SYh6");const s=Object(n.a)();window.emitSidebarEvent=function(){return s.$emit(...arguments)},t.a=s},cIDo:function(e,t,i){"use strict";var n=i("ryFn"),s=i("9CRu"),a=i("qx9o"),r=i("BhOj"),o=i("Z2pp"),l=i("jyii"),c=i("gCUY"),d=i("ummR"),u=i("PrCM"),p=i("GpHn");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g=Object(c.c)({tbodyTransitionProps:{type:Object},tbodyTransitionHandlers:{type:Object}},l.fb),b=o.a.extend({name:l.fb,mixins:[d.a,u.a,p.a],provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},inheritAttrs:!1,props:g,computed:{isTbody:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},isTransitionGroup:function(){return this.tbodyTransitionProps||this.tbodyTransitionHandlers},tbodyAttrs:function(){return f({role:"rowgroup"},this.bvAttrs)},tbodyProps:function(){return this.tbodyTransitionProps?f(f({},this.tbodyTransitionProps),{},{tag:"tbody"}):{}}},render:function(e){var t={props:this.tbodyProps,attrs:this.tbodyAttrs};return this.isTransitionGroup?(t.on=this.tbodyTransitionHandlers||{},t.nativeOn=this.bvListeners):t.on=this.bvListeners,e(this.isTransitionGroup?"transition-group":"tbody",t,this.normalizeSlot())}}),v=i("HBPU"),y=i("hmuM"),_=i("7DqY"),w=i("G55H"),S=i("ySPH"),k=i("N+rP"),O=i("pW8f"),T=i("Ae6b");function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){E(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var I={props:Object(c.c)({tbodyTrClass:{type:[String,Array,Object,Function]},tbodyTrAttr:{type:[Object,Function]},detailsTdClass:{type:[String,Array,Object]}},l.ab),methods:{getTdValues:function(e,t,i,n){var s=this.$parent;if(i){var a=Object(_.a)(e,t,"");return Object(w.e)(i)?i(a,t,e):Object(w.m)(i)&&Object(w.e)(s[i])?s[i](a,t,e):i}return n},getThValues:function(e,t,i,n,s){var a=this.$parent;if(i){var r=Object(_.a)(e,t,"");return Object(w.e)(i)?i(r,t,e,n):Object(w.m)(i)&&Object(w.e)(a[i])?a[i](r,t,e,n):i}return s},getFormattedValue:function(e,t){var i=t.key,n=this.getFieldFormatter(i),s=Object(_.a)(e,i,null);return Object(w.e)(n)&&(s=n(s,i,e)),Object(w.o)(s)?"":s},toggleDetailsFactory:function(e,t){var i=this;return function(){e&&i.$set(t,"_showDetails",!t._showDetails)}},rowHovered:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-hovered",e)},rowUnhovered:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-unhovered",e)},renderTbodyRowCell:function(e,t,i,n){var s=this,a=this.$createElement,r=this.hasNormalizedSlot("row-details"),o=this.getFormattedValue(i,e),l=e.key,c=!this.isStacked&&(this.isResponsive||this.stickyHeader)&&e.stickyColumn,d=c?e.isRowHeader?T.a:O.a:e.isRowHeader?"th":"td",u=i._cellVariants&&i._cellVariants[l]?i._cellVariants[l]:e.variant||null,p={key:"row-".concat(n,"-cell-").concat(t,"-").concat(l),class:[e.class?e.class:"",this.getTdValues(i,l,e.tdClass,"")],props:{},attrs:C({"aria-colindex":String(t+1)},e.isRowHeader?this.getThValues(i,l,e.thAttr,"row",{}):this.getTdValues(i,l,e.tdAttr,{}))};c?p.props={stackedHeading:this.isStacked?e.label:null,stickyColumn:!0,variant:u}:(p.attrs["data-label"]=this.isStacked&&!Object(w.o)(e.label)?Object(S.e)(e.label):null,p.attrs.role=e.isRowHeader?"rowheader":"cell",p.attrs.scope=e.isRowHeader?"row":null,u&&p.class.push("".concat(this.dark?"bg":"table","-").concat(u)));var h={item:i,index:n,field:e,unformatted:Object(_.a)(i,l,""),value:o,toggleDetails:this.toggleDetailsFactory(r,i),detailsShowing:Boolean(i._showDetails)};this.supportsSelectableRows&&(h.rowSelected=this.isRowSelected(n),h.selectRow=function(){return s.selectRow(n)},h.unselectRow=function(){return s.unselectRow(n)});var f=this.$_bodyFieldSlotNameCache[l],m=f?this.normalizeSlot(f,h):Object(S.e)(o);return this.isStacked&&(m=[a("div",[m])]),a(d,p,[m])},renderTbodyRow:function(e,t){var i=this,n=this.$createElement,s=this.computedFields,a=this.striped,r=this.hasNormalizedSlot("row-details"),o=e._showDetails&&r,l=this.$listeners["row-clicked"]||this.hasSelectableRowClick,c=[],d=o?this.safeId("_details_".concat(t,"_")):null,u=s.map((function(n,s){return i.renderTbodyRowCell(n,s,e,t)})),p=null;this.currentPage&&this.perPage&&this.perPage>0&&(p=String((this.currentPage-1)*this.perPage+t+1));var h=this.primaryKey,f=Object(S.e)(Object(_.a)(e,h))||null,m=f||Object(S.e)(t),g=f?this.safeId("_row_".concat(f)):null,b=this.selectableRowClasses?this.selectableRowClasses(t):{},v=this.selectableRowAttrs?this.selectableRowAttrs(t):{},y=Object(w.e)(this.tbodyTrClass)?this.tbodyTrClass(e,"row"):this.tbodyTrClass,T=Object(w.e)(this.tbodyTrAttr)?this.tbodyTrAttr(e,"row"):this.tbodyTrAttr;if(c.push(n(k.a,{key:"__b-table-row-".concat(m,"__"),ref:"itemRows",refInFor:!0,class:[y,b,o?"b-table-has-details":""],props:{variant:e._rowVariant||null},attrs:C(C({id:g},T),{},{tabindex:l?"0":null,"data-pk":f||null,"aria-details":d,"aria-owns":d,"aria-rowindex":p},v),on:{mouseenter:this.rowHovered,mouseleave:this.rowUnhovered}},u)),o){var j={item:e,index:t,fields:s,toggleDetails:this.toggleDetailsFactory(r,e)};this.supportsSelectableRows&&(j.rowSelected=this.isRowSelected(t),j.selectRow=function(){return i.selectRow(t)},j.unselectRow=function(){return i.unselectRow(t)});var E=n(O.a,{props:{colspan:s.length},class:this.detailsTdClass},[this.normalizeSlot("row-details",j)]);a&&c.push(n("tr",{key:"__b-table-details-stripe__".concat(m),staticClass:"d-none",attrs:{"aria-hidden":"true",role:"presentation"}}));var I=Object(w.e)(this.tbodyTrClass)?this.tbodyTrClass(e,"row-details"):this.tbodyTrClass,x=Object(w.e)(this.tbodyTrAttr)?this.tbodyTrAttr(e,"row-details"):this.tbodyTrAttr;c.push(n(k.a,{key:"__b-table-details__".concat(m),staticClass:"b-table-details",class:[I],props:{variant:e._rowVariant||null},attrs:C(C({},x),{},{id:d,tabindex:"-1"})},[E]))}else r&&(c.push(n()),a&&c.push(n()));return c}}};function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function D(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){P(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var N=D(D({},g),{},{tbodyClass:{type:[String,Array,Object]}});t.a={mixins:[I],props:N,beforeDestroy:function(){this.$_bodyFieldSlotNameCache=null},methods:{getTbodyTrs:function(){var e=this.$refs||{},t=e.tbody?e.tbody.$el||e.tbody:null,i=(e.itemRows||[]).map((function(e){return e.$el||e}));return t&&t.children&&t.children.length>0&&i&&i.length>0?Object(s.c)(t.children).filter((function(e){return Object(s.a)(i,e)})):[]},getTbodyTrIndex:function(e){if(!Object(a.s)(e))return-1;var t="TR"===e.tagName?e:Object(a.e)("tr",e,!0);return t?this.getTbodyTrs().indexOf(t):-1},emitTbodyRowEvent:function(e,t){if(e&&this.hasListener(e)&&t&&t.target){var i=this.getTbodyTrIndex(t.target);if(i>-1){var n=this.computedItems[i];this.$emit(e,n,i,t)}}},tbodyRowEvtStopped:function(e){return this.stopIfBusy&&this.stopIfBusy(e)},onTbodyRowKeydown:function(e){var t=e.target;if(!this.tbodyRowEvtStopped(e)&&"TR"===t.tagName&&Object(a.q)(t)&&0===t.tabIndex){var i=e.keyCode;if(Object(s.a)([n.c,n.h],i))Object(r.d)(e),this.onTBodyRowClicked(e);else if(Object(s.a)([n.i,n.a,n.e,n.b],i)){var o=this.getTbodyTrIndex(t);if(o>-1){Object(r.d)(e);var l=this.getTbodyTrs(),c=e.shiftKey;i===n.e||c&&i===n.i?Object(a.d)(l[0]):i===n.b||c&&i===n.a?Object(a.d)(l[l.length-1]):i===n.i&&o>0?Object(a.d)(l[o-1]):i===n.a&&o<l.length-1&&Object(a.d)(l[o+1])}}}},onTBodyRowClicked:function(e){this.tbodyRowEvtStopped(e)||Object(v.a)(e)||Object(y.a)(this.$el)||this.emitTbodyRowEvent("row-clicked",e)},onTbodyRowMiddleMouseRowClicked:function(e){this.tbodyRowEvtStopped(e)||2!==e.which||this.emitTbodyRowEvent("row-middle-clicked",e)},onTbodyRowContextmenu:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-contextmenu",e)},onTbodyRowDblClicked:function(e){this.tbodyRowEvtStopped(e)||Object(v.a)(e)||this.emitTbodyRowEvent("row-dblclicked",e)},renderTbody:function(){var e=this,t=this.computedItems,i=this.$createElement,n=this.hasListener("row-clicked")||this.hasSelectableRowClick,s=[],a=this.renderBusy?this.renderBusy():null;if(a)s.push(a);else{var r={},o=this.hasNormalizedSlot("cell()")?"cell()":null;this.computedFields.forEach((function(t){var i=t.key,n="cell(".concat(i,")"),s="cell(".concat(i.toLowerCase(),")");r[i]=e.hasNormalizedSlot(n)?n:e.hasNormalizedSlot(s)?s:o})),this.$_bodyFieldSlotNameCache=r,s.push(this.renderTopRow?this.renderTopRow():i()),t.forEach((function(t,i){s.push(e.renderTbodyRow(t,i))})),s.push(this.renderEmpty?this.renderEmpty():i()),s.push(this.renderBottomRow?this.renderBottomRow():i())}var l={auxclick:this.onTbodyRowMiddleMouseRowClicked,contextmenu:this.onTbodyRowContextmenu,dblclick:this.onTbodyRowDblClicked};return n&&(l.click=this.onTBodyRowClicked,l.keydown=this.onTbodyRowKeydown),i(b,{ref:"tbody",class:this.tbodyClass||null,props:{tbodyTransitionProps:this.tbodyTransitionProps,tbodyTransitionHandlers:this.tbodyTransitionHandlers},on:l},s)}}}},cRO8:function(e,t,i){var n=i("7Le0"),s=i("5uIe"),a=i("ORdU"),r=a&&a.isSet,o=r?s(r):n;e.exports=o},cToC:function(e,t,i){"use strict";i("AfGZ");var n=i("htOw"),s=i("mphk"),a=i("7pkS");t.a={...n.b,geoNodePath:"/api/:version/geo_nodes/:id",geoNodesPath:"/api/:version/geo_nodes",geoNodesStatusPath:"/api/:version/geo_nodes/status",geoReplicationPath:"/api/:version/geo_replication/:replicable",ldapGroupsPath:"/api/:version/ldap/:provider/groups.json",subscriptionPath:"/api/:version/namespaces/:id/gitlab_subscription",childEpicPath:"/api/:version/groups/:id/epics",groupEpicsPath:"/api/:version/groups/:id/epics",epicIssuePath:"/api/:version/groups/:id/epics/:epic_iid/issues/:issue_id",cycleAnalyticsTasksByTypePath:"/groups/:id/-/analytics/type_of_work/tasks_by_type",cycleAnalyticsTopLabelsPath:"/groups/:id/-/analytics/type_of_work/tasks_by_type/top_labels",cycleAnalyticsGroupStagesAndEventsPath:"/groups/:id/-/analytics/value_stream_analytics/value_streams/:value_stream_id/stages",cycleAnalyticsValueStreamsPath:"/groups/:id/-/analytics/value_stream_analytics/value_streams",cycleAnalyticsValueStreamPath:"/groups/:id/-/analytics/value_stream_analytics/value_streams/:value_stream_id",cycleAnalyticsStagePath:"/groups/:id/-/analytics/value_stream_analytics/value_streams/:value_stream_id/stages/:stage_id",cycleAnalyticsGroupLabelsPath:"/groups/:namespace_path/-/labels.json",codeReviewAnalyticsPath:"/api/:version/analytics/code_review",groupActivityIssuesPath:"/api/:version/analytics/group_activity/issues_count",groupActivityMergeRequestsPath:"/api/:version/analytics/group_activity/merge_requests_count",groupActivityNewMembersPath:"/api/:version/analytics/group_activity/new_members_count",countriesPath:"/-/countries",countryStatesPath:"/-/country_states",paymentFormPath:"/-/subscriptions/payment_form",paymentMethodPath:"/-/subscriptions/payment_method",confirmOrderPath:"/-/subscriptions",vulnerabilityPath:"/api/:version/vulnerabilities/:id",vulnerabilityActionPath:"/api/:version/vulnerabilities/:id/:action",vulnerabilityIssueLinksPath:"/api/:version/vulnerabilities/:id/issue_links",applicationSettingsPath:"/api/:version/application/settings",descendantGroupsPath:"/api/:version/groups/:group_id/descendant_groups",projectDeploymentFrequencyAnalyticsPath:"/api/:version/projects/:id/analytics/deployment_frequency",projectGroupsPath:"/api/:version/projects/:id/groups.json",issueMetricImagesPath:"/api/:version/projects/:id/issues/:issue_iid/metric_images",issueMetricSingleImagePath:"/api/:version/projects/:id/issues/:issue_iid/metric_images/:image_id",userSubscription(e){const t=n.b.buildUrl(this.subscriptionPath).replace(":id",encodeURIComponent(e));return s.a.get(t)},ldapGroups(e,t,i){const a=n.b.buildUrl(this.ldapGroupsPath).replace(":provider",t);return s.a.get(a,{params:{search:e,per_page:n.a,active:!0}}).then((function(e){let{data:t}=e;return i(t),t}))},createChildEpic(e){let{confidential:t,groupId:i,parentEpicId:a,title:r}=e;const o=n.b.buildUrl(this.childEpicPath).replace(":id",encodeURIComponent(i));return s.a.post(o,{parent_id:a,confidential:t,title:r})},descendantGroups(e){let{groupId:t,search:i}=e;const a=n.b.buildUrl(this.descendantGroupsPath).replace(":group_id",t);return s.a.get(a,{params:{search:i}})},groupEpics(e){let{groupId:t,includeAncestorGroups:i=!1,includeDescendantGroups:a=!0,search:r=""}=e;const o=n.b.buildUrl(this.groupEpicsPath).replace(":id",t),l={include_ancestor_groups:i,include_descendant_groups:a};return r&&(l.search=r),s.a.get(o,{params:l})},addEpicIssue(e){let{groupId:t,epicIid:i,issueId:a}=e;const r=n.b.buildUrl(this.epicIssuePath).replace(":id",t).replace(":epic_iid",i).replace(":issue_id",a);return s.a.post(r)},removeEpicIssue(e){let{groupId:t,epicIid:i,epicIssueId:a}=e;const r=n.b.buildUrl(this.epicIssuePath).replace(":id",t).replace(":epic_iid",i).replace(":issue_id",a);return s.a.delete(r)},cycleAnalyticsTasksByType(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.b.buildUrl(this.cycleAnalyticsTasksByTypePath).replace(":id",e);return s.a.get(i,{params:t})},cycleAnalyticsTopLabels(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.b.buildUrl(this.cycleAnalyticsTopLabelsPath).replace(":id",e);return s.a.get(i,{params:t})},cycleAnalyticsGroupStagesAndEvents(e){let{groupId:t,valueStreamId:i,params:a={}}=e;const r=n.b.buildUrl(this.cycleAnalyticsGroupStagesAndEventsPath).replace(":id",t).replace(":value_stream_id",i);return s.a.get(r,{params:a})},cycleAnalyticsStageEvents(e){let{groupId:t,valueStreamId:i,stageId:n,params:a={}}=e;const r=`${this.cycleAnalyticsStageUrl({groupId:t,valueStreamId:i,stageId:n})}/records`;return s.a.get(r,{params:a})},cycleAnalyticsStageCount(e){let{groupId:t,valueStreamId:i,stageId:n,params:a={}}=e;const r=`${this.cycleAnalyticsStageUrl({groupId:t,valueStreamId:i,stageId:n})}/count`;return s.a.get(r,{params:a})},cycleAnalyticsCreateValueStream(e,t){const i=n.b.buildUrl(this.cycleAnalyticsValueStreamsPath).replace(":id",e);return s.a.post(i,t)},cycleAnalyticsUpdateValueStream(e){let{groupId:t,valueStreamId:i,data:a}=e;const r=n.b.buildUrl(this.cycleAnalyticsValueStreamPath).replace(":id",t).replace(":value_stream_id",i);return s.a.put(r,a)},cycleAnalyticsDeleteValueStream(e,t){const i=n.b.buildUrl(this.cycleAnalyticsValueStreamPath).replace(":id",e).replace(":value_stream_id",t);return s.a.delete(i)},cycleAnalyticsValueStreams(e,t){const i=n.b.buildUrl(this.cycleAnalyticsValueStreamsPath).replace(":id",e);return s.a.get(i,t)},cycleAnalyticsStageUrl(e){let{groupId:t,valueStreamId:i,stageId:s}=e;return n.b.buildUrl(this.cycleAnalyticsStagePath).replace(":id",t).replace(":value_stream_id",i).replace(":stage_id",s)},cycleAnalyticsDurationChart(e){let{groupId:t,valueStreamId:i,stageId:n,params:a={}}=e;const r=`${this.cycleAnalyticsStageUrl({groupId:t,valueStreamId:i,stageId:n})}/average_duration_chart`;return s.a.get(r,{params:a})},cycleAnalyticsGroupLabels(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{search:null};const i=n.b.buildUrl(this.cycleAnalyticsGroupLabelsPath).replace(":namespace_path",e);return s.a.get(i,{params:t})},codeReviewAnalytics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=n.b.buildUrl(this.codeReviewAnalyticsPath);return s.a.get(t,{params:e})},groupActivityMergeRequestsCount(e){const t=n.b.buildUrl(this.groupActivityMergeRequestsPath);return s.a.get(t,{params:{group_path:e}})},groupActivityIssuesCount(e){const t=n.b.buildUrl(this.groupActivityIssuesPath);return s.a.get(t,{params:{group_path:e}})},groupActivityNewMembersCount(e){const t=n.b.buildUrl(this.groupActivityNewMembersPath);return s.a.get(t,{params:{group_path:e}})},getGeoReplicableItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.b.buildUrl(this.geoReplicationPath).replace(":replicable",e);return s.a.get(i,{params:t})},initiateAllGeoReplicableSyncs(e,t){const i=n.b.buildUrl(this.geoReplicationPath).replace(":replicable",e);return s.a.post(`${i}/${t}`,{})},initiateGeoReplicableSync(e,t){let{projectId:i,action:a}=t;const r=n.b.buildUrl(this.geoReplicationPath).replace(":replicable",e);return s.a.put(`${r}/${i}/${a}`,{})},fetchCountries(){const e=n.b.buildUrl(this.countriesPath);return s.a.get(e)},fetchStates(e){const t=n.b.buildUrl(this.countryStatesPath);return s.a.get(t,{params:{country:e}})},fetchPaymentFormParams(e){const t=n.b.buildUrl(this.paymentFormPath);return s.a.get(t,{params:{id:e}})},fetchPaymentMethodDetails(e){const t=n.b.buildUrl(this.paymentMethodPath);return s.a.get(t,{params:{id:e}})},confirmOrder(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=n.b.buildUrl(this.confirmOrderPath);return s.a.post(t,e)},changeVulnerabilityState(e,t){const i=n.b.buildUrl(this.vulnerabilityActionPath).replace(":id",e).replace(":action",t);return s.a.post(i)},getGeoNodes(){const e=n.b.buildUrl(this.geoNodesPath);return s.a.get(e)},getGeoNodesStatus(){const e=n.b.buildUrl(this.geoNodesStatusPath);return s.a.get(e)},createGeoNode(e){const t=n.b.buildUrl(this.geoNodesPath);return s.a.post(t,e)},updateGeoNode(e){const t=n.b.buildUrl(this.geoNodesPath);return s.a.put(`${t}/${e.id}`,e)},removeGeoNode(e){const t=n.b.buildUrl(this.geoNodePath).replace(":id",encodeURIComponent(e));return s.a.delete(t)},getApplicationSettings(){const e=n.b.buildUrl(this.applicationSettingsPath);return s.a.get(e)},updateApplicationSettings(e){const t=n.b.buildUrl(this.applicationSettingsPath);return s.a.put(t,e)},deploymentFrequencies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.b.buildUrl(this.projectDeploymentFrequencyAnalyticsPath).replace(":id",encodeURIComponent(e));return s.a.get(i,{params:t})},fetchIssueMetricImages(e){let{issueIid:t,id:i}=e;const a=n.b.buildUrl(this.issueMetricImagesPath).replace(":id",encodeURIComponent(i)).replace(":issue_iid",encodeURIComponent(t));return s.a.get(a)},uploadIssueMetricImage(e){let{issueIid:t,id:i,file:r,url:o=null,urlText:l=null}=e;const c={headers:{...a.a}},d=n.b.buildUrl(this.issueMetricImagesPath).replace(":id",encodeURIComponent(i)).replace(":issue_iid",encodeURIComponent(t)),u=new FormData;return u.append("file",r),o&&u.append("url",o),l&&u.append("url_text",l),s.a.post(d,u,c)},updateIssueMetricImage(e){let{issueIid:t,id:i,imageId:a,url:r=null,urlText:o=null}=e;const l=n.b.buildUrl(this.issueMetricSingleImagePath).replace(":id",encodeURIComponent(i)).replace(":issue_iid",encodeURIComponent(t)).replace(":image_id",encodeURIComponent(a)),c=new FormData;return null!=r&&c.append("url",r),null!=o&&c.append("url_text",o),s.a.put(l,c)},deleteMetricImage(e){let{issueIid:t,id:i,imageId:a}=e;const r=n.b.buildUrl(this.issueMetricSingleImagePath).replace(":id",encodeURIComponent(i)).replace(":issue_iid",encodeURIComponent(t)).replace(":image_id",encodeURIComponent(a));return s.a.delete(r)},projectGroups(e,t){const i=n.b.buildUrl(this.projectGroupsPath).replace(":id",encodeURIComponent(e));return s.a.get(i,{params:{...t}}).then((function(e){let{data:t}=e;return t}))}}},cVwi:function(e,t,i){"use strict";i.r(t);var n=i("OqKX"),s=i("0X+3"),a=i("Gr03"),r=i("H8gz"),o=i("u1ru"),l=i("E6h1"),c=i("TujI"),d=i("FxM0"),u=i("mpzd"),p=i("Zxcm"),h={issuableAttribute:i("a6L4").d.Iteration,components:{GlDropdownDivider:n.a,GlDropdownItem:s.a,GlDropdownSectionHeader:a.a,GlIcon:r.a,GlLink:o.a,SidebarDropdownWidget:l.a,IterationTitle:c.a},mixins:[Object(p.a)()],props:{attrWorkspacePath:{required:!0,type:String},iid:{required:!0,type:String},issuableType:{type:String,required:!0,validator:e=>e===u.c.Issue},workspacePath:{required:!0,type:String}},methods:{getCadenceTitle(e){var t;return null==e?void 0:null===(t=e.iterationCadence)||void 0===t?void 0:t.title},groupByIterationCadences:d.b,getIterationPeriod:d.a}},f=i("bPvS"),m=Object(f.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-dropdown-widget",{attrs:{"attr-workspace-path":e.attrWorkspacePath,iid:e.iid,"issuable-attribute":e.$options.issuableAttribute,"issuable-type":e.issuableType,"workspace-path":e.workspacePath},scopedSlots:e._u([{key:"value",fn:function(t){var n=t.attributeUrl,s=t.currentAttribute;return[e.glFeatures.iterationCadences?i("p",{staticClass:"gl-font-weight-bold gl-line-height-20 gl-m-0"},[e._v("\n      "+e._s(e.getCadenceTitle(s))+"\n    ")]):e._e(),e._v(" "),i("gl-link",{staticClass:"gl-text-gray-900! gl-line-height-20",attrs:{href:n,"data-qa-selector":"iteration_link"}},[i("div",[i("gl-icon",{staticClass:"gl-mr-1",attrs:{name:"iteration"}}),e._v("\n        "+e._s(e.getIterationPeriod(s))+"\n      ")],1),e._v(" "),s.title?i("iteration-title",{attrs:{title:s.title}}):e._e()],1)]}},{key:"list",fn:function(t){var n=t.attributesList;void 0===n&&(n=[]);var s=t.isAttributeChecked,a=t.updateAttribute;return[e._l(e.groupByIterationCadences(n),(function(t,n){return[0!==n&&e.glFeatures.iterationCadences?i("gl-dropdown-divider",{key:n}):e._e(),e._v(" "),e.glFeatures.iterationCadences?i("gl-dropdown-section-header",{key:t.title,attrs:{"data-testid":"cadence-title"}},[e._v("\n        "+e._s(t.title)+"\n      ")]):e._e(),e._v(" "),e._l(t.iterations,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"is-check-item":!0,"is-checked":s(t.id),"data-testid":e.$options.issuableAttribute+"-items"},on:{click:function(e){return a(t.id)}}},[e._v("\n        "+e._s(t.period)+"\n        "),t.title?i("iteration-title",{attrs:{title:t.title}}):e._e()],1)}))]}))]}}])})}),[],!1,null,null,null);t.default=m.exports},cd08:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("6oy4"),s=i.n(n),a=(i("nEd5"),i("t9l/")),r=i("teVv"),o=i("mphk");class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selector=e.selector,this.dataType=e.dataType,this.fieldName=e.fieldName,this.lockVersion=e.lockVersion,this.taskListContainerSelector=`${this.selector} .js-task-list-container`,this.updateHandler=this.update.bind(this),this.onUpdate=e.onUpdate||function(){},this.onSuccess=e.onSuccess||function(){},this.onError=e.onError||function(e){let t="";return e.response.data&&"object"==typeof e.response.data&&(t=e.response.data.errors.join(" ")),Object(r.f)({message:t||Object(a.a)("Update failed")})},this.init()}init(){this.disable(),document.querySelectorAll(`${this.taskListContainerSelector} .js-task-list-field[data-value]`).forEach((function(e){e.value=e.dataset.value})),this.enable()}getTaskListTarget(e){return e&&e.currentTarget?s()(e.currentTarget):s()(this.taskListContainerSelector)}disableNonMarkdownTaskListItems(e){this.getTaskListTarget(e).find(".task-list-item").not("[data-sourcepos]").find(".task-list-item-checkbox").prop("disabled",!0)}disableTaskListItems(e){this.getTaskListTarget(e).taskList("disable")}enableTaskListItems(e){this.getTaskListTarget(e).taskList("enable"),this.disableNonMarkdownTaskListItems(e)}enable(){this.enableTaskListItems(),s()(document).on("tasklist:changed",this.taskListContainerSelector,this.updateHandler)}disable(){this.disableTaskListItems(),s()(document).off("tasklist:changed",this.taskListContainerSelector)}update(e){var t=this;const i=s()(e.target),{index:n,checked:a,lineNumber:r,lineSource:l}=e.detail,c={};return c[this.dataType]={[this.fieldName]:i.val(),lock_version:this.lockVersion,update_task:{index:n,checked:a,line_number:r,line_source:l}},this.onUpdate(),this.disableTaskListItems(e),o.a.patch(i.data("updateUrl")||s()("form.js-issuable-update").attr("action"),c).then((function(i){let{data:n}=i;return t.lockVersion=n.lock_version,t.enableTaskListItems(e),t.onSuccess(n)})).catch((function(i){let{response:n}=i;return t.enableTaskListItems(e),t.onError(n.data)}))}}},ceBC:function(e,t,i){var n=i("ueyC"),s=i("kTp2"),a=i("d8So"),r=Math.ceil,o=Math.max;e.exports=function(e,t,i){t=(i?s(e,t,i):void 0===t)?1:o(a(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,d=0,u=Array(r(l/t));c<l;)u[d++]=n(e,c,c+=t);return u}},cotN:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("Z2pp"),s=i("jyii"),a=i("gCUY"),r=i("ummR"),o=i("PrCM"),l=i("GpHn");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=Object(a.c)({footVariant:{type:String,default:null}},s.gb),p=n.a.extend({name:s.gb,mixins:[r.a,o.a,l.a],provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},inheritAttrs:!1,props:u,computed:{isTfoot:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},tfootClasses:function(){return[this.footVariant?"thead-".concat(this.footVariant):null]},tfootAttrs:function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({role:"rowgroup"},this.bvAttrs)}},render:function(e){return e("tfoot",{class:this.tfootClasses,attrs:this.tfootAttrs,on:this.bvListeners},this.normalizeSlot())}})},cqb2:function(e,t,i){"use strict";var n=i("ipI8"),s=i("EhLH"),a=i("9LGn"),r=i("6R2j"),o=i("6IRw"),l=i.n(o);const{model:c}=n.a.options;const d={components:{BFormRadioGroup:n.a,GlFormRadio:r.a},directives:{SafeHtml:a.a},mixins:[s.a],inheritAttrs:!1,model:c};const u=l()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-radio-group",e._g(e._b({staticClass:"gl-form-checkbox-group",attrs:{stacked:""},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}},"b-form-radio-group",e.$attrs,!1),e.$listeners),[e._t("first"),e._v(" "),e._l(e.formOptions,(function(t,n){return i("gl-form-radio",{key:n,attrs:{value:t.value,disabled:t.disabled}},[t.html?i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.html,expression:"option.html"}]}):i("span",[e._v(e._s(t.text))])])})),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},"cyg/":function(e,t,i){"use strict";var n=i("jyii"),s=i("gCUY"),a=i("Sq3g");t.a={props:Object(s.c)({caption:{type:String},captionHtml:{type:String}},n.ab),computed:{captionId:function(){return this.isStacked?this.safeId("_caption_"):null}},methods:{renderCaption:function(){var e=this.caption,t=this.captionHtml,i=this.$createElement,n=i(),s=this.hasNormalizedSlot("table-caption");return(s||e||t)&&(n=i("caption",{key:"caption",attrs:{id:this.captionId},domProps:s?{}:Object(a.a)(t,e)},this.normalizeSlot("table-caption"))),n}}}},d80H:function(e,t,i){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){s(e,t,i[t])}))}return e}function o(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.r(t),i.d(t,"MultiDrag",(function(){return yt})),i.d(t,"Sortable",(function(){return Be})),i.d(t,"Swap",(function(){return lt}));function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var d=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=c(/Edge/i),p=c(/firefox/i),h=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),f=c(/iP(ad|od|hone)/i),m=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function b(e,t,i){e.addEventListener(t,i,!d&&g)}function v(e,t,i){e.removeEventListener(t,i,!d&&g)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&y(e,t):y(e,t))||n&&e===i)return e;if(e===i)break}while(e=_(e))}return null}var S,k=/\s+/g;function O(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(k," ")}}function T(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function j(e,t){var i="";if("string"==typeof e)i=e;else do{var n=T(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function C(e,t,i){if(e){var n=e.getElementsByTagName(t),s=0,a=n.length;if(i)for(;s<a;s++)i(n[s],s);return n}return[]}function E(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,i,n,s){if(e.getBoundingClientRect||e===window){var a,r,o,l,c,u,p;if(e!==window&&e!==E()?(r=(a=e.getBoundingClientRect()).top,o=a.left,l=a.bottom,c=a.right,u=a.height,p=a.width):(r=0,o=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||i)&&e!==window&&(s=s||e.parentNode,!d))do{if(s&&s.getBoundingClientRect&&("none"!==T(s,"transform")||i&&"static"!==T(s,"position"))){var h=s.getBoundingClientRect();r-=h.top+parseInt(T(s,"border-top-width")),o-=h.left+parseInt(T(s,"border-left-width")),l=r+a.height,c=o+a.width;break}}while(s=s.parentNode);if(n&&e!==window){var f=j(s||e),m=f&&f.a,g=f&&f.d;f&&(l=(r/=g)+(u/=g),c=(o/=m)+(p/=m))}return{top:r,left:o,bottom:l,right:c,width:p,height:u}}}function x(e,t,i){for(var n=R(e,!0),s=I(e)[t];n;){var a=I(n)[i];if(!("top"===i||"left"===i?s>=a:s<=a))return n;if(n===E())break;n=R(n,!1)}return!1}function D(e,t,i){for(var n=0,s=0,a=e.children;s<a.length;){if("none"!==a[s].style.display&&a[s]!==Be.ghost&&a[s]!==Be.dragged&&w(a[s],i.draggable,e,!1)){if(n===t)return a[s];n++}s++}return null}function P(e,t){for(var i=e.lastElementChild;i&&(i===Be.ghost||"none"===T(i,"display")||t&&!y(i,t));)i=i.previousElementSibling;return i||null}function N(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Be.clone||t&&!y(e,t)||i++;return i}function A(e){var t=0,i=0,n=E();if(e)do{var s=j(e),a=s.a,r=s.d;t+=e.scrollLeft*a,i+=e.scrollTop*r}while(e!==n&&(e=e.parentNode));return[t,i]}function R(e,t){if(!e||!e.getBoundingClientRect)return E();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=T(i);if(i.clientWidth<i.scrollWidth&&("auto"==s.overflowX||"scroll"==s.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==s.overflowY||"scroll"==s.overflowY)){if(!i.getBoundingClientRect||i===document.body)return E();if(n||t)return i;n=!0}}}while(i=i.parentNode);return E()}function L(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $(e,t){return function(){if(!S){var i=arguments,n=this;1===i.length?e.call(n,i[0]):e.apply(n,i),S=setTimeout((function(){S=void 0}),t)}}}function q(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function F(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function B(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function M(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var U="Sortable"+(new Date).getTime();function V(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==T(e,"display")&&e!==Be.ghost){t.push({target:e,rect:I(e)});var i=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=j(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var s=!1,a=0;t.forEach((function(e){var t=0,i=e.target,r=i.fromRect,o=I(i),l=i.prevFromRect,c=i.prevToRect,d=e.rect,u=j(i,!0);u&&(o.top-=u.f,o.left-=u.e),i.toRect=o,i.thisAnimationDuration&&L(l,o)&&!L(r,o)&&(d.top-o.top)/(d.left-o.left)==(r.top-o.top)/(r.left-o.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(d,l,c,n.options)),L(o,r)||(i.prevFromRect=r,i.prevToRect=o,t||(t=n.options.animation),n.animate(i,d,o,t)),t&&(s=!0,a=Math.max(a,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),s?e=setTimeout((function(){"function"==typeof i&&i()}),a):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){T(e,"transition",""),T(e,"transform","");var s=j(this.el),a=s&&s.a,r=s&&s.d,o=(t.left-i.left)/(a||1),l=(t.top-i.top)/(r||1);e.animatingX=!!o,e.animatingY=!!l,T(e,"transform","translate3d("+o+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),T(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var H=[],z={initializeByDefault:!0},G={mount:function(e){for(var t in z)!z.hasOwnProperty(t)||t in e||(e[t]=z[t]);H.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";H.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][s]&&t[n.pluginName][s](r({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](r({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var s in H.forEach((function(n){var s=n.pluginName;if(e.options[s]||n.initializeByDefault){var r=new n(e,t,e.options);r.sortable=e,r.options=e.options,e[s]=r,a(i,r.defaults)}})),e.options)if(e.options.hasOwnProperty(s)){var r=this.modifyOption(e,s,e.options[s]);void 0!==r&&(e.options[s]=r)}},getEventProperties:function(e,t){var i={};return H.forEach((function(n){"function"==typeof n.eventProperties&&a(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return H.forEach((function(s){e[s.pluginName]&&s.optionListeners&&"function"==typeof s.optionListeners[t]&&(n=s.optionListeners[t].call(e[s.pluginName],i))})),n}};function W(e){var t=e.sortable,i=e.rootEl,n=e.name,s=e.targetEl,a=e.cloneEl,o=e.toEl,l=e.fromEl,c=e.oldIndex,p=e.newIndex,h=e.oldDraggableIndex,f=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,b=e.extraEventProperties;if(t=t||i&&i[U]){var v,y=t.options,_="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||d||u?(v=document.createEvent("Event")).initEvent(n,!0,!0):v=new CustomEvent(n,{bubbles:!0,cancelable:!0}),v.to=o||i,v.from=l||i,v.item=s||i,v.clone=a,v.oldIndex=c,v.newIndex=p,v.oldDraggableIndex=h,v.newDraggableIndex=f,v.originalEvent=m,v.pullMode=g?g.lastPutMode:void 0;var w=r({},b,G.getEventProperties(n,t));for(var S in w)v[S]=w[S];i&&i.dispatchEvent(v),y[_]&&y[_].call(t,v)}}var Y=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,s=o(i,["evt"]);G.pluginEvent.bind(Be)(e,t,r({dragEl:Q,parentEl:Z,ghostEl:J,rootEl:X,nextEl:ee,lastDownEl:te,cloneEl:ie,cloneHidden:ne,dragStarted:ge,putSortable:ce,activeSortable:Be.active,originalEvent:n,oldIndex:se,oldDraggableIndex:re,newIndex:ae,newDraggableIndex:oe,hideGhostForTarget:Le,unhideGhostForTarget:$e,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){K({sortable:t,name:e,originalEvent:n})}},s))};function K(e){W(r({putSortable:ce,cloneEl:ie,targetEl:Q,rootEl:X,oldIndex:se,oldDraggableIndex:re,newIndex:ae,newDraggableIndex:oe},e))}var Q,Z,J,X,ee,te,ie,ne,se,ae,re,oe,le,ce,de,ue,pe,he,fe,me,ge,be,ve,ye,_e,we=!1,Se=!1,ke=[],Oe=!1,Te=!1,je=[],Ce=!1,Ee=[],Ie="undefined"!=typeof document,xe=f,De=u||d?"cssFloat":"float",Pe=Ie&&!m&&!f&&"draggable"in document.createElement("div"),Ne=function(){if(Ie){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var i=T(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=D(e,0,t),a=D(e,1,t),r=s&&T(s),o=a&&T(a),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+I(s).width,c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+I(a).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&r.float&&"none"!==r.float){var d="left"===r.float?"left":"right";return!a||"both"!==o.clear&&o.clear!==d?"horizontal":"vertical"}return s&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=n&&"none"===i[De]||a&&"none"===i[De]&&l+c>n)?"vertical":"horizontal"},Re=function(e){function t(e,i){return function(n,s,a,r){var o=n.options.group.name&&s.options.group.name&&n.options.group.name===s.options.group.name;if(null==e&&(i||o))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,s,a,r),i)(n,s,a,r);var l=(i?n:s).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},s=e.group;s&&"object"==n(s)||(s={name:s}),i.name=s.name,i.checkPull=t(s.pull,!0),i.checkPut=t(s.put),i.revertClone=s.revertClone,e.group=i},Le=function(){!Ne&&J&&T(J,"display","none")},$e=function(){!Ne&&J&&T(J,"display","")};Ie&&document.addEventListener("click",(function(e){if(Se)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Se=!1,!1}),!0);var qe=function(e){if(Q){e=e.touches?e.touches[0]:e;var t=(s=e.clientX,a=e.clientY,ke.some((function(e){if(!P(e)){var t=I(e),i=e[U].options.emptyInsertThreshold,n=s>=t.left-i&&s<=t.right+i,o=a>=t.top-i&&a<=t.bottom+i;return i&&n&&o?r=e:void 0}})),r);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[U]._onDragOver(i)}}var s,a,r},Fe=function(e){Q&&Q.parentNode[U]._isOutsideThisEl(e.target)};function Be(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[U]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Be.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in G.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var s in Re(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Pe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?b(e,"pointerdown",this._onTapStart):(b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),ke.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,V())}function Me(e,t,i,n,s,a,r,o){var l,c,p=e[U],h=p.options.onMove;return!window.CustomEvent||d||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=s||t,l.relatedRect=a||I(t),l.willInsertAfter=o,l.originalEvent=r,e.dispatchEvent(l),h&&(c=h.call(p,l,r)),c}function Ue(e){e.draggable=!1}function Ve(){Ce=!1}function He(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function ze(e){return setTimeout(e,0)}function Ge(e){return clearTimeout(e)}Be.prototype={constructor:Be,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(be=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,s=n.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,o=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||o,c=n.filter;if(function(e){Ee.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&Ee.push(n)}}(i),!Q&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||n.disabled||l.isContentEditable||(o=w(o,n.draggable,i,!1))&&o.animated||te===o)){if(se=N(o),re=N(o,n.draggable),"function"==typeof c){if(c.call(this,e,o,this))return K({sortable:t,rootEl:l,name:"filter",targetEl:o,toEl:i,fromEl:i}),Y("filter",t,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=w(l,n.trim(),i,!1))return K({sortable:t,rootEl:n,name:"filter",targetEl:o,fromEl:i,toEl:i}),Y("filter",t,{evt:e}),!0}))))return void(s&&e.cancelable&&e.preventDefault());n.handle&&!w(l,n.handle,i,!1)||this._prepareDragStart(e,r,o)}}},_prepareDragStart:function(e,t,i){var n,s=this,a=s.el,r=s.options,o=a.ownerDocument;if(i&&!Q&&i.parentNode===a){var l=I(i);if(X=a,Z=(Q=i).parentNode,ee=Q.nextSibling,te=i,le=r.group,Be.dragged=Q,de={target:Q,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=de.clientX-l.left,me=de.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Q.style["will-change"]="all",n=function(){Y("delayEnded",s,{evt:e}),Be.eventCanceled?s._onDrop():(s._disableDelayedDragEvents(),!p&&s.nativeDraggable&&(Q.draggable=!0),s._triggerDragStart(e,t),K({sortable:s,name:"choose",originalEvent:e}),O(Q,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){C(Q,e.trim(),Ue)})),b(o,"dragover",qe),b(o,"mousemove",qe),b(o,"touchmove",qe),b(o,"mouseup",s._onDrop),b(o,"touchend",s._onDrop),b(o,"touchcancel",s._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Q.draggable=!0),Y("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||d))n();else{if(Be.eventCanceled)return void this._onDrop();b(o,"mouseup",s._disableDelayedDrag),b(o,"touchend",s._disableDelayedDrag),b(o,"touchcancel",s._disableDelayedDrag),b(o,"mousemove",s._delayedDragTouchMoveHandler),b(o,"touchmove",s._delayedDragTouchMoveHandler),r.supportPointer&&b(o,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(n,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Q&&Ue(Q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):b(document,t?"touchmove":"mousemove",this._onTouchMove):(b(Q,"dragend",this),b(X,"dragstart",this._onDragStart));try{document.selection?ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,X&&Q){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",Fe);var i=this.options;!e&&O(Q,i.dragClass,!1),O(Q,i.ghostClass,!0),Be.active=this,e&&this._appendGhost(),K({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,Le();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(Q.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){if(t[U]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);$e()}},_onTouchMove:function(e){if(de){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,s=e.touches?e.touches[0]:e,a=J&&j(J,!0),r=J&&a&&a.a,o=J&&a&&a.d,l=xe&&_e&&A(_e),c=(s.clientX-de.clientX+n.x)/(r||1)+(l?l[0]-je[0]:0)/(r||1),d=(s.clientY-de.clientY+n.y)/(o||1)+(l?l[1]-je[1]:0)/(o||1);if(!Be.active&&!we){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(J){a?(a.e+=c-(pe||0),a.f+=d-(he||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");T(J,"webkitTransform",u),T(J,"mozTransform",u),T(J,"msTransform",u),T(J,"transform",u),pe=c,he=d,ue=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:X,t=I(Q,!0,xe,!0,e),i=this.options;if(xe){for(_e=e;"static"===T(_e,"position")&&"none"===T(_e,"transform")&&_e!==document;)_e=_e.parentNode;_e!==document.body&&_e!==document.documentElement?(_e===document&&(_e=E()),t.top+=_e.scrollTop,t.left+=_e.scrollLeft):_e=E(),je=A(_e)}O(J=Q.cloneNode(!0),i.ghostClass,!1),O(J,i.fallbackClass,!0),O(J,i.dragClass,!0),T(J,"transition",""),T(J,"transform",""),T(J,"box-sizing","border-box"),T(J,"margin",0),T(J,"top",t.top),T(J,"left",t.left),T(J,"width",t.width),T(J,"height",t.height),T(J,"opacity","0.8"),T(J,"position",xe?"absolute":"fixed"),T(J,"zIndex","100000"),T(J,"pointerEvents","none"),Be.ghost=J,e.appendChild(J),T(J,"transform-origin",fe/parseInt(J.style.width)*100+"% "+me/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,s=i.options;Y("dragStart",this,{evt:e}),Be.eventCanceled?this._onDrop():(Y("setupClone",this),Be.eventCanceled||((ie=F(Q)).draggable=!1,ie.style["will-change"]="",this._hideClone(),O(ie,this.options.chosenClass,!1),Be.clone=ie),i.cloneId=ze((function(){Y("clone",i),Be.eventCanceled||(i.options.removeCloneOnHide||X.insertBefore(ie,Q),i._hideClone(),K({sortable:i,name:"clone"}))})),!t&&O(Q,s.dragClass,!0),t?(Se=!0,i._loopId=setInterval(i._emulateDragOver,50)):(v(document,"mouseup",i._onDrop),v(document,"touchend",i._onDrop),v(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,Q)),b(document,"drop",i),T(Q,"transform","translateZ(0)")),we=!0,i._dragStartId=ze(i._dragStarted.bind(i,t,e)),b(document,"selectstart",i),ge=!0,h&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,s,a=this.el,o=e.target,l=this.options,c=l.group,d=Be.active,u=le===c,p=l.sort,h=ce||d,f=this,m=!1;if(!Ce){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=w(o,l.draggable,a,!0),L("dragOver"),Be.eventCanceled)return m;if(Q.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||f._ignoreWhileAnimating===o)return F(!1);if(Se=!1,d&&!l.disabled&&(u?p||(n=!X.contains(Q)):ce===this||(this.lastPutMode=le.checkPull(this,d,Q,e))&&c.checkPut(this,d,Q,e))){if(s="vertical"===this._getDirection(e,o),t=I(Q),L("dragOverValid"),Be.eventCanceled)return m;if(n)return Z=X,$(),this._hideClone(),L("revert"),Be.eventCanceled||(ee?X.insertBefore(Q,ee):X.appendChild(Q)),F(!0);var g=P(a,l.draggable);if(!g||function(e,t,i){var n=I(P(i.el,i.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,s,this)&&!g.animated){if(g===Q)return F(!1);if(g&&a===e.target&&(o=g),o&&(i=I(o)),!1!==Me(X,a,Q,t,o,i,e,!!o))return $(),a.appendChild(Q),Z=a,B(),F(!0)}else if(o.parentNode===a){i=I(o);var b,v,y,_=Q.parentNode!==a,S=!function(e,t,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,a=i?e.width:e.height,r=i?t.left:t.top,o=i?t.right:t.bottom,l=i?t.width:t.height;return n===r||s===o||n+a/2===r+l/2}(Q.animated&&Q.toRect||t,o.animated&&o.toRect||i,s),k=s?"top":"left",j=x(o,"top","top")||x(Q,"top","top"),C=j?j.scrollTop:void 0;if(be!==o&&(v=i[k],Oe=!1,Te=!S&&l.invertSwap||_),0!==(b=function(e,t,i,n,s,a,r,o){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,d=n?i.top:i.left,u=n?i.bottom:i.right,p=!1;if(!r)if(o&&ye<c*s){if(!Oe&&(1===ve?l>d+c*a/2:l<u-c*a/2)&&(Oe=!0),Oe)p=!0;else if(1===ve?l<d+ye:l>u-ye)return-ve}else if(l>d+c*(1-s)/2&&l<u-c*(1-s)/2)return function(e){return N(Q)<N(e)?1:-1}(t);if((p=p||r)&&(l<d+c*a/2||l>u-c*a/2))return l>d+c/2?1:-1;return 0}(e,o,i,s,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Te,be===o))){var E=N(Q);do{E-=b,y=Z.children[E]}while(y&&("none"===T(y,"display")||y===J))}if(0===b||y===o)return F(!1);be=o,ve=b;var D=o.nextElementSibling,A=!1,R=Me(X,a,Q,t,o,i,e,A=1===b);if(!1!==R)return 1!==R&&-1!==R||(A=1===R),Ce=!0,setTimeout(Ve,30),$(),A&&!D?a.appendChild(Q):o.parentNode.insertBefore(Q,A?D:o),j&&q(j,0,C-j.scrollTop),Z=Q.parentNode,void 0===v||Te||(ye=Math.abs(v-I(o)[k])),B(),F(!0)}if(a.contains(Q))return F(!1)}return!1}function L(l,c){Y(l,f,r({evt:e,isOwner:u,axis:s?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:p,fromSortable:h,target:o,completed:F,onMove:function(i,n){return Me(X,a,Q,t,i,I(i),e,n)},changed:B},c))}function $(){L("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function F(t){return L("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(f),f!==h&&(O(Q,ce?ce.options.ghostClass:d.options.ghostClass,!1),O(Q,l.ghostClass,!0)),ce!==f&&f!==Be.active?ce=f:f===Be.active&&ce&&(ce=null),h===f&&(f._ignoreWhileAnimating=o),f.animateAll((function(){L("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===Q&&!Q.animated||o===a&&!o.animated)&&(be=null),l.dragoverBubble||e.rootEl||o===document||(Q.parentNode[U]._isOutsideThisEl(e.target),!t&&qe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function B(){ae=N(Q),oe=N(Q,l.draggable),K({sortable:f,name:"change",toEl:a,newIndex:ae,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",qe),v(document,"mousemove",qe),v(document,"touchmove",qe)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;ae=N(Q),oe=N(Q,i.draggable),Y("drop",this,{evt:e}),Z=Q&&Q.parentNode,ae=N(Q),oe=N(Q,i.draggable),Be.eventCanceled?this._nulling():(we=!1,Te=!1,Oe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ge(this.cloneId),Ge(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&T(document.body,"user-select",""),T(Q,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(X===Z||ce&&"clone"!==ce.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),Q&&(this.nativeDraggable&&v(Q,"dragend",this),Ue(Q),Q.style["will-change"]="",ge&&!we&&O(Q,ce?ce.options.ghostClass:this.options.ghostClass,!1),O(Q,this.options.chosenClass,!1),K({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==Z?(ae>=0&&(K({rootEl:Z,name:"add",toEl:Z,fromEl:X,originalEvent:e}),K({sortable:this,name:"remove",toEl:Z,originalEvent:e}),K({rootEl:Z,name:"sort",toEl:Z,fromEl:X,originalEvent:e}),K({sortable:this,name:"sort",toEl:Z,originalEvent:e})),ce&&ce.save()):ae!==se&&ae>=0&&(K({sortable:this,name:"update",toEl:Z,originalEvent:e}),K({sortable:this,name:"sort",toEl:Z,originalEvent:e})),Be.active&&(null!=ae&&-1!==ae||(ae=se,oe=re),K({sortable:this,name:"end",toEl:Z,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){Y("nulling",this),X=Q=Z=J=ee=ie=te=ne=de=ue=ge=ae=oe=se=re=be=ve=ce=le=Be.dragged=Be.ghost=Be.clone=Be.active=null,Ee.forEach((function(e){e.checked=!0})),Ee.length=pe=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Q&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,s=i.length,a=this.options;n<s;n++)w(e=i[n],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||He(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach((function(e,n){var s=i.children[n];w(s,this.options.draggable,i,!1)&&(t[e]=s)}),this),e.forEach((function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=G.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&Re(i)},destroy:function(){Y("destroy",this);var e=this.el;e[U]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ke.splice(ke.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(Y("hideClone",this),Be.eventCanceled)return;T(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(Y("showClone",this),Be.eventCanceled)return;X.contains(Q)&&!this.options.group.revertClone?X.insertBefore(ie,Q):ee?X.insertBefore(ie,ee):X.appendChild(ie),this.options.group.revertClone&&this.animate(Q,ie),T(ie,"display",""),ne=!1}}else this._hideClone()}},Ie&&b(document,"touchmove",(function(e){(Be.active||we)&&e.cancelable&&e.preventDefault()})),Be.utils={on:b,off:v,css:T,find:C,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:$,closest:w,toggleClass:O,clone:F,index:N,nextTick:ze,cancelNextTick:Ge,detectDirection:Ae,getChild:D},Be.get=function(e){return e[U]},Be.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Be.utils=r({},Be.utils,e.utils)),G.mount(e)}))},Be.create=function(e,t){return new Be(e,t)},Be.version="1.10.2";var We,Ye,Ke,Qe,Ze,Je,Xe=[],et=!1;function tt(){Xe.forEach((function(e){clearInterval(e.pid)})),Xe=[]}function it(){clearInterval(Je)}var nt,st=$((function(e,t,i,n){if(t.scroll){var s,a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,l=t.scrollSpeed,c=E(),d=!1;Ye!==i&&(Ye=i,tt(),We=t.scroll,s=t.scrollFn,!0===We&&(We=R(i,!0)));var u=0,p=We;do{var h=p,f=I(h),m=f.top,g=f.bottom,b=f.left,v=f.right,y=f.width,_=f.height,w=void 0,S=void 0,k=h.scrollWidth,O=h.scrollHeight,j=T(h),C=h.scrollLeft,x=h.scrollTop;h===c?(w=y<k&&("auto"===j.overflowX||"scroll"===j.overflowX||"visible"===j.overflowX),S=_<O&&("auto"===j.overflowY||"scroll"===j.overflowY||"visible"===j.overflowY)):(w=y<k&&("auto"===j.overflowX||"scroll"===j.overflowX),S=_<O&&("auto"===j.overflowY||"scroll"===j.overflowY));var D=w&&(Math.abs(v-a)<=o&&C+y<k)-(Math.abs(b-a)<=o&&!!C),P=S&&(Math.abs(g-r)<=o&&x+_<O)-(Math.abs(m-r)<=o&&!!x);if(!Xe[u])for(var N=0;N<=u;N++)Xe[N]||(Xe[N]={});Xe[u].vx==D&&Xe[u].vy==P&&Xe[u].el===h||(Xe[u].el=h,Xe[u].vx=D,Xe[u].vy=P,clearInterval(Xe[u].pid),0==D&&0==P||(d=!0,Xe[u].pid=setInterval(function(){n&&0===this.layer&&Be.active._onTouchMove(Ze);var t=Xe[this.layer].vy?Xe[this.layer].vy*l:0,i=Xe[this.layer].vx?Xe[this.layer].vx*l:0;"function"==typeof s&&"continue"!==s.call(Be.dragged.parentNode[U],i,t,e,Ze,Xe[this.layer].el)||q(Xe[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=R(p,!1)));et=d}}),30),at=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,o=e.unhideGhostForTarget;if(t){var l=i||s;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);o(),l&&!l.el.contains(d)&&(a("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function rt(){}function ot(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;nt=t},dragOverValid:function(e){var t=e.completed,i=e.target,n=e.onMove,s=e.activeSortable,a=e.changed,r=e.cancel;if(s.options.swap){var o=this.sortable.el,l=this.options;if(i&&i!==o){var c=nt;!1!==n(i)?(O(i,l.swapClass,!0),nt=i):nt=null,c&&c!==nt&&O(c,l.swapClass,!1)}a(),t(!0),r()}},drop:function(e){var t=e.activeSortable,i=e.putSortable,n=e.dragEl,s=i||this.sortable,a=this.options;nt&&O(nt,a.swapClass,!1),nt&&(a.swap||i&&i.options.swap)&&n!==nt&&(s.captureAnimationState(),s!==t&&t.captureAnimationState(),function(e,t){var i,n,s=e.parentNode,a=t.parentNode;if(!s||!a||s.isEqualNode(t)||a.isEqualNode(e))return;i=N(e),n=N(t),s.isEqualNode(a)&&i<n&&n++;s.insertBefore(t,s.children[i]),a.insertBefore(e,a.children[n])}(n,nt),s.animateAll(),s!==t&&t.animateAll())},nulling:function(){nt=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:nt}}})}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=D(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:at},a(rt,{pluginName:"revertOnSpill"}),ot.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:at},a(ot,{pluginName:"removeOnSpill"});var ct,dt,ut,pt,ht,ft=[],mt=[],gt=!1,bt=!1,vt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?b(document,"pointerup",this._deselectMultiDrag):(b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag)),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,i){var n="";ft.length&&dt===e?ft.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=i.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ut=t},delayEnded:function(){this.isMultiDrag=~ft.indexOf(ut)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var n=0;n<ft.length;n++)mt.push(F(ft[n])),mt[n].sortableIndex=ft[n].sortableIndex,mt[n].draggable=!1,mt[n].style["will-change"]="",O(mt[n],this.options.selectedClass,!1),ft[n]===ut&&O(mt[n],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,n=e.dispatchSortableEvent,s=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ft.length&&dt===t&&(_t(!0,i),n("clone"),s()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,n=e.cancel;this.isMultiDrag&&(_t(!1,i),mt.forEach((function(e){T(e,"display","")})),t(),ht=!1,n())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(mt.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),ht=!0,n())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&dt&&dt.multiDrag._deselectMultiDrag(),ft.forEach((function(e){e.sortableIndex=N(e)})),ft=ft.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),vt=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){ft.forEach((function(e){e!==ut&&T(e,"position","absolute")}));var n=I(ut,!1,!0,!0);ft.forEach((function(e){e!==ut&&B(e,n)})),bt=!0,gt=!0}i.animateAll((function(){bt=!1,gt=!1,t.options.animation&&ft.forEach((function(e){M(e)})),t.options.sort&&wt()}))}},dragOver:function(e){var t=e.target,i=e.completed,n=e.cancel;bt&&~ft.indexOf(t)&&(i(!1),n())},revert:function(e){var t=e.fromSortable,i=e.rootEl,n=e.sortable,s=e.dragRect;ft.length>1&&(ft.forEach((function(e){n.addAnimationState({target:e,rect:bt?I(e):s}),M(e),e.fromRect=s,t.removeAnimationState(e)})),bt=!1,function(e,t){ft.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,n=e.insertion,s=e.activeSortable,a=e.parentEl,r=e.putSortable,o=this.options;if(n){if(i&&s._hideClone(),gt=!1,o.animation&&ft.length>1&&(bt||!i&&!s.options.sort&&!r)){var l=I(ut,!1,!0,!0);ft.forEach((function(e){e!==ut&&(B(e,l),a.appendChild(e))})),bt=!0}if(!i)if(bt||wt(),ft.length>1){var c=ht;s._showClone(t),s.options.animation&&!ht&&c&&mt.forEach((function(e){s.addAnimationState({target:e,rect:pt}),e.fromRect=pt,e.thisAnimationDuration=null}))}else s._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,n=e.activeSortable;if(ft.forEach((function(e){e.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){pt=a({},t);var s=j(ut,!0);pt.top-=s.f,pt.left-=s.e}},dragOverAnimationComplete:function(){bt&&(bt=!1,wt())},drop:function(e){var t=e.originalEvent,i=e.rootEl,n=e.parentEl,s=e.sortable,a=e.dispatchSortableEvent,r=e.oldIndex,o=e.putSortable,l=o||this.sortable;if(t){var c=this.options,d=n.children;if(!vt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),O(ut,c.selectedClass,!~ft.indexOf(ut)),~ft.indexOf(ut))ft.splice(ft.indexOf(ut),1),ct=null,W({sortable:s,rootEl:i,name:"deselect",targetEl:ut,originalEvt:t});else{if(ft.push(ut),W({sortable:s,rootEl:i,name:"select",targetEl:ut,originalEvt:t}),t.shiftKey&&ct&&s.el.contains(ct)){var u,p,h=N(ct),f=N(ut);if(~h&&~f&&h!==f)for(f>h?(p=h,u=f):(p=f,u=h+1);p<u;p++)~ft.indexOf(d[p])||(O(d[p],c.selectedClass,!0),ft.push(d[p]),W({sortable:s,rootEl:i,name:"select",targetEl:d[p],originalEvt:t}))}else ct=ut;dt=l}if(vt&&this.isMultiDrag){if((n[U].options.sort||n!==i)&&ft.length>1){var m=I(ut),g=N(ut,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(ut.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(c.animation&&(ut.fromRect=m,ft.forEach((function(e){if(e.thisAnimationDuration=null,e!==ut){var t=bt?I(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),wt(),ft.forEach((function(e){d[g]?n.insertBefore(e,d[g]):n.appendChild(e),g++})),r===N(ut))){var b=!1;ft.forEach((function(e){e.sortableIndex===N(e)||(b=!0)})),b&&a("update")}ft.forEach((function(e){M(e)})),l.animateAll()}dt=l}(i===n||o&&"clone"!==o.lastPutMode)&&mt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=vt=!1,mt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),v(document,"pointerup",this._deselectMultiDrag),v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==vt&&vt||dt!==this.sortable||e&&w(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ft.length;){var t=ft[0];O(t,this.options.selectedClass,!1),ft.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[U];t&&t.options.multiDrag&&!~ft.indexOf(e)&&(dt&&dt!==t&&(dt.multiDrag._deselectMultiDrag(),dt=t),O(e,t.options.selectedClass,!0),ft.push(e))},deselect:function(e){var t=e.parentNode[U],i=ft.indexOf(e);t&&t.options.multiDrag&&~i&&(O(e,t.options.selectedClass,!1),ft.splice(i,1))}},eventProperties:function(){var e=this,t=[],i=[];return ft.forEach((function(n){var s;t.push({multiDragElement:n,index:n.sortableIndex}),s=bt&&n!==ut?-1:bt?N(n,":not(."+e.options.selectedClass+")"):N(n),i.push({multiDragElement:n,index:s})})),{items:l(ft),clones:[].concat(mt),oldIndicies:t,newIndicies:i}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function _t(e,t){mt.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}function wt(){ft.forEach((function(e){e!==ut&&e.parentNode&&e.parentNode.removeChild(e)}))}Be.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):t.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),it(),tt(),clearTimeout(S),S=void 0},nulling:function(){Ze=Ye=We=et=Je=Ke=Qe=null,Xe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(n,s);if(Ze=e,t||u||d||h){st(e,this.options,a,t);var r=R(a,!0);!et||Je&&n===Ke&&s===Qe||(Je&&it(),Je=setInterval((function(){var a=R(document.elementFromPoint(n,s),!0);a!==r&&(r=a,tt()),st(e,i.options,a,t)}),10),Ke=n,Qe=s)}else{if(!this.options.bubbleScroll||R(a,!0)===E())return void tt();st(e,this.options,R(a,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Be.mount(ot,rt),t.default=Be},dNbP:function(e,t,i){"use strict";var n=i("CkNe"),s=i("t9l/");t.a={props:{discussionId:{type:String,required:!1,default:null},resolveDiscussion:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},computed:{...Object(n.d)(["isDiscussionResolved"]),resolvedStatusMessage(){let e;const t=this.isDiscussionResolved(this.draft?this.draft.discussion_id:this.discussionId),i=this.draft?this.draft.resolve_discussion:this.resolveDiscussion;if(!i||!t||this.$options.showStaysResolved)return i?e=t?Object(s.g)("MergeRequests|Thread stays resolved"):Object(s.g)("MergeRequests|Thread will be resolved"):t?e=Object(s.g)("MergeRequests|Thread will be unresolved"):this.$options.showStaysResolved&&(e=Object(s.g)("MergeRequests|Thread stays unresolved")),e},componentClasses(){return this.resolveDiscussion?"is-resolving-discussion":"is-unresolving-discussion"},resolveButtonTitle(){if(this.isDraft||this.discussionId)return this.resolvedStatusMessage;let e=Object(s.a)("Resolve thread");return this.resolvedBy&&(e=Object(s.h)(Object(s.a)("Resolved by %{name}"),{name:this.resolvedBy.name},!1)),e}},showStaysResolved:!0}},dTzf:function(e,t,i){"use strict";var n=i("RlQ7"),s=i.n(n),a=i("cuRJ"),r=i("ly/8"),o=i("dkv8"),l=i.n(o),c=i("/LsX"),d={components:{GlButton:a.a},directives:{GlTooltip:r.a},props:{text:{type:String,required:!1,default:""},id:{type:String,required:!1,default:function(){return s()("modal-copy-button-")}},container:{type:String,required:!1,default:""},cssClasses:{type:String,required:!1,default:""},modalId:{type:String,required:!1,default:""},target:{type:String,required:!1,default:""},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"primary"}},computed:{modalDomId(){return this.modalId?`#${this.modalId}`:""}},mounted(){var e=this;this.$nextTick((function(){e.clipboard=new l.a(e.$el,{container:document.querySelector(`${e.modalDomId} div.modal-content`)||document.getElementById(e.container)||document.body}),e.clipboard.on("success",(function(t){e.$root.$emit(c.d,e.id),e.$emit("success",t),t.clearSelection(),t.trigger.blur()})).on("error",(function(t){return e.$emit("error",t)}))}))},destroyed(){this.clipboard&&this.clipboard.destroy()}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:e.tooltipPlacement,container:e.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:e.cssClasses,attrs:{id:e.id,"data-clipboard-target":e.target,"data-clipboard-text":e.text,title:e.title,"aria-label":e.title,category:e.category,icon:"copy-to-clipboard"}})}),[],!1,null,null,null);t.a=p.exports},dX8G:function(e,t,i){"use strict";var n=i("CkNe"),s=i("Ks8L"),a=i("yZaS"),r=i("teVv"),o=i("rh11"),l=i("t9l/"),c=i("ZJPx");t.a={computed:{...Object(n.f)({noteableData:function(e){return e.notes.noteableData},notesData:function(e){return e.notes.notesData},withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}}),...Object(n.d)("diffs",["getDiffFileByHash"]),...Object(n.d)("batchComments",["shouldRenderDraftRowInDiscussion","draftForDiscussion"]),...Object(n.f)("diffs",["commit"])},methods:{...Object(n.c)("diffs",["cancelCommentForm"]),...Object(n.c)("batchComments",["addDraftToReview","saveDraft","insertDraftIntoDrafts"]),addReplyToReview(e,t){var i=this;const n=Object(s.b)({in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,notesData:this.notesData,draft_note:{note:e,resolve_discussion:t}});this.discussion.for_commit&&(n.note_project_id=this.discussion.project_id),this.isReplying=!1,this.saveDraft(n).then((function(){i.handleClearForm(i.discussion.line_code)})).catch((function(){Object(r.f)({message:Object(l.g)("MergeRequests|An error occurred while saving the draft comment.")})}))},addToReview(e){var t,i,n=this;const o=this.line&&this.commentLineStart&&Object(c.b)(this.commentLineStart,this.line)||{},d=this.diffFileCommentForm?a.B:a.cb,u=this.getDiffFileByHash(this.diffFileHash),p=Object(s.a)({note:e,notesData:this.notesData,noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:u,linePosition:this.position,positionType:d,...this.diffFileCommentForm,lineRange:o}),h=this.commit&&(null==this?void 0:null===(t=this.diffFile)||void 0===t?void 0:null===(i=t.diff_refs)||void 0===i?void 0:i.head_sha);return p.data.note.commit_id=h||null,this.saveDraft(p).then((function(){d===a.B?n.closeDiffFileCommentForm(n.diffFileHash):n.handleClearForm(n.line.line_code)})).catch((function(){Object(r.f)({message:Object(l.g)("MergeRequests|An error occurred while saving the draft comment.")})}))},handleClearForm(e){var t=this;this.cancelCommentForm({lineCode:e,fileHash:this.diffFileHash}),this.$nextTick((function(){t.autosaveKey?Object(o.a)(t.autosaveKey):t.resetAutoSave()}))},showDraft(e){return this.withBatchComments&&this.shouldRenderDraftRowInDiscussion(e)}}}},dkhw:function(e,t,i){"use strict";var n=i("H8gz"),s=i("zLBL"),a=i("9LGn"),r=i("ly/8"),o=i("CkNe"),l=i("LcVr"),c=i("Ad8m"),d={safeHtmlConfig:{ADD_TAGS:["gl-emoji"]},components:{timeAgoTooltip:l.a,GitlabTeamMemberBadge:function(){return i.e(410).then(i.bind(null,"eaE1"))},GlIcon:n.a,GlLoadingIcon:s.a,UserNameWithStatus:c.a},directives:{SafeHtml:a.a,GlTooltip:r.a},props:{author:{type:Object,required:!1,default:function(){return{}}},createdAt:{type:String,required:!1,default:null},actionText:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:null},includeToggle:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},showSpinner:{type:Boolean,required:!1,default:!0},isConfidential:{type:Boolean,required:!1,default:!1}},data:()=>({isUsernameLinkHovered:!1,emojiTitle:"",authorStatusHasTooltip:!1}),computed:{toggleChevronIconName(){return this.expanded?"chevron-up":"chevron-down"},noteTimestampLink(){return this.noteId?`#note_${this.noteId}`:void 0},hasAuthor(){return this.author&&Object.keys(this.author).length},authorLinkClasses(){return{hover:this.isUsernameLinkHovered,"text-underline":this.isUsernameLinkHovered,"author-name-link":!0,"js-user-link":!0}},authorStatus(){var e;return!(null===(e=this.author)||void 0===e||!e.show_status)&&this.author.status_tooltip_html},emojiElement(){var e,t;return null===(e=this.$refs)||void 0===e?void 0:null===(t=e.authorStatus)||void 0===t?void 0:t.querySelector("gl-emoji")},authorName(){return this.author.name}},mounted(){var e,t,i;this.emojiTitle=this.emojiElement?this.emojiElement.getAttribute("title"):"";const n=null===(e=this.$refs)||void 0===e?void 0:null===(t=e.authorStatus)||void 0===t?void 0:null===(i=t.querySelector(".user-status-emoji"))||void 0===i?void 0:i.getAttribute("title");this.authorStatusHasTooltip=n&&""!==n},methods:{...Object(o.c)(["setTargetNoteHash"]),handleToggle(){this.$emit("toggleHandler")},updateTargetNoteHash(){this.$store&&this.setTargetNoteHash(this.noteTimestampLink)},removeEmojiTitle(){this.emojiElement.removeAttribute("title")},addEmojiTitle(){this.emojiElement.setAttribute("title",this.emojiTitle)},handleUsernameMouseEnter(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseenter")),this.isUsernameLinkHovered=!0},handleUsernameMouseLeave(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseleave")),this.isUsernameLinkHovered=!1},userAvailability:e=>(null==e?void 0:e.availability)||""}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-header-info"},[e.includeToggle?i("div",{ref:"discussionActions",staticClass:"discussion-actions"},[i("button",{staticClass:"note-action-button discussion-toggle-button js-vue-toggle-button",attrs:{type:"button"},on:{click:e.handleToggle}},[i("gl-icon",{ref:"chevronIcon",attrs:{name:e.toggleChevronIconName}}),e._v("\n      "+e._s(e.__("Toggle thread"))+"\n    ")],1)]):e._e(),e._v(" "),e.hasAuthor?[i("a",{ref:"authorNameLink",class:e.authorLinkClasses,attrs:{href:e.author.path,"data-user-id":e.author.id,"data-username":e.author.username}},[e._t("note-header-info"),e._v(" "),i("user-name-with-status",{attrs:{name:e.authorName,availability:e.userAvailability(e.author),"container-classes":"note-header-author-name gl-font-weight-bold"}})],2),e._v(" "),e.authorStatus?i("span",e._g({directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.authorStatus,expression:"authorStatus",arg:e.$options.safeHtmlConfig}],ref:"authorStatus"},e.authorStatusHasTooltip?{mouseenter:e.removeEmojiTitle,mouseleave:e.addEmojiTitle}:{})):e._e(),e._v(" "),i("span",{staticClass:"text-nowrap author-username"},[i("a",{ref:"authorUsernameLink",staticClass:"author-username-link",attrs:{href:e.author.path},on:{mouseenter:e.handleUsernameMouseEnter,mouseleave:e.handleUsernameMouseLeave}},[i("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.author.username))])]),e._v(" "),e.author&&e.author.is_gitlab_employee?i("gitlab-team-member-badge"):e._e()],1)]:i("span",[e._v(e._s(e.__("A deleted user")))]),e._v(" "),i("span",{staticClass:"note-headline-light note-headline-meta"},[i("span",{staticClass:"system-note-message",attrs:{"data-qa-selector":"system_note_content"}},[e._t("default")],2),e._v(" "),e.createdAt?[i("span",{ref:"actionText",staticClass:"system-note-separator"},[e.actionText?[e._v(e._s(e.actionText))]:e._e()],2),e._v(" "),e.noteTimestampLink?i("a",{ref:"noteTimestampLink",staticClass:"note-timestamp system-note-separator",attrs:{href:e.noteTimestampLink},on:{click:e.updateTargetNoteHash}},[i("time-ago-tooltip",{attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})],1):i("time-ago-tooltip",{ref:"noteTimestamp",attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),e.isConfidential?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-ml-1 gl-text-orange-700 align-middle",attrs:{"data-testid":"confidentialIndicator",name:"eye-slash",size:16,title:e.s__("Notes|This comment is confidential and only visible to project members")}}):e._e(),e._v(" "),e._t("extra-controls"),e._v(" "),e.showSpinner?i("gl-loading-icon",{ref:"spinner",staticClass:"editing-spinner",attrs:{size:"sm",label:e.__("Comment is being updated")}}):e._e()],2)],2)}),[],!1,null,null,null);t.a=p.exports},eT5B:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("q+nE"),s=i("CkNe"),a=i("aRps");n.default.use(s.b);const r=function(){return new s.b.Store(Object(a.a)())};const o=r()},eV0l:function(e,t,i){var n=i("RGzp"),s=i("87TT"),a=i("MfoV"),r=i("qt7G");e.exports=function(e,t,i){return e=a(e),void 0===(t=i?void 0:t)?s(e)?r(e):n(e):e.match(t)||[]}},eko4:function(e,t,i){"use strict";var n=i("A1CF"),s=i.n(n),a=i("H8gz"),r=i("F+K/"),o=i("cuRJ"),l=i("ZplN"),c=i("OkMp"),d=i("0X+3"),u=i("OqKX"),p=i("OkA1"),h=i("zLBL"),f=i("ly/8"),m=i("9LGn"),g=i("CkNe"),b=i("QJim"),v=i("oj/M"),y=i("vRHk"),_=i("t9l/"),w=i("/MVl"),S=i("qn5R"),k=i("Zxcm"),O=i("yZaS"),T=i("Jrby"),j=i("pmYr"),C=i("gZDK"),E=i("WUCt"),I={components:{ClipboardButton:w.a,GlIcon:a.a,FileIcon:S.a,DiffStats:E.a,GlBadge:r.a,GlButton:o.a,GlButtonGroup:l.a,GlDropdown:c.a,GlDropdownItem:d.a,GlDropdownDivider:u.a,GlFormCheckbox:p.a,GlLoadingIcon:h.a},directives:{GlTooltip:f.a,SafeHtml:m.a},mixins:[Object(k.a)(),Object(b.IdState)({idProp:function(e){return e.diffFile.file_hash}})],i18n:{...T.c,compareButtonLabel:Object(_.a)("Compare submodule commit revisions")},props:{discussionPath:{type:String,required:!1,default:""},diffFile:{type:Object,required:!0},collapsible:{type:Boolean,required:!1,default:!1},addMergeRequestButtons:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},canCurrentUserFork:{type:Boolean,required:!0},viewDiffsFileByFile:{type:Boolean,required:!1,default:!1},showLocalFileReviews:{type:Boolean,required:!1,default:!1},reviewed:{type:Boolean,required:!1,default:!1},codequalityDiff:{type:Array,required:!1,default:function(){return[]}}},idState:()=>({moreActionsShown:!1}),computed:{...Object(g.f)("diffs",["latestDiff"]),...Object(g.d)("diffs",["diffHasExpandedDiscussions","diffHasDiscussions"]),diffContentIDSelector(){return`#diff-content-${this.diffFile.file_hash}`},titleLink(){return this.diffFile.submodule?this.diffFile.submodule_tree_url||this.diffFile.submodule_link:this.discussionPath?this.discussionPath:this.diffContentIDSelector},submoduleDiffCompareLinkText(){if(this.diffFile.submodule_compare){const e=s()(Object(y.w)(this.diffFile.submodule_compare.old_sha)),t=s()(Object(y.w)(this.diffFile.submodule_compare.new_sha));return Object(_.h)(Object(_.a)("Compare %{oldCommitId}...%{newCommitId}"),{oldCommitId:`<span class="commit-sha">${e}</span>`,newCommitId:`<span class="commit-sha">${t}</span>`},!1)}return null},filePath(){return this.diffFile.submodule?`${this.diffFile.file_path} @ ${Object(y.w)(this.diffFile.blob.id)}`:this.diffFile.deleted_file?Object(_.h)(Object(_.a)("%{filePath} deleted"),{filePath:this.diffFile.file_path},!1):this.diffFile.file_path},isUsingLfs(){return this.diffFile.stored_externally&&"lfs"===this.diffFile.external_storage},isCollapsed(){return Object(j.c)(this.diffFile,{fileByFile:this.viewDiffsFileByFile})},collapseIcon(){return this.expanded?"chevron-down":"chevron-right"},viewFileButtonText(){const e=s()(Object(y.w)(this.diffFile.content_sha));return Object(_.h)(Object(_.g)("MergeRequests|View file @ %{commitId}"),{commitId:e},!1)},viewReplacedFileButtonText(){const e=s()(Object(y.w)(this.diffFile.diff_refs.base_sha));return Object(_.h)(Object(_.g)("MergeRequests|View replaced file @ %{commitId}"),{commitId:e})},gfmCopyText(){return`\`${this.diffFile.file_path}\``},isFileRenamed(){return this.diffFile.renamed_file},isModeChanged(){return this.diffFile.mode_changed},expandDiffToFullFileTitle(){return this.diffFile.isShowingFullFile?Object(_.g)("MRDiff|Show changes only"):Object(_.g)("MRDiff|Show full file")},showEditButton(){var e;return(null===(e=this.diffFile.blob)||void 0===e?void 0:e.readable_text)&&!this.diffFile.deleted_file&&(this.diffFile.edit_path||this.diffFile.ide_edit_path)},isReviewable(){return Object(C.d)(this.diffFile)},externalUrlLabel(){return Object(_.h)(Object(_.a)("View on %{url}"),{url:this.diffFile.formatted_external_url})}},watch:{"idState.moreActionsShown":{handler(e){const t=this.$el.closest(".vue-recycle-scroller__item-view");t&&(t.style.zIndex=e?"1":null)}}},methods:{...Object(g.c)("diffs",["toggleFileDiscussions","toggleFileDiscussionWrappers","toggleFullDiff","setCurrentFileHash","reviewFile","setFileCollapsedByUser"]),handleToggleFile(){this.$emit("toggleFile")},showForkMessage(e){this.canCurrentUserFork&&!this.diffFile.can_modify_blob&&(e.preventDefault(),this.$emit("showForkMessage"))},handleFileNameClick(e){if(!(this.diffFile.submodule_tree_url||this.diffFile.submodule_link||this.discussionPath)){e.preventDefault();const t=this.diffContentIDSelector;Object(v.M)(document.querySelector(t)),window.location.hash=t,this.viewDiffsFileByFile||this.setCurrentFileHash(this.diffFile.file_hash)}},setMoreActionsShown(e){this.idState.moreActionsShown=e},toggleReview(e){const t=this.isCollapsed&&Object(j.a)(this.diffFile)===O.n,i=this.expanded,n=!i,s=e;this.reviewFile({file:this.diffFile,reviewed:s}),s&&t&&this.setFileCollapsedByUser({filePath:this.diffFile.file_path,collapsed:!0}),(i&&s||n&&!s)&&this.$emit("toggleFile")}}},x=i("bPvS"),D=Object(x.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"header",staticClass:"js-file-title file-title file-title-flex-parent",class:{"gl-z-dropdown-menu!":e.idState.moreActionsShown},attrs:{"data-qa-selector":"file_title_container","data-qa-file-name":e.filePath},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleToggleFile(t)}}},[i("div",{staticClass:"file-header-content"},[e.collapsible?i("gl-icon",{ref:"collapseIcon",staticClass:"diff-toggle-caret gl-mr-2",attrs:{name:e.collapseIcon,size:16},on:{click:function(t){return t.stopPropagation(),e.handleToggleFile(t)}}}):e._e(),e._v(" "),i("a",{ref:"titleWrapper",staticClass:"gl-mr-2 gl-text-decoration-none! gl-word-break-all",attrs:{"v-once":!e.viewDiffsFileByFile,href:e.titleLink},on:{click:e.handleFileNameClick}},[i("file-icon",{attrs:{"file-name":e.filePath,size:16,"aria-hidden":"true","css-classes":"gl-mr-2",submodule:e.diffFile.submodule}}),e._v(" "),e.isFileRenamed?i("span",[i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.old_path_html,expression:"diffFile.old_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.old_path}}),e._v("\n        \n        "),i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.new_path_html,expression:"diffFile.new_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.new_path}})]):i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.filePath,"data-container":"body","data-qa-selector":"file_name_content"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")])],1),e._v(" "),i("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.diffFile.file_path,gfm:e.gfmCopyText,"data-testid":"diff-file-copy-clipboard",category:"tertiary","data-track-action":"click_copy_file_button","data-track-label":"diff_copy_file_path_button","data-track-property":"diff_copy_file"}}),e._v(" "),e.isModeChanged?i("small",{ref:"fileMode",staticClass:"mr-1"},[e._v("\n      "+e._s(e.diffFile.a_mode)+"  "+e._s(e.diffFile.b_mode)+"\n    ")]):e._e(),e._v(" "),e.isUsingLfs?i("gl-badge",{staticClass:"gl-mr-2",attrs:{variant:"neutral","data-testid":"label-lfs"}},[e._v(e._s(e.__("LFS")))]):e._e()],1),e._v(" "),!e.diffFile.submodule&&e.addMergeRequestButtons?i("div",{staticClass:"file-actions d-flex align-items-center gl-ml-auto gl-align-self-start"},[i("diff-stats",{attrs:{"diff-file":e.diffFile,"added-lines":e.diffFile.added_lines,"removed-lines":e.diffFile.removed_lines}}),e._v(" "),e.isReviewable&&e.showLocalFileReviews?i("gl-form-checkbox",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"gl-mr-5 gl-display-flex gl-align-items-center",attrs:{"data-testid":"fileReviewCheckbox",title:e.$options.i18n.fileReviewTooltip,checked:e.reviewed},on:{change:e.toggleReview}},[e._v("\n      "+e._s(e.$options.i18n.fileReviewLabel)+"\n    ")]):e._e(),e._v(" "),i("gl-button-group",{staticClass:"gl-pt-0!"},[e.diffFile.external_url?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"externalLink",attrs:{href:e.diffFile.external_url,title:e.externalUrlLabel,"aria-label":e.externalUrlLabel,target:"_blank","data-track-action":"click_toggle_external_button","data-track-label":"diff_toggle_external_button","data-track-property":"diff_toggle_external",icon:"external-link"}}):e._e(),e._v(" "),i("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",value:e.$options.i18n.optionsDropdownTitle,expression:"$options.i18n.optionsDropdownTitle",modifiers:{hover:!0,focus:!0}}],staticClass:"gl-pt-0!",attrs:{right:"","toggle-class":"btn-icon js-diff-more-actions","data-qa-selector":"dropdown_button"},on:{show:function(t){return e.setMoreActionsShown(!0)},hidden:function(t){return e.setMoreActionsShown(!1)}},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("gl-icon",{staticClass:"mr-0",attrs:{name:"ellipsis_v"}}),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.$options.i18n.optionsDropdownTitle))])]},proxy:!0}],null,!1,1529039611)},[e._v(" "),e.diffFile.replaced_view_path?i("gl-dropdown-item",{ref:"replacedFileButton",attrs:{href:e.diffFile.replaced_view_path,target:"_blank"}},[e._v("\n          "+e._s(e.viewReplacedFileButtonText)+"\n        ")]):e._e(),e._v(" "),i("gl-dropdown-item",{ref:"viewButton",attrs:{href:e.diffFile.view_path,target:"_blank"}},[e._v("\n          "+e._s(e.viewFileButtonText)+"\n        ")]),e._v(" "),e.showEditButton?[e.diffFile.edit_path?i("gl-dropdown-item",{ref:"editButton",staticClass:"js-edit-blob",attrs:{href:e.diffFile.edit_path},on:{click:e.showForkMessage}},[e._v("\n            "+e._s(e.__("Edit in single-file editor"))+"\n          ")]):e._e(),e._v(" "),e.diffFile.edit_path?i("gl-dropdown-item",{ref:"ideEditButton",staticClass:"js-ide-edit-blob",attrs:{href:e.diffFile.ide_edit_path,"data-qa-selector":"edit_in_ide_button"}},[e._v("\n            "+e._s(e.__("Edit in Web IDE"))+"\n          ")]):e._e()]:e._e(),e._v(" "),e.isCollapsed?e._e():[!e.diffFile.is_fully_expanded||e.diffHasDiscussions(e.diffFile)?i("gl-dropdown-divider"):e._e(),e._v(" "),e.diffHasDiscussions(e.diffFile)?i("gl-dropdown-item",{ref:"toggleDiscussionsButton",attrs:{"data-qa-selector":"toggle_comments_button"},on:{click:function(t){return e.toggleFileDiscussionWrappers(e.diffFile)}}},[e.diffHasExpandedDiscussions(e.diffFile)?[e._v("\n              "+e._s(e.__("Hide comments on this file"))+"\n            ")]:[e._v("\n              "+e._s(e.__("Show comments on this file"))+"\n            ")]],2):e._e(),e._v(" "),e.diffFile.is_fully_expanded?e._e():i("gl-dropdown-item",{ref:"expandDiffToFullFileButton",attrs:{disabled:e.diffFile.isLoadingFullFile},on:{click:function(t){return e.toggleFullDiff(e.diffFile.file_path)}}},[e.diffFile.isLoadingFullFile?i("gl-loading-icon",{attrs:{size:"sm",inline:""}}):e._e(),e._v("\n            "+e._s(e.expandDiffToFullFileTitle)+"\n          ")],1)]],2)],1)],1):e._e(),e._v(" "),e.diffFile.submodule_compare?i("div",{staticClass:"file-actions d-none d-sm-flex align-items-center flex-wrap"},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}},{name:"safe-html",rawName:"v-safe-html",value:e.submoduleDiffCompareLinkText,expression:"submoduleDiffCompareLinkText"}],staticClass:"submodule-compare",attrs:{title:e.$options.i18n.compareButtonLabel,"aria-label":e.$options.i18n.compareButtonLabel,href:e.diffFile.submodule_compare.url}})],1):e._e()])}),[],!1,null,null,null);t.a=D.exports},fJoV:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n=i("t9l/");const s={CRITICAL:Object(n.g)("severity|Critical"),HIGH:Object(n.g)("severity|High"),MEDIUM:Object(n.g)("severity|Medium"),LOW:Object(n.g)("severity|Low"),INFO:Object(n.g)("severity|Info"),UNKNOWN:Object(n.g)("severity|Unknown")},a={OPERATIONS:{TITLE:"OPERATIONS",STATUSES:{TRIGGERED:Object(n.g)("AlertManagement|Triggered"),ACKNOWLEDGED:Object(n.g)("AlertManagement|Acknowledged"),RESOLVED:Object(n.g)("AlertManagement|Resolved")},TRACK_ALERTS_DETAILS_VIEWS_OPTIONS:{category:"Alert Management",action:"view_alert_details"},TRACK_ALERT_STATUS_UPDATE_OPTIONS:{category:"Alert Management",action:"update_alert_status",label:"Status"}},THREAT_MONITORING:{TITLE:"THREAT_MONITORING",STATUSES:{TRIGGERED:Object(n.g)("ThreatMonitoring|Unreviewed"),ACKNOWLEDGED:Object(n.g)("ThreatMonitoring|In review"),RESOLVED:Object(n.g)("ThreatMonitoring|Resolved"),IGNORED:Object(n.g)("ThreatMonitoring|Dismissed")}}}},fpFD:function(e,t,i){"use strict";var n=i("mABg"),s=i.n(n),a=i("CkNe"),r={computed:{diffFileDiscussions(){return this.allDiscussions.filter((function(e){return!e.isDraft}))}},methods:{...Object(a.c)(["toggleDiscussion"]),clickedToggle(e){e.isDraft||this.toggleDiscussion({discussionId:e.id})},toggleText(e,t){const i=t+1;return e.isDraft?i-this.diffFileDiscussions.length:i}}};function o(e,t){return 100*e/t}var l={name:"ImageDiffOverlay",components:{DesignNotePin:i("CgKM").a},mixins:[r],props:{discussions:{type:[Array,Object],required:!0},fileHash:{type:String,required:!0},canComment:{type:Boolean,required:!1,default:!1},showCommentIcon:{type:Boolean,required:!1,default:!1},badgeClass:{type:String,required:!1,default:""},shouldToggleDiscussion:{type:Boolean,required:!1,default:!0},renderedWidth:{type:Number,required:!0},renderedHeight:{type:Number,required:!0}},computed:{...Object(a.d)("diffs",["getDiffFileByHash","getCommentFormForDiffFile"]),currentCommentForm(){return this.getCommentFormForDiffFile(this.fileHash)},allDiscussions(){return s()(this.discussions)?this.discussions:[this.discussions]}},methods:{...Object(a.c)("diffs",["openDiffFileCommentForm"]),getImageDimensions(){return{width:Math.round(this.$parent.width),height:Math.round(this.$parent.height)}},getPositionForObject(e){const{x:t,y:i,width:n,height:s}=e;return{x:t/n*100,y:i/s*100}},getPosition(e){const{x:t,y:i}=this.getPositionForObject(e.position);return{left:`${t}%`,top:`${i}%`}},clickedImage(e,t){const{width:i,height:n}=this.getImageDimensions(),s=o(e,this.renderedWidth),a=o(t,this.renderedHeight);this.openDiffFileCommentForm({fileHash:this.fileHash,width:i,height:n,x:Math.round(i*(s/100)),y:Math.round(n*(a/100)),xPercent:s,yPercent:a})}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"position-absolute w-100 h-100 image-diff-overlay"},[e.canComment?i("button",{staticClass:"btn-transparent position-absolute image-diff-overlay-add-comment w-100 h-100 js-add-image-diff-note-button",attrs:{type:"button"},on:{click:function(t){return e.clickedImage(t.offsetX,t.offsetY)}}},[i("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.__("Add image comment"))+" ")])]):e._e(),e._v(" "),e._l(e.allDiscussions,(function(t,n){return i("design-note-pin",{key:t.id,staticClass:"js-image-badge",class:e.badgeClass,attrs:{label:e.showCommentIcon?null:e.toggleText(t,n),position:e.getPosition(t),"aria-label":e.__("Show comments"),"is-draft":t.isDraft,"is-resolved":t.resolved,"is-on-image":"",disabled:!e.shouldToggleDiscussion},on:{click:function(i){return e.clickedToggle(t)}}})})),e._v(" "),e.canComment&&e.currentCommentForm?i("design-note-pin",{attrs:{position:{left:e.currentCommentForm.xPercent+"%",top:e.currentCommentForm.yPercent+"%"}}}):e._e()],2)}),[],!1,null,null,null);t.a=d.exports},fydA:function(e,t,i){"use strict";var n=i("oj/M");t.a=class{constructor(){this.state={relatedIssues:[],pendingReferences:[]}}setRelatedIssues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.relatedIssues=Object(n.h)(e,{deep:!0})}addRelatedIssues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setRelatedIssues(this.state.relatedIssues.concat(e))}removeRelatedIssue(e){this.state.relatedIssues=this.state.relatedIssues.filter((function(t){return t.id!==e.id}))}updateIssueOrder(e,t){if(this.state.relatedIssues.length>0){const i=this.state.relatedIssues.splice(e,1)[0];this.state.relatedIssues.splice(t,0,i)}}setPendingReferences(e){this.state.pendingReferences=e.filter((function(t,i){return e.indexOf(t)===i}))}addPendingReferences(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.state.pendingReferences.concat(e);this.setPendingReferences(t)}removePendingRelatedIssue(e){this.state.pendingReferences=this.state.pendingReferences.filter((function(t,i){return i!==e}))}}},gZDK:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"b",(function(){return c}));i("SXnf"),i("f5Le"),i("TTAZ"),i("W2Di"),i("9gLG"),i("pO+W"),i("DGqX"),i("DuA4"),i("8AuF"),i("bDpz"),i("JbNT"),i("CYm8"),i("s4MS"),i("fDBp"),i("Z+bI"),i("n0qn");function n(e){return`${e}-file-reviews`}function s(e,t){const i=e[t.file_identifier_hash];return!(null==t||!t.id||null==i||!i.length)&&new Set(i).has(t.id)}function a(e,t){return e.reduce((function(e,i){return{...e,[i.id]:s(t,i)}}),{})}function r(e){const t=localStorage.getItem(n(e));let i={};if(t)try{i=JSON.parse(t)}catch(e){i={}}return i}function o(e,t){return localStorage.setItem(n(e),JSON.stringify(t)),t}function l(e){return Boolean(e.id)&&Boolean(e.file_identifier_hash)}function c(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n={...e||{}},s=n;let a;return l(t)&&(a=new Set(n[t.file_identifier_hash]||[]),i?(a.add(t.id),a.add(`hash:${t.file_hash}`)):(a.delete(t.id),a.delete(`hash:${t.file_hash}`)),s[t.file_identifier_hash]=Array.from(a),0===s[t.file_identifier_hash].length&&delete s[t.file_identifier_hash]),s}},gcrt:function(e,t,i){"use strict";var n=i("Fcvx"),s=i("gzws"),a=i("Uklg"),r=i("u1ru"),o=i("5DNK"),l=i("6IRw"),c=i.n(l);const d={components:{GlLink:r.a,GlTooltip:o.a,CloseButton:a.a},props:{backgroundColor:{type:String,required:!0,validator:e=>/^(#|rgb|rgba)/.test(e)},title:{type:String,required:!0,default:""},description:{type:String,required:!1,default:""},size:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},target:{type:String,required:!1,default:"#"},scoped:{type:Boolean,required:!1,default:!1},showCloseButton:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},data(){return{splitScopedLabelIndex:this.title.lastIndexOf("::")}},computed:{cssClasses(){const e=Object(s.a)(this.backgroundColor);return{"gl-label-sm":"sm"===this.size,"gl-label-scoped":this.scoped,"gl-label-text-dark":e===n.w.dark,"gl-label-text-light":e===n.w.light}},cssVariables(){return{"--label-background-color":this.backgroundColor,"--label-inset-border":`inset 0 0 0 ${"sm"===this.size?"1px":"2px"} ${this.backgroundColor}`}},scopedKey(){return this.scoped?this.title.slice(0,this.splitScopedLabelIndex):this.title},scopedValue(){return this.title.slice(this.splitScopedLabelIndex+2)},closeIconSize(){return"sm"===this.size?12:16}},watch:{title(){this.splitScopedLabelIndex=this.title.lastIndexOf("::")}},methods:{onClick(e){this.$emit("click",e)},onClose(e){this.$emit("close",e)}}};const u=c()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",e._b({ref:"labelTitle",staticClass:"gl-label",class:e.cssClasses,style:e.cssVariables,on:{click:e.onClick}},"span",e.$attrs,!1),[i("gl-link",{staticClass:"gl-label-link",attrs:{href:e.target}},[i("span",{staticClass:"gl-label-text"},[e._v("\n      "+e._s(e.scopedKey)+"\n    ")]),e._v(" "),e.scoped&&e.scopedValue?i("span",{staticClass:"gl-label-text-scoped"},[e._v("\n      "+e._s(e.scopedValue)+"\n    ")]):e._e()]),e._v(" "),e.showCloseButton?i("close-button",{staticClass:"gl-label-close gl-p-0!",attrs:{label:"Remove label",variant:"reset",disabled:e.disabled},on:{click:e.onClose}}):e._e(),e._v(" "),e.description?i("gl-tooltip",{attrs:{target:function(){return e.$refs.labelTitle},placement:e.tooltipPlacement,boundary:"viewport"}},[e.scoped?i("span",{staticClass:"gl-label-tooltip-title"},[e._v("Scoped label")]):e._e(),e._v("\n    "+e._s(e.description)+"\n  ")]):e._e()],1)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},gmzr:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("nPFI"),a=i("u1ru"),r=i("CkNe"),o=i("rh11"),l=i("yYHy"),c=i("t9l/"),d=i("WW8A"),u=i("RewC"),p=i("L+KC"),h=i("K4Wm"),f=i("Z0Ze"),m={name:"NoteForm",components:{markdownField:d.a,CommentFieldLayout:f.a,GlButton:n.a,GlSprintf:s.a,GlLink:a.a},mixins:[p.a,h.a],props:{noteBody:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:""},saveButtonTitle:{type:String,required:!1,default:Object(c.a)("Save comment")},discussion:{type:Object,required:!1,default:function(){return{}}},isEditing:{type:Boolean,required:!0},lineCode:{type:String,required:!1,default:""},resolveDiscussion:{type:Boolean,required:!1,default:!1},line:{type:Object,required:!1,default:null},lines:{type:Array,required:!1,default:function(){return[]}},note:{type:Object,required:!1,default:null},diffFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},autosaveKey:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},data(){let e=this.noteBody;return!e&&this.autosaveKey&&(e=Object(o.c)(this.autosaveKey)||""),{updatedNoteBody:e,conflictWhileEditing:!1,isSubmitting:!1,isResolving:this.resolveDiscussion,isUnresolving:!this.resolveDiscussion,resolveAsThread:!0,isSubmittingWithKeydown:!1}},computed:{...Object(r.d)(["getDiscussionLastNote","getNoteableData","getNoteableDataByProp","getNotesDataByProp","getUserDataByProp"]),...Object(r.f)({withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}}),...Object(r.d)("batchComments",["hasDrafts"]),showBatchCommentsActions(){return this.withBatchComments&&""===this.noteId&&!this.discussion.for_commit},showResolveDiscussionToggle(){var e,t;return!(null===(e=this.discussion)||void 0===e||!e.notes)&&((null===(t=this.discussion)||void 0===t?void 0:t.notes.filter((function(e){return e.resolvable})).some((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion})))||this.isDraft)},noteHash(){return this.noteId?`#note_${this.noteId}`:"#"},diffParams(){return this.diffFile?{filePath:this.diffFile.file_path,refs:this.diffFile.diff_refs}:this.note&&this.note.position?{filePath:this.note.position.new_path,refs:this.note.position}:this.discussion&&this.discussion.diff_file?{filePath:this.discussion.diff_file.file_path,refs:this.discussion.diff_file.diff_refs}:null},markdownPreviewPath(){const e=this.getNoteableDataByProp("preview_note_path"),t=this.line&&this.diffParams,i=t?{preview_suggestions:t,line:this.line.new_line,file_path:this.diffParams.filePath,base_sha:this.diffParams.refs.base_sha,start_sha:this.diffParams.refs.start_sha,head_sha:this.diffParams.refs.head_sha}:{};return Object(l.z)(i,e)},markdownDocsPath(){return this.getNotesDataByProp("markdownDocsPath")},quickActionsDocsPath(){return this.isEditing?void 0:this.getNotesDataByProp("quickActionsDocsPath")},currentUserId(){return this.getUserDataByProp("id")},isDisabled(){return!this.updatedNoteBody.length||this.isSubmitting},discussionNote(){return(this.discussion.id?this.getDiscussionLastNote(this.discussion):this.note)||{}},canSuggest(){return this.getNoteableData.can_receive_suggestion&&this.line&&this.line.can_receive_suggestion},changedCommentText:()=>({text:Object(c.a)("This comment changed after you started editing it. Review the %{startTag}updated comment%{endTag} to ensure information is not lost."),placeholder:{link:["startTag","endTag"]}})},watch:{noteBody(){this.updatedNoteBody===this.noteBody?this.updatedNoteBody=this.noteBody:this.conflictWhileEditing=!0}},mounted(){this.$refs.textarea.focus()},methods:{...Object(r.c)(["toggleResolveNote"]),shouldToggleResolved(e,t){const i=this.shouldBeResolved&&this.shouldBeResolved(e);return e||void 0!==i&&t!==i},editMyLastNote(){if(""===this.updatedNoteBody){const e=this.getDiscussionLastNote(this.discussion);e&&u.a.$emit("enterEditMode",{noteId:e.id})}},cancelHandler(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("cancelForm",e,this.noteBody!==this.updatedNoteBody)},onInput(){if(!this.isSubmittingWithKeydown&&this.autosaveKey){const{autosaveKey:e,updatedNoteBody:t}=this;Object(o.d)(e,t)}},handleKeySubmit(){this.showBatchCommentsActions?this.handleAddToReview():(this.isSubmittingWithKeydown=!0,this.handleUpdate())},handleUpdate(e){var t=this;const i=this.discussionResolved;this.isSubmitting=!0,this.$emit("handleFormUpdate",this.updatedNoteBody,this.$refs.editNoteForm,(function(){t.isSubmitting=!1,t.shouldToggleResolved(e,i)&&t.resolveHandler(i)}),this.discussionResolved?!this.isUnresolving:this.isResolving)},shouldBeResolved(e){return this.withBatchComments?this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving:e},handleAddToReview(){const e=this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving;this.isSubmitting=!0,this.$emit("handleFormUpdateAddToReview",this.updatedNoteBody,e)},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length}}},g=i("bPvS"),b=Object(g.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"editNoteForm",staticClass:"note-edit-form current-note-edit-form js-discussion-note-form"},[e.conflictWhileEditing?i("div",{staticClass:"js-conflict-edit-warning alert alert-danger"},[i("gl-sprintf",{attrs:{message:e.changedCommentText.text,placeholders:e.changedCommentText.placeholder},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.noteHash,target:"_blank"}},[e._v(e._s(n))])]}}],null,!1,2525184110)})],1):e._e(),e._v(" "),i("div",{staticClass:"flash-container timeline-content"}),e._v(" "),i("form",{staticClass:"edit-note common-note-form js-quick-submit gfm-form",attrs:{"data-line-code":e.lineCode}},[i("comment-field-layout",{attrs:{"noteable-data":e.getNoteableData,"note-is-confidential":e.discussion.confidential}},[i("markdown-field",{attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,line:e.line,lines:e.lines,note:e.discussionNote,"can-suggest":e.canSuggest,"add-spacing-classes":!1,"help-page-path":e.helpPagePath,"show-suggest-popover":e.showSuggestPopover,"textarea-value":e.updatedNoteBody},on:{handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.updatedNoteBody,expression:"updatedNoteBody"}],ref:"textarea",staticClass:"note-textarea js-gfm-input js-note-text js-autosize markdown-area js-vue-issue-note-form",attrs:{id:"note_note",disabled:e.isSubmitting,"data-supports-quick-actions":!e.isEditing,name:"note[note]","data-qa-selector":"reply_field",dir:"auto","aria-label":e.__("Reply to comment"),placeholder:e.__("Write a comment or drag your files here")},domProps:{value:e.updatedNoteBody},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.editMyLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.cancelHandler(!0)}],input:[function(t){t.target.composing||(e.updatedNoteBody=t.target.value)},e.onInput]}})]},proxy:!0}])})],1),e._v(" "),i("div",{staticClass:"note-form-actions"},[e.showBatchCommentsActions?[e.showResolveDiscussionToggle?i("p",[i("label",[e.discussionResolved?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isUnresolving,expression:"isUnresolving"}],staticClass:"js-unresolve-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isUnresolving)?e._i(e.isUnresolving,null)>-1:e.isUnresolving},on:{change:function(t){var i=e.isUnresolving,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=e._i(i,null);n.checked?a<0&&(e.isUnresolving=i.concat([null])):a>-1&&(e.isUnresolving=i.slice(0,a).concat(i.slice(a+1)))}else e.isUnresolving=s}}}),e._v("\n              "+e._s(e.__("Unresolve thread"))+"\n            ")]:[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isResolving,expression:"isResolving"}],staticClass:"js-resolve-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isResolving)?e._i(e.isResolving,null)>-1:e.isResolving},on:{change:function(t){var i=e.isResolving,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=e._i(i,null);n.checked?a<0&&(e.isResolving=i.concat([null])):a>-1&&(e.isResolving=i.slice(0,a).concat(i.slice(a+1)))}else e.isResolving=s}}}),e._v("\n              "+e._s(e.__("Resolve thread"))+"\n            ")]],2)]):e._e(),e._v(" "),i("div",{staticClass:"gl-display-flex gl-flex-wrap gl-mb-n3"},[i("gl-button",{staticClass:"gl-sm-mr-3 gl-mb-3",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-qa-selector":"start_review_button"},on:{click:e.handleAddToReview}},[e.hasDrafts?[e._v(e._s(e.__("Add to review")))]:[e._v(e._s(e.__("Start a review")))]],2),e._v(" "),i("gl-button",{staticClass:"gl-sm-mr-3 gl-mb-3 js-comment-button",attrs:{disabled:e.isDisabled,category:"secondary",variant:"confirm","data-qa-selector":"comment_now_button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.__("Add comment now"))+"\n          ")]),e._v(" "),i("gl-button",{staticClass:"note-edit-cancel gl-mb-3 js-close-discussion-note-form",attrs:{category:"secondary",variant:"default","data-testid":"cancelBatchCommentsEnabled"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]:[i("div",{staticClass:"gl-display-sm-flex gl-flex-wrap"},[i("gl-button",{staticClass:"gl-mr-3 js-vue-issue-save js-comment-button",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-qa-selector":"reply_comment_button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.saveButtonTitle)+"\n          ")]),e._v(" "),e.discussion.resolvable?i("gl-button",{staticClass:"gl-mr-3 js-comment-resolve-button",attrs:{category:"secondary",variant:"default"},on:{click:function(t){return t.preventDefault(),e.handleUpdate(!0)}}},[e._v("\n            "+e._s(e.resolveButtonTitle)+"\n          ")]):e._e(),e._v(" "),i("gl-button",{staticClass:"note-edit-cancel js-close-discussion-note-form",attrs:{category:"secondary",variant:"default","data-testid":"cancel"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]],2)],1)])}),[],!1,null,null,null);t.a=b.exports},hK9k:function(e,t,i){"use strict";var n=i("j/k3"),s=i("tOjW"),a={name:"DynamicScroller",components:{RecycleScroller:n.a},inheritAttrs:!1,provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((function(e){for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},props:{...s.a,minItemSize:{type:[Number,String],required:!0}},data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:s.b,itemsWithSize(){const e=[],{items:t,keyField:i,simpleArray:n}=this,s=this.vscrollData.sizes;for(let a=0;a<t.length;a++){const r=t[a],o=n?a:r[i];let l=s[o];void 0!==l||this.$_undefinedMap[o]||(l=0),e.push({item:r,id:o,size:l})}return e},listeners(){const e={};for(const t in this.$listeners)"resize"!==t&&"visible"!==t&&(e[t]=this.$listeners[t]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)}},created(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const i=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom(){var e=this;if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const t=this.$el;this.$nextTick((function(){t.scrollTop=t.scrollHeight+5e3;const i=function(){t.scrollTop=t.scrollHeight+5e3,requestAnimationFrame((function(){t.scrollTop=t.scrollHeight+5e3,0===e.$_undefinedSizes?e.$_scrollingToBottom=!1:requestAnimationFrame(i)}))};requestAnimationFrame(i)}))}}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("RecycleScroller",e._g(e._b({ref:"scroller",attrs:{items:e.itemsWithSize,"min-item-size":e.minItemSize,direction:e.direction,"key-field":"id"},on:{resize:e.onScrollerResize,visible:e.onScrollerVisible},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item,n=t.index,s=t.active;return[e._t("default",null,null,{item:i.item,index:n,active:s,itemWithSize:i})]}},{key:"before",fn:function(){return[e._t("before")]},proxy:!0},{key:"after",fn:function(){return[e._t("after")]},proxy:!0}],null,!0)},"RecycleScroller",e.$attrs,!1),e.listeners))}),[],!1,null,null,null);t.a=o.exports},hmuM:function(e,t,i){"use strict";var n=i("qx9o");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=Object(n.l)();return!!(t&&""!==t.toString().trim()&&t.containsNode&&Object(n.s)(e))&&t.containsNode(e,!0)}},iAZU:function(e,t,i){var n=i("NZhY"),s=i("ZzVf"),a=i("ri+z"),r=i("qGI4"),o=i("5uIe"),l=i("lj6f"),c=200;e.exports=function(e,t,i,d){var u=-1,p=s,h=!0,f=e.length,m=[],g=t.length;if(!f)return m;i&&(t=r(t,o(i))),d?(p=a,h=!1):t.length>=c&&(p=l,h=!1,t=new n(t));e:for(;++u<f;){var b=e[u],v=null==i?b:i(b);if(b=d||0!==b?b:0,h&&v==v){for(var y=g;y--;)if(t[y]===v)continue e;m.push(b)}else p(t,v,d)||m.push(b)}return m}},iPqD:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("6oy4"),s=i.n(n);class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cfg={callback:e.callback,startingInterval:e.startingInterval,maxInterval:e.maxInterval,hiddenInterval:e.hiddenInterval,incrementByFactorOf:e.incrementByFactorOf,lazyStart:e.lazyStart,immediateExecution:e.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pagevisibile:!0},this.initInterval()}start(){var e=this;const{cfg:t,state:i}=this;t.immediateExecution&&!this.isLoading&&(t.immediateExecution=!1,this.triggerCallback()),i.intervalId=window.setInterval((function(){e.isLoading||(e.triggerCallback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume()))}),this.getCurrentInterval())}cancel(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}onVisibilityHidden(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}resume(){this.stopTimer(),this.start()}onVisibilityVisible(){this.cancel(),this.start()}destroy(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("blur",this.onWindowVisibilityChange),window.removeEventListener("focus",this.onWindowVisibilityChange),this.cancel(),s()(document).off("visibilitychange").off("beforeunload")}initInterval(){const{cfg:e}=this;e.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}triggerCallback(){var e=this;this.isLoading=!0,this.cfg.callback().then((function(){e.isLoading=!1})).catch((function(t){throw e.isLoading=!1,t}))}onWindowVisibilityChange(e){this.state.pagevisibile="focus"===e.type,this.handleVisibilityChange()}onVisibilityChange(e){this.state.pagevisibile="visible"===e.target.visibilityState,this.handleVisibilityChange()}initVisibilityChangeHandling(){document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.addEventListener("blur",this.onWindowVisibilityChange.bind(this)),window.addEventListener("focus",this.onWindowVisibilityChange.bind(this))}initPageUnloadHandling(){var e=this;s()(document).on("beforeunload",(function(){return e.cancel()}))}handleVisibilityChange(){(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}getCurrentInterval(){return this.state.currentInterval}setCurrentInterval(e){this.state.currentInterval=e}incrementInterval(){const{cfg:e}=this,t=this.getCurrentInterval();if(e.hiddenInterval&&!this.isPageVisible())return;let i=t*e.incrementByFactorOf;i>e.maxInterval&&(i=e.maxInterval),this.setCurrentInterval(i)}isPageVisible(){return this.state.pagevisibile}stopTimer(){const{state:e}=this;e.intervalId=window.clearInterval(e.intervalId)}}},iaMy:function(e,t,i){var n=i("g2Ma"),s=i("Iwy8"),a=i("d8So"),r=Math.max,o=Math.min;e.exports=function(e,t,i){var l=null==e?0:e.length;if(!l)return-1;var c=l-1;return void 0!==i&&(c=a(i),c=i<0?r(l+c,0):o(c,l-1)),n(e,s(t,3),c,!0)}},ipI8:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("Z2pp"),s=i("jyii"),a=i("gCUY"),r=i("5vSo"),o=Object(a.c)(r.b,s.A),l=n.a.extend({name:s.A,mixins:[r.a],provide:function(){return{bvRadioGroup:this}},props:o,computed:{isRadioGroup:function(){return!0}}})},iwOY:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("mphk"),s=i("oj/M");const a=function(e){var t;Object(n.a)({method:(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())||"get",url:e.url,params:e.data}).then((function(t){const i=t.data||[],n=Object(s.D)(t.headers),a=Object(s.F)(n),r=a.nextPage>a.page;e.success({results:i,pagination:{more:r}})})).catch(e.error)}},"j/k3":function(e,t,i){"use strict";i("N8nX"),i("OZcL"),i("x5O4"),i("lxnW"),i("5sVn"),i("4xRc"),i("LM9r"),i("51O6"),i("une/"),i("Kypc"),i("yt6R"),i("6v3E"),i("RsOv");var n=i("qqDB"),s=i("KunK"),a=i("YSj/"),r=i.n(a),o=i("zdec"),l=i("tOjW");let c=!1;if("undefined"!=typeof window){c=!1;try{var d=Object.defineProperty({},"passive",{get(){c=!0}});window.addEventListener("test",null,d)}catch(e){}}let u=0;var p={name:"RecycleScroller",components:{ResizeObserver:n.a},directives:{ObserveVisibility:s.a},props:{...l.a,itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},useTransform:{type:Boolean,default:!0}},data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null}),computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,i=this.sizeField,n=this.minItemSize;let s,a=1e4,r=0;for(let o=0,l=t.length;o<l;o++)(s=t[o][i]||n)<a&&(a=s),r+=s,e[o]={accumulator:r,size:s};return this.$_computedMinItemSize=a,e}return[]},simpleArray:l.b},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){var e=this;this.applyPageMode(),this.$nextTick((function(){e.$_prerender=!1,e.updateVisibleItems(!0),e.ready=!0}))},beforeDestroy(){this.removeListeners()},methods:{addView(e,t,i,n,s){const a={item:i,position:0},r={id:u++,index:t,used:!0,key:n,type:s};return Object.defineProperty(a,"nr",{configurable:!1,value:r}),e.push(a),a},unuseView(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.$_unusedViews,n=e.nr.type;let s=i.get(n);s||(s=[],i.set(n,s)),s.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){var t=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame((function(){t.$_scrollDirty=!1;const{continuous:e}=t.updateVisibleItems(!1,!0);e||(clearTimeout(t.$_refreshTimout),t.$_refreshTimout=setTimeout(t.handleScroll,100))})))},handleVisibilityChange(e,t){var i=this;this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((function(){i.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.itemSize,n=this.$_computedMinItemSize,s=this.typeField,a=this.simpleArray?null:this.keyField,r=this.items,l=r.length,c=this.sizes,d=this.$_views,u=this.$_unusedViews,p=this.pool;let h,f,m,g;if(l)if(this.$_prerender)h=0,f=this.prerender,m=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===i&&t<n||t<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const s=this.buffer;if(e.start-=s,e.end+=s,null===i){let t,i,n=0,s=l-1,a=~~(l/2);do{i=a,(t=c[a].accumulator)<e.start?n=a:a<l-1&&c[a+1].accumulator>e.start&&(s=a),a=~~((n+s)/2)}while(a!==i);for(a<0&&(a=0),h=a,m=c[l-1].accumulator,f=a;f<l&&c[f].accumulator<e.end;f++);-1===f?f=r.length-1:++f>l&&(f=l)}else(h=~~(e.start/i))<0&&(h=0),(f=Math.ceil(e.end/i))>l&&(f=l),m=l*i}else h=f=m=0;f-h>o.a.itemsLimit&&this.itemsLimitError(),this.totalSize=m;const b=h<=this.$_endIndex&&f>=this.$_startIndex;if(this.$_continuous!==b){if(b){d.clear(),u.clear();for(let e=0,t=p.length;e<t;e++)g=p[e],this.unuseView(g)}this.$_continuous=b}else if(b)for(let t=0,i=p.length;t<i;t++)(g=p[t]).nr.used&&(e&&(g.nr.index=r.findIndex((function(e){return a?e[a]===g.item[a]:e===g.item}))),(-1===g.nr.index||g.nr.index<h||g.nr.index>=f)&&this.unuseView(g));const v=b?null:new Map;let y,_,w,S;for(let e=h;e<f;e++){y=r[e];const t=a?y[a]:y;if(null==t)throw new Error(`Key is ${t} on item (keyField is '${a}')`);g=d.get(t),i||c[e].size?(g?(g.nr.used=!0,g.item=y):(_=y[s],w=u.get(_),b?w&&w.length?((g=w.pop()).item=y,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=_):g=this.addView(p,e,y,t,_):(S=v.get(_)||0,(!w||S>=w.length)&&(g=this.addView(p,e,y,t,_),this.unuseView(g,!0),w=u.get(_)),(g=w[S]).item=y,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=_,v.set(_,S+1),S++),d.set(t,g)),g.position=null===i?c[e-1].accumulator:e*i):g&&this.unuseView(g)}return this.$_startIndex=h,this.$_endIndex=f,this.emitUpdate&&this.$emit("update",h,f),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:b}},getListenerTarget(){let e=r()(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,i="vertical"===t;let n;if(this.pageMode){const t=e.getBoundingClientRect(),s=i?t.height:t.width;let a=-(i?t.top:t.left),r=i?window.innerHeight:window.innerWidth;a<0&&(r+=a,a=0),a+r>s&&(r=s-a),n={start:a,end:a+r}}else n=i?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return n},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!c&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){var t=this;this.$_scrollDirty=!0;const{viewport:i,scrollDirection:n,scrollDistance:s}=this.scrollToPosition(e);i[n]=s,setTimeout((function(){t.$_scrollDirty=!1,t.updateVisibleItems(!1,!0)}))},scrollToPosition(e){var t=this;const i=function(e){return null===t.itemSize?e>0?t.sizes[e-1].accumulator:0:e*t.itemSize}(e),n="vertical"===this.direction?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};if(this.pageMode){const e=r()(this.$el),t="HTML"===e.tagName?0:e[n.scroll],s=e.getBoundingClientRect(),a=this.$el.getBoundingClientRect()[n.start]-s[n.start];return{viewport:e,scrollDirection:n.scroll,scrollDistance:i+t+a}}return{viewport:this.$el,scrollDirection:n.scroll,scrollDistance:i}},itemsLimitError(){var e=this;throw setTimeout((function(){console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",e.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((function(e,t){return e.nr.index-t.nr.index}))}}},h=(i("AjOR"),i("bPvS")),f=Object(h.a)(p,(function(){var e,t,i=this,n=i.$createElement,s=i._self._c||n;return s("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:i.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(e={ready:i.ready,"page-mode":i.pageMode},e["direction-"+i.direction]=!0,e),on:{"&scroll":function(e){return i.handleScroll(e)}}},[i.$slots.before?s("div",{staticClass:"vue-recycle-scroller__slot"},[i._t("before")],2):i._e(),i._v(" "),s("div",{ref:"wrapper",staticClass:"vue-recycle-scroller__item-wrapper",style:(t={},t["vertical"===i.direction?"minHeight":"minWidth"]=i.totalSize+"px",t)},i._l(i.pool,(function(e){return s("div",{key:e.nr.id,staticClass:"vue-recycle-scroller__item-view",class:{hover:i.hoverKey===e.nr.key},style:i.ready?{transform:i.useTransform?"translate"+("vertical"===i.direction?"Y":"X")+"("+e.position+"px)":null,top:i.useTransform||"vertical"!==i.direction?null:e.position+"px",left:i.useTransform||"vertical"===i.direction?null:e.position+"px"}:null,on:{mouseenter:function(t){i.hoverKey=e.nr.key},mouseleave:function(e){i.hoverKey=null}}},[i._t("default",null,{item:e.item,index:e.nr.index,active:e.nr.used})],2)})),0),i._v(" "),i.$slots.after?s("div",{staticClass:"vue-recycle-scroller__slot"},[i._t("after")],2):i._e(),i._v(" "),s("ResizeObserver",{on:{notify:i.handleResize}})],1)}),[],!1,null,null,null);t.a=f.exports},j26N:function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var n=i("uScB"),s=(i("AfGZ"),i("6oy4")),a=i.n(s),r=i("uCy4"),o=i.n(r),l=i("YI2X"),c=i("s1DB"),d=i("e+le");let u=0;class p{constructor(e){this.$selectElement=a()(e),this.dropdownClass=`js-auto-width-select-dropdown-${u}`,u+=1}init(){var e=this;const{dropdownClass:t}=this;return i.e(871).then(i.t.bind(null,"adUV",7)).then((function(){Object(d.a)(gon.select2_css_path).then((function(){e.$selectElement.select2({dropdownCssClass:t,...p.selectOptions(e.dropdownClass)})})).catch((function(){}))})).catch((function(){})),this}static selectOptions(e){return{dropdownCss(){let t="auto";const i=a()(`.${e}`),n=a()(this).parent().offsetParent().width();return i.css("width","auto"),i.outerWidth(!1)>n&&(t=n),{width:t,maxWidth:n}}}}}var h=p,f=i("U1Ws"),m=i("iwOY"),g=i("yYHy"),b=i("r5Uk"),v=i("GyXH");const y="merge_request[source_branch]",_="merge_request[target_branch]";function w(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e[y]||e[_]?t?{[y]:e[y]}:{[y]:e[y],[_]:e[_]}:e}(Object(g.B)(e,{legacySpacesDecode:!0}),t);return Object(g.A)(i)}class S{constructor(e){if(this.form=e,this.toggleWip=this.toggleWip.bind(this),this.renderWipExplanation=this.renderWipExplanation.bind(this),this.resetAutosave=this.resetAutosave.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.draftRegex=new RegExp("^\\s*(\\[draft\\]\\s*|draft:\\s*|\\(draft\\)\\s*)+\\s*","i"),this.gfmAutoComplete=new l.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources).setup(),this.usersSelect=new b.default,this.reviewersSelect=new b.default(void 0,".js-reviewer-search"),this.zenMode=new v.a,this.titleField=this.form.find('input[name*="[title]"]'),this.descriptionField=this.form.find('textarea[name*="[description]"]'),!this.titleField.length||!this.descriptionField.length)return;this.initAutosave(),this.form.on("submit",this.handleSubmit),this.form.on("click",".btn-cancel",this.resetAutosave),this.form.find(".js-unwrap-on-load").unwrap(),this.initWip();const t=a()("#issuable-due-date");if(t.length){const e=new o.a({field:t.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:t.parent().get(0),parse:function(e){return Object(f.T)(e)},toString:function(e){return Object(f.V)(e)},onSelect:function(i){return t.val(e.toString(i))},firstDay:gon.first_day_of_week});e.setDate(Object(f.T)(t.val()))}this.$targetBranchSelect=a()(".js-target-branch-select",this.form),this.$targetBranchSelect.length&&this.initTargetBranchDropdown()}initAutosave(){const{search:e}=document.location,t=w(e),i=function(){const e=w(document.location.search,!0);return["autosave",document.location.pathname,e].join("/")}();return this.autosave=new c.a(this.titleField,[document.location.pathname,t,"title"],`${i}=title`),new c.a(this.descriptionField,[document.location.pathname,t,"description"],`${i}=description`)}handleSubmit(){return this.resetAutosave()}resetAutosave(){return this.titleField.data("autosave").reset(),this.descriptionField.data("autosave").reset()}initWip(){if(this.$wipExplanation=this.form.find(".js-wip-explanation"),this.$noWipExplanation=this.form.find(".js-no-wip-explanation"),this.$wipExplanation.length&&this.$noWipExplanation.length)return this.form.on("click",".js-toggle-wip",this.toggleWip),this.titleField.on("keyup blur",this.renderWipExplanation),this.renderWipExplanation()}workInProgress(){return this.draftRegex.test(this.titleField.val())}renderWipExplanation(){return this.workInProgress()?(this.$wipExplanation.find("code")[0].textContent="Draft",this.$wipExplanation.show(),this.$noWipExplanation.hide()):(this.$wipExplanation.hide(),this.$noWipExplanation.show())}toggleWip(e){return e.preventDefault(),this.workInProgress()?this.removeWip():this.addWip(),this.renderWipExplanation()}removeWip(){return this.titleField.val(this.titleField.val().replace(this.draftRegex,""))}addWip(){this.titleField.val(`Draft: ${this.titleField.val()}`)}initTargetBranchDropdown(){var e=this;i.e(871).then(i.t.bind(null,"adUV",7)).then((function(){Object(d.a)(gon.select2_css_path).then((function(){e.$targetBranchSelect.select2({...h.selectOptions("js-target-branch-select"),ajax:{url:e.$targetBranchSelect.data("endpoint"),dataType:"JSON",quietMillis:250,data:e=>({search:e}),results(e){let{results:t}=e;return{results:t[Object.keys(t)[0]].map((function(e){return{id:e,text:e}}))}},transport:m.a},initSelection(e,t){const i=e.val();t({id:i,text:i})}})})).catch((function(){}))})).catch((function(){}))}}class k extends S{constructor(e){super(e),Object(n.a)()}}},j8Yr:function(e,t,i){"use strict";var n=i("pY+i"),s=i.n(n),a={props:{storageKey:{type:String,required:!0},value:{type:[String,Number,Boolean,Array,Object],required:!1,default:""},asJson:{type:Boolean,required:!1,default:!1},persist:{type:Boolean,required:!1,default:!0},clear:{type:Boolean,required:!1,default:!1}},watch:{value(e){this.saveValue(this.serialize(e))},clear(e){e&&localStorage.removeItem(this.storageKey)}},mounted(){const{exists:e,value:t}=this.getStorageValue();e&&!s()(t,this.value)&&this.$emit("input",t)},methods:{getStorageValue(){const e=localStorage.getItem(this.storageKey);if(null===e)return{exists:!1};try{return{exists:!0,value:this.deserialize(e)}}catch{return console.warn(`[gitlab] Failed to deserialize value from localStorage (key=${this.storageKey})`,e),{exists:!1}}},saveValue(e){this.persist&&localStorage.setItem(this.storageKey,e)},serialize(e){return this.asJson?JSON.stringify(e):e},deserialize(e){return this.asJson?JSON.parse(e):e}},render(){return this.$slots.default}},r=i("bPvS"),o=Object(r.a)(a,void 0,void 0,!1,null,null,null);t.a=o.exports},jmNb:function(e,t,i){e.exports=i("E5Fy")},jodE:function(e,t,i){"use strict";var n=i("H8gz"),s=i("ly/8"),a=i("CkNe"),r=i("JzpF"),o=i("teVv"),l=i("rh11"),c=i("oj/M"),d=i("0nrL"),u=i("t9l/"),p=i("dX8G"),h=i("1jid"),f=i("4UPE"),m=i("RewC"),g=i("tbUO"),b=i("K4Wm"),v=i("A1CF"),y=i.n(v),_=i("9LGn"),w=i("vRHk"),S=i("XPiF"),k=i("dkhw"),O={name:"DiffDiscussionHeader",components:{userAvatarLink:f.a,noteEditedText:S.a,noteHeader:k.a},directives:{SafeHtml:_.a},props:{discussion:{type:Object,required:!0}},computed:{notes(){return this.discussion.notes},firstNote(){return this.notes[0]},lastNote(){return this.notes[this.notes.length-1]},author(){return this.firstNote.author},resolvedText(){return this.discussion.resolved_by_push?Object(u.a)("Automatically resolved"):Object(u.a)("Resolved")},lastUpdatedBy(){return this.notes.length>1?this.lastNote.author:null},lastUpdatedAt(){return this.notes.length>1?this.lastNote.created_at:null},headerText(){const e=`<a href="${y()(this.discussion.discussion_path)}">`,{commit_id:t}=this.discussion;let i=t;t&&(i=`<span class="commit-sha">${Object(w.w)(t)}</span>`);const{for_commit:n,diff_discussion:s,active:a}=this.discussion;let r=Object(u.g)("MergeRequests|started a thread");return n?r=Object(u.g)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&t?r=a?Object(u.g)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):Object(u.g)("MergeRequests|started a thread on an outdated change in commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&(r=a?Object(u.g)("MergeRequests|started a thread on %{linkStart}the diff%{linkEnd}"):Object(u.g)("MergeRequests|started a thread on %{linkStart}an old version of the diff%{linkEnd}")),Object(u.h)(r,{commitDisplay:i,linkStart:e,linkEnd:"</a>"},!1)}},methods:{...Object(a.c)(["toggleDiscussion"]),toggleDiscussionHandler(){this.toggleDiscussion({discussionId:this.discussion.id})}}},T=i("bPvS"),j=Object(T.a)(O,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"discussion-header note-wrapper"},[e._m(0),e._v(" "),i("div",{staticClass:"timeline-content w-100"},[i("note-header",{attrs:{author:e.author,"created-at":e.firstNote.created_at,"note-id":e.firstNote.id,"include-toggle":!0,expanded:e.discussion.expanded},on:{toggleHandler:e.toggleDiscussionHandler}},[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.headerText,expression:"headerText"}]})]),e._v(" "),e.discussion.resolved?i("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline"}}):e.lastUpdatedAt?i("note-edited-text",{attrs:{"edited-at":e.lastUpdatedAt,"edited-by":e.lastUpdatedBy,"action-text":e.__("Last updated"),"class-name":"discussion-headline-light js-discussion-headline"}}):e._e()],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"timeline-icon align-self-start flex-shrink-0"},[this.author?t("user-avatar-link",{attrs:{"link-href":this.author.path,"img-src":this.author.avatar_url,"img-alt":this.author.name,"img-size":40}}):this._e()],1)}],!1,null,null,null).exports,C=(i("AfGZ"),i("J4Fn")),E=i("eko4"),I=i("fpFD"),x=i("tY3p"),D=i("1HOK"),P=i("8RVS"),N=i("pmYr");const A=/^(\+|-| )/;var R={components:{DiffFileHeader:E.a,GlSkeletonLoading:C.a,DiffViewer:P.a,ImageDiffOverlay:I.a},directives:{SafeHtml:_.a},props:{discussion:{type:Object,required:!0}},data:()=>({error:!1}),computed:{...Object(a.f)({projectPath:function(e){return e.diffs.projectPath}}),diffMode(){return Object(x.f)(this.discussion.diff_file)},diffViewerMode(){return this.discussion.diff_file.viewer.name},isTextFile(){return this.diffViewerMode===D.y.text},hasTruncatedDiffLines(){return this.discussion.truncated_diff_lines&&0!==this.discussion.truncated_diff_lines.length},isCollapsed(){return Object(N.c)(this.discussion.diff_file)}},mounted(){this.isTextFile&&!this.hasTruncatedDiffLines&&this.fetchDiff()},methods:{...Object(a.c)(["fetchDiscussionDiffLines"]),fetchDiff(){var e=this;this.error=!1,this.fetchDiscussionDiffLines(this.discussion).then(this.highlight).catch((function(){e.error=!0}))},trimChar:e=>e.replace(A,"")},userColorSchemeClass:window.gon.user_color_scheme},L=Object(T.a)(R,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file file-holder",class:{"text-file":e.isTextFile}},[i("diff-file-header",{attrs:{"discussion-path":e.discussion.discussion_path,"diff-file":e.discussion.diff_file,"can-current-user-fork":!1,expanded:!e.isCollapsed}}),e._v(" "),e.isTextFile?i("div",{staticClass:"diff-content"},[i("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass},[e.hasTruncatedDiffLines?e._m(0):e._e(),e._v(" "),e.hasTruncatedDiffLines?e._e():i("tr",{staticClass:"line_holder line-holder-placeholder"},[i("td",{staticClass:"old_line diff-line-num"}),e._v(" "),i("td",{staticClass:"new_line diff-line-num"}),e._v(" "),e.error?i("td",{staticClass:"js-error-lazy-load-diff diff-loading-error-block"},[e._v("\n          "+e._s(e.__("Unable to load the diff"))+"\n          "),i("button",{staticClass:"btn-link btn-link-retry gl-p-0 js-toggle-lazy-diff-retry-button",on:{click:e.fetchDiff}},[e._v("\n            "+e._s(e.__("Try again"))+"\n          ")])]):i("td",{staticClass:"line_content js-success-lazy-load"},[i("span"),e._v(" "),i("gl-skeleton-loading"),e._v(" "),i("span")],1)]),e._v(" "),i("tr",{staticClass:"notes_holder"},[i("td",{staticClass:"notes-content",attrs:{colspan:"3"}},[e._t("default")],2)])],2)]):i("div",[i("diff-viewer",{attrs:{"diff-file":e.discussion.diff_file,"diff-mode":e.diffMode,"diff-viewer-mode":e.diffViewerMode,"new-path":e.discussion.diff_file.new_path,"new-sha":e.discussion.diff_file.diff_refs.head_sha,"old-path":e.discussion.diff_file.old_path,"old-sha":e.discussion.diff_file.diff_refs.base_sha,"file-hash":e.discussion.diff_file.file_hash,"project-path":e.projectPath},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var n=t.renderedWidth,s=t.renderedHeight;return[n?i("image-diff-overlay",{attrs:{"rendered-width":n,"rendered-height":s,discussions:e.discussion,"file-hash":e.discussion.diff_file.file_hash,"show-comment-icon":!0,"should-toggle-discussion":!1,"badge-class":"image-comment-badge gl-text-gray-500"}}):e._e()]}}])}),e._v(" "),e._t("default")],2)],1)}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._l(e.discussion.truncated_diff_lines,(function(t){return i("tr",{key:t.line_code,staticClass:"line_holder"},[i("td",{staticClass:"diff-line-num old_line",class:t.type},[e._v(e._s(t.old_line))]),e._v(" "),i("td",{staticClass:"diff-line-num new_line",class:t.type},[e._v(e._s(t.new_line))]),e._v(" "),i("td",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.trimChar(t.rich_text),expression:"trimChar(line.rich_text)"}],staticClass:"line_content",class:t.type})])}))}],!1,null,null,null).exports,$=i("Zxcm"),q=i("XR+4"),F=i("cuRJ"),B={name:"ResolveDiscussionButton",components:{GlButton:F.a},props:{isResolving:{type:Boolean,required:!1,default:!1},buttonTitle:{type:String,required:!0}}},M=Object(T.a)(B,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{staticClass:"gl-xs-w-full ml-sm-2",attrs:{loading:e.isResolving},on:{click:function(t){return e.$emit("onClick")}}},[e._v("\n  "+e._s(e.buttonTitle)+"\n")])}),[],!1,null,null,null).exports,U={i18n:{buttonLabel:Object(u.g)("MergeRequests|Create issue to resolve thread")},name:"ResolveWithIssueButton",components:{GlButton:F.a},directives:{GlTooltip:s.a},props:{url:{type:String,required:!0}}},V=Object(T.a)(U,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion discussion-create-issue-btn gl-xs-w-full",attrs:{href:this.url,title:this.$options.i18n.buttonLabel,"aria-label":this.$options.i18n.buttonLabel,icon:"issue-new"}})],1)}),[],!1,null,null,null).exports,H={name:"DiscussionActions",components:{ReplyPlaceholder:q.a,ResolveDiscussionButton:M,ResolveWithIssueButton:V},mixins:[Object($.a)()],props:{discussion:{type:Object,required:!0},isResolving:{type:Boolean,required:!0},resolveButtonTitle:{type:String,required:!0},resolveWithIssuePath:{type:String,required:!1,default:""},shouldShowJumpToNextDiscussion:{type:Boolean,required:!0}},computed:{resolvableNotes(){return this.discussion.notes.filter((function(e){return e.resolvable}))},userCanResolveDiscussion(){return this.resolvableNotes.every((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion}))}}},z=Object(T.a)(H,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"discussion-with-resolve-btn clearfix"},[i("reply-placeholder",{attrs:{"data-qa-selector":"discussion_reply_tab","placeholder-text":e.__("Reply")},on:{focus:function(t){return e.$emit("showReplyForm")}}}),e._v(" "),e.userCanResolveDiscussion?i("div",{staticClass:"btn-group discussion-actions",attrs:{role:"group"}},[i("div",{staticClass:"btn-group"},[e.discussion.resolvable?i("resolve-discussion-button",{attrs:{"data-qa-selector":"resolve_discussion_button","is-resolving":e.isResolving,"button-title":e.resolveButtonTitle},on:{onClick:function(t){return e.$emit("resolve")}}}):e._e()],1),e._v(" "),e.discussion.resolvable&&e.resolveWithIssuePath?i("resolve-with-issue-button",{attrs:{url:e.resolveWithIssuePath}}):e._e()],1):e._e()],1)}),[],!1,null,null,null).exports,G=i("Gj7Q"),W=i("R8rx"),Y=i("uvwG"),K=i("toOR"),Q={functional:!0,props:{isDiffDiscussion:{type:Boolean,required:!1,default:!1}},render(e,t){let{props:i,children:n}=t;return i.isDiffDiscussion?e("li",{class:"discussion-collapsible gl-border-solid gl-border-gray-100 gl-border-1 gl-rounded-base clearfix"},[e("ul",{class:"notes"},n)]):n}},Z=Object(T.a)(Q,void 0,void 0,!1,null,null,null).exports,J=i("5ggI"),X=i("ZRbW"),ee=i.n(X),te=i("LcVr"),ie={components:{GlButton:F.a,GlIcon:n.a,UserAvatarLink:f.a,TimeAgoTooltip:te.a},props:{collapsed:{type:Boolean,required:!0},replies:{type:Array,required:!0}},computed:{lastReply(){return this.replies[this.replies.length-1]},uniqueAuthors(){const e=this.replies.map((function(e){return e.author||{}}));return ee()(e,(function(e){return e.username}))},className(){return this.collapsed?"collapsed":"expanded"}},methods:{toggle(){this.$emit("toggle")}},ICON_CLASS:"gl-mr-3 gl-cursor-pointer"},ne={name:"DiscussionNotes",components:{ToggleRepliesWidget:Object(T.a)(ie,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"replies-toggle js-toggle-replies gl-display-flex! gl-align-items-center gl-flex-wrap",class:e.className},[e.collapsed?[i("gl-icon",{class:e.$options.ICON_CLASS,attrs:{name:"chevron-right"},nativeOn:{click:function(t){return e.toggle(t)}}}),e._v(" "),i("div",e._l(e.uniqueAuthors,(function(e){return i("user-avatar-link",{key:e.username,attrs:{"link-href":e.path,"img-alt":e.name,"img-src":e.avatar_url,"img-size":26,"tooltip-text":e.name,"tooltip-placement":"bottom"}})})),1),e._v(" "),i("gl-button",{staticClass:"js-replies-text gl-mr-2",attrs:{category:"tertiary",variant:"link","data-qa-selector":"expand_replies_button"},on:{click:e.toggle}},[e._v("\n      "+e._s(e.replies.length)+" "+e._s(e.n__("reply","replies",e.replies.length))+"\n    ")]),e._v("\n    "+e._s(e.__("Last reply by"))+"\n    "),i("a",{staticClass:"btn btn-link author-link gl-mx-2",attrs:{href:e.lastReply.author.path}},[e._v("\n      "+e._s(e.lastReply.author.name)+"\n    ")]),e._v(" "),i("time-ago-tooltip",{attrs:{time:e.lastReply.created_at,"tooltip-placement":"bottom"}})]:i("div",{staticClass:"collapse-replies-btn js-collapse-replies gl-display-flex align-items-center",attrs:{"data-qa-selector":"collapse_replies_button"},on:{click:e.toggle}},[i("gl-icon",{class:e.$options.ICON_CLASS,attrs:{name:"chevron-down"}}),e._v(" "),i("span",{staticClass:"gl-cursor-pointer"},[e._v(e._s(e.s__("Notes|Collapse replies")))])],1)],2)}),[],!1,null,null,null).exports,NoteEditedText:S.a,DiscussionNotesRepliesWrapper:Z},props:{discussion:{type:Object,required:!0},isExpanded:{type:Boolean,required:!1,default:!1},diffLine:{type:Object,required:!1,default:null},line:{type:Object,required:!1,default:null},shouldGroupReplies:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1}},computed:{...Object(a.d)(["userCanReply"]),hasReplies(){return Boolean(this.replies.length)},replies(){return this.discussion.notes.slice(1)},firstNote(){return this.discussion.notes.slice(0,1)[0]},resolvedText(){return this.discussion.resolved_by_push?Object(u.a)("Automatically resolved"):Object(u.a)("Resolved")},commit(){return this.discussion.for_commit?{id:this.discussion.commit_id,url:this.discussion.discussion_path}:null}},methods:{...Object(a.c)(["toggleDiscussion","setSelectedCommentPositionHover"]),componentName:e=>e.isPlaceholderNote?e.placeholderType===K.SYSTEM_NOTE?W.a:G.a:e.system?Y.a:J.a,componentData:e=>e.isPlaceholderNote?e.notes[0]:e,handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()}}},se=Object(T.a)(ne,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"discussion-notes"},[i("ul",{staticClass:"notes",on:{mouseenter:function(t){return e.handleMouseEnter(e.discussion)},mouseleave:function(t){return e.handleMouseLeave(e.discussion)}}},[e.shouldGroupReplies?[i(e.componentName(e.firstNote),{tag:"component",attrs:{note:e.componentData(e.firstNote),line:e.line||e.diffLine,"discussion-file":e.discussion.diff_file,commit:e.commit,"help-page-path":e.helpPagePath,"show-reply-button":e.userCanReply,"discussion-root":!0,"discussion-resolve-path":e.discussion.resolve_path,"is-overview-tab":e.isOverviewTab},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")},startReplying:function(t){return e.$emit("startReplying")}},scopedSlots:e._u([{key:"discussion-resolved-text",fn:function(){return[e.discussion.resolved?i("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline discussion-resolved-text"}}):e._e()]},proxy:!0},{key:"avatar-badge",fn:function(){return[e._t("avatar-badge")]},proxy:!0}],null,!0)}),e._v(" "),i("discussion-notes-replies-wrapper",{attrs:{"is-diff-discussion":e.discussion.diff_discussion}},[e.hasReplies?i("toggle-replies-widget",{class:{"discussion-toggle-replies":e.discussion.diff_discussion},attrs:{collapsed:!e.isExpanded,replies:e.replies},on:{toggle:function(t){return e.toggleDiscussion({discussionId:e.discussion.id})}}}):e._e(),e._v(" "),e.isExpanded?e._l(e.replies,(function(t){return i(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"help-page-path":e.helpPagePath,line:e.line},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}}})})):e._e(),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})],2)]:[e._l(e.discussion.notes,(function(t,n){return i(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"discussion-file":e.discussion.diff_file,"help-page-path":e.helpPagePath,line:e.diffLine,"discussion-root":0===n,"discussion-resolve-path":e.discussion.resolve_path,"is-overview-tab":e.isOverviewTab},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}},scopedSlots:e._u([{key:"avatar-badge",fn:function(){return[0===n?e._t("avatar-badge"):e._e()]},proxy:!0}],null,!0)})})),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})]],2)])}),[],!1,null,null,null).exports,ae=i("gmzr"),re=i("9ema"),oe={name:"NoteableDiscussion",components:{GlIcon:n.a,userAvatarLink:f.a,diffDiscussionHeader:j,noteSignedOutWidget:re.a,noteForm:ae.a,DraftNote:r.a,TimelineEntryItem:h.a,DiscussionNotes:se,DiscussionActions:z},directives:{GlTooltip:s.a},mixins:[g.a,b.a,p.a],props:{discussion:{type:Object,required:!0},line:{type:Object,required:!1,default:null},renderDiffFile:{type:Boolean,required:!1,default:!0},alwaysExpanded:{type:Boolean,required:!1,default:!1},discussionsByDiffOrder:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1}},data:()=>({isReplying:!1,isResolving:!1,resolveAsThread:!0}),computed:{...Object(a.d)(["convertedDisscussionIds","getNoteableData","userCanReply","showJumpToNextDiscussion","getUserData"]),currentUser(){return this.getUserData},isLoggedIn:()=>Object(c.z)(),autosaveKey(){return Object(l.b)(this.firstNote.noteable_type,this.discussion.id)},newNotePath(){return this.getNoteableData.create_note_path},firstNote(){return this.discussion.notes.slice(0,1)[0]},shouldShowJumpToNextDiscussion(){return this.showJumpToNextDiscussion(this.discussionsByDiffOrder?"diff":"discussion")},shouldRenderDiffs(){return this.discussion.diff_discussion&&this.renderDiffFile},shouldGroupReplies(){return!this.shouldRenderDiffs},wrapperComponent(){return this.shouldRenderDiffs?L:"div"},wrapperComponentProps(){return this.shouldRenderDiffs?{discussion:this.discussion}:{}},isExpanded(){return this.discussion.expanded||this.alwaysExpanded},shouldHideDiscussionBody(){return this.shouldRenderDiffs&&!this.isExpanded},diffLine(){return this.line?this.line:this.discussion.diff_discussion&&this.discussion.truncated_diff_lines?this.discussion.truncated_diff_lines.slice(-1)[0]:null},resolveWithIssuePath(){return this.discussionResolved?"":this.discussion.resolve_with_issue_path},canShowReplyActions(){return!(this.shouldRenderDiffs&&!this.discussion.diff_file.diff_refs)}},created(){m.a.$on("startReplying",this.onStartReplying)},beforeDestroy(){m.a.$off("startReplying",this.onStartReplying)},methods:{...Object(a.c)(["saveNote","removePlaceholderNotes","toggleResolveNote","removeConvertedDiscussion","expandDiscussion"]),showReplyForm(){this.isReplying=!0,this.discussion.expanded||this.expandDiscussion({discussionId:this.discussion.id})},async cancelReplyForm(e,t){if(e&&t){const e=Object(u.g)("Notes|Are you sure you want to cancel creating this comment?");if(!await Object(d.a)(e))return}this.convertedDisscussionIds.includes(this.discussion.id)&&this.removeConvertedDiscussion(this.discussion.id),this.isReplying=!1,Object(l.a)(this.autosaveKey)},saveReply(e,t,i){var n=this;if(!e)return this.cancelReplyForm(),void i();const s={in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,note:{note:e}};this.convertedDisscussionIds.includes(this.discussion.id)&&(s.return_discussion=!0),this.discussion.for_commit&&(s.note_project_id=this.discussion.project_id);const a={endpoint:this.newNotePath,flashContainer:this.$el,data:s};this.saveNote(a).then((function(e){!0!==e.hasFlash&&(n.isReplying=!1,Object(l.a)(n.autosaveKey)),i()})).catch((function(t){n.removePlaceholderNotes(),n.handleSaveError(t),n.$refs.noteForm.note=e,i(t)}))},handleSaveError(){const e=Object(u.a)("Your comment could not be submitted! Please check your network connection and try again.");Object(o.f)({message:e,parent:this.$el})},deleteNoteHandler(e){this.$emit("noteDeleted",this.discussion,e)},onStartReplying(e){this.discussion.id===e&&this.showReplyForm()}}},le=Object(T.a)(oe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-discussion"},[i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"discussion js-discussion-container",attrs:{"data-discussion-id":e.discussion.id,"data-qa-selector":"discussion_content"}},[e.shouldRenderDiffs?i("diff-discussion-header",{attrs:{discussion:e.discussion}}):e._e(),e._v(" "),e.shouldHideDiscussionBody?e._e():i("div",{staticClass:"discussion-body"},[i(e.wrapperComponent,e._b({tag:"component",staticClass:"card discussion-wrapper"},"component",e.wrapperComponentProps,!1),[i("discussion-notes",{attrs:{discussion:e.discussion,"diff-line":e.diffLine,"help-page-path":e.helpPagePath,"is-expanded":e.isExpanded,line:e.line,"should-group-replies":e.shouldGroupReplies,"is-overview-tab":e.isOverviewTab},on:{startReplying:e.showReplyForm,deleteNote:e.deleteNoteHandler},scopedSlots:e._u([{key:"avatar-badge",fn:function(){return[e._t("avatar-badge")]},proxy:!0},{key:"footer",fn:function(t){var n=t.showReplies;return[e.showDraft(e.discussion.reply_id)?i("draft-note",{key:"draft_"+e.discussion.id,attrs:{draft:e.draftForDiscussion(e.discussion.reply_id),line:e.line}}):e.canShowReplyActions&&n?i("div",{staticClass:"discussion-reply-holder gl-border-t-0! clearfix",class:{"is-replying":e.isReplying}},[!e.isReplying&&e.userCanReply?i("discussion-actions",{attrs:{discussion:e.discussion,"is-resolving":e.isResolving,"resolve-button-title":e.resolveButtonTitle,"resolve-with-issue-path":e.resolveWithIssuePath,"should-show-jump-to-next-discussion":e.shouldShowJumpToNextDiscussion},on:{showReplyForm:e.showReplyForm,resolve:e.resolveHandler}}):e._e(),e._v(" "),e.isReplying?i("note-form",{ref:"noteForm",attrs:{discussion:e.discussion,"is-editing":!1,line:e.diffLine,"save-button-title":"Comment","autosave-key":e.autosaveKey},on:{handleFormUpdateAddToReview:e.addReplyToReview,handleFormUpdate:e.saveReply,cancelForm:e.cancelReplyForm}}):e._e(),e._v(" "),e.isLoggedIn?e._e():i("note-signed-out-widget")],1):e._e()]}}],null,!0)})],1)],1)],1)])])}),[],!1,null,null,null);t.a=le.exports},kSYl:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("oj/M"),s=i("oiT5");class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(e){var t=this;const i=Object(n.D)(e.headers),a=parseInt(i[this.intervalHeader],10);a>0&&-1!==s.b.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),a)),this.options.successCallback(e)}makeDelayedRequest(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.timeoutID=setTimeout((function(){return e.makeRequest()}),t)}makeRequest(){var e=this;const{resource:t,method:i,data:n,errorCallback:a,notificationCallback:r}=this.options;return r(!0),t[i](n).then((function(t){e.checkConditions(t),r(!1)})).catch((function(e){r(!1),e.status!==s.a.ABORTED&&a(e)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}restart(e){this.enable(e),this.makeRequest()}}},kTwG:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueSuggestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"updated_desc"}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userNotesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upvotes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:542}};i.loc.source={body:"query issueSuggestion($fullPath: ID!, $search: String) {\n  project(fullPath: $fullPath) {\n    id\n    issues(search: $search, sort: updated_desc, first: 5) {\n      edges {\n        node {\n          id\n          iid\n          title\n          confidential\n          userNotesCount\n          upvotes\n          webUrl\n          state\n          closedAt\n          createdAt\n          updatedAt\n          author {\n            id\n            name\n            username\n            avatarUrl\n            webUrl\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issueSuggestion=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issueSuggestion")},kbMu:function(e,t,i){"use strict";var n=i("t9l/"),s=i("5ee2"),a=i("aeXO"),r={i18n:{fetchingError:Object(n.a)("An error occurred while fetching participants")},components:{Participants:a.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({participants:[]}),apollo:{participants:{query(){return s.p[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.participants.nodes)||[]},error(e){this.$emit("fetch-error",{message:this.$options.i18n.fetchingError,error:e})}}},computed:{isLoading(){return this.$apollo.queries.participants.loading}},methods:{toggleSidebar(){this.$emit("toggleSidebar")}}},o=i("bPvS"),l=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("participants",{staticClass:"block participants",attrs:{loading:this.isLoading,participants:this.participants,"number-of-less-participants":7,lazy:!1},on:{toggleSidebar:this.toggleSidebar}})}),[],!1,null,null,null);t.a=l.exports},lG9n:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={Sidebar:"sidebar",Standalone:"standalone",Embedded:"embedded"}},lKw0:function(e,t,i){var n=i("G/Sk"),s=i("IUFe"),a=Object.prototype.hasOwnProperty,r=s((function(e,t,i){a.call(e,i)?e[i].push(t):n(e,i,[t])}));e.exports=r},lYqH:function(e,t,i){"use strict";var n={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){var e=this;if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const t in this.sizeDependencies)this.$watch((function(){return e.sizeDependencies[t]}),this.onDataUpdate);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){var e=this;this.watchData?this.$_watchData=this.$watch("data",(function(){e.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate(e){let{force:t}=e;!this.finalActive&&t&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!t&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){var t=this;this.$nextTick((function(){if(t.id===e){const e=t.$el.offsetWidth,i=t.$el.offsetHeight;t.applySize(e,i)}t.$_pendingSizeUpdate=null}))},applySize(e,t){const i=Math.round("vertical"===this.vscrollParent.direction?t:e);i&&this.size!==i&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,i),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&(this.$_parentNode=this.$el.parentNode,this.vscrollResizeObserver.observe(this.$_parentNode),this.$_parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$_parentNode),this.$_parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:t,height:i}=e.detail.contentRect;this.applySize(t,i)}},render(e){return e(this.tag,this.$slots.default)}},s=i("bPvS"),a=Object(s.a)(n,void 0,void 0,!1,null,null,null);t.a=a.exports},lliz:function(e,t,i){"use strict";var n=i("mWeI");t.a={bind(e,t){e.dataset.trackingOptions=JSON.stringify(t.value||{}),e.addEventListener("click",(function(){const{category:t,action:i,label:s,property:a,value:r}=JSON.parse(e.dataset.trackingOptions);t&&i&&n.a.event(t,i,{label:s,property:a,value:r})}))},update(e,t){t.value!==t.oldValue&&(e.dataset.trackingOptions=JSON.stringify(t.value||{}))}}},lnrH:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"setStatus",(function(){return f})),i.d(n,"updateStatus",(function(){return m})),i.d(n,"updateResolveStatus",(function(){return g})),i.d(n,"updateIgnoreStatus",(function(){return b}));var s={};i.r(s),i.d(s,"startPollingStacktrace",(function(){return k}));var a={};i.r(a),i.d(a,"stacktrace",(function(){return O}));var r={};i.r(r),i.d(r,"startPolling",(function(){return A})),i.d(r,"stopPolling",(function(){return R})),i.d(r,"restartPolling",(function(){return L})),i.d(r,"setIndexPath",(function(){return $})),i.d(r,"loadRecentSearches",(function(){return q})),i.d(r,"addRecentSearch",(function(){return F})),i.d(r,"clearRecentSearches",(function(){return B})),i.d(r,"searchByQuery",(function(){return M})),i.d(r,"filterByStatus",(function(){return U})),i.d(r,"sortByField",(function(){return V})),i.d(r,"setEndpoint",(function(){return H})),i.d(r,"fetchPaginatedResults",(function(){return z})),i.d(r,"removeIgnoredResolvedErrors",(function(){return G}));var o=i("q+nE"),l=i("CkNe"),c=i("teVv"),d=i("yYHy"),u=i("t9l/"),p=i("mphk"),h={getSentryData(e){let{endpoint:t,params:i}=e;return p.a.get(t,{params:i})},updateErrorStatus:(e,t)=>p.a.put(e,{status:t})};const f=function(e,t){let{commit:i}=e;i("SET_ERROR_STATUS",t.toLowerCase())},m=function(e,t){let{commit:i}=e,{endpoint:n,redirectUrl:s,status:a}=t;return h.updateErrorStatus(n,a).then((function(e){return i("SET_ERROR_STATUS",a),s&&Object(d.N)(s),e.data.result})).catch((function(){return Object(c.f)({message:Object(u.a)("Failed to update issue status")})}))},g=function(e,t){let{commit:i,dispatch:n}=e;return i("SET_UPDATING_RESOLVE_STATUS",!0),n("updateStatus",t).finally((function(){i("SET_UPDATING_RESOLVE_STATUS",!1)}))},b=function(e,t){let{commit:i,dispatch:n}=e;return i("SET_UPDATING_IGNORE_STATUS",!0),n("updateStatus",t).finally((function(){i("SET_UPDATING_IGNORE_STATUS",!1)}))};var v=i("kSYl");const y="SET_LOADING_STACKTRACE",_="SET_STACKTRACE_DATA";let w;const S=function(e){e&&e.stop()};function k(e,t){let{commit:i}=e;(w=new v.a({resource:h,method:"getSentryData",data:{endpoint:t},successCallback:function(e){let{data:t}=e;t&&(i(_,t.error),i(y,!1),S(w))},errorCallback:function(){i(y,!1),Object(c.f)({message:Object(u.a)("Failed to load stacktrace.")})}})).makeRequest()}const O=function(e){return e.stacktraceData.stack_trace_entries?e.stacktraceData.stack_trace_entries.reverse():[]};var T={[y](e,t){e.loadingStacktrace=t},[_](e,t){e.stacktraceData=t}};const j="SET_ERRORS",C="SET_INDEX_PATH",E="SET_LOADING",I="ADD_RECENT_SEARCH",x="CLEAR_RECENT_SEARCHES",D="LOAD_RECENT_SEARCHES",P="SET_PAGINATION";let N;function A(e){let{state:t,commit:i,dispatch:n}=e;i(E,!0),(N=new v.a({resource:h,method:"getSentryData",data:{endpoint:t.endpoint,params:{search_term:t.searchQuery,sort:t.sortField,cursor:t.cursor,issue_status:t.statusFilter}},successCallback:function(e){let{data:t}=e;t&&(i(P,t.pagination),i(j,t.errors),i(E,!1),n("stopPolling"))},errorCallback:function(){i(E,!1),Object(c.f)({message:Object(u.a)("Failed to load errors from Sentry.")})}})).makeRequest()}const R=function(){N&&N.stop()};function L(e){let{commit:t}=e;t(j,[]),t(E,!0),N&&N.restart()}function $(e,t){let{commit:i}=e;i(C,t)}function q(e){let{commit:t}=e;t(D)}function F(e,t){let{commit:i}=e;i(I,t)}function B(e){let{commit:t}=e;t(x)}const M=function(e,t){let{commit:i,dispatch:n}=e;const s=t.trim();i("SET_CURSOR",null),i("SET_SEARCH_QUERY",s),i(I,s),n("stopPolling"),n("startPolling")},U=function(e,t){let{commit:i,dispatch:n}=e;i("SET_STATUS_FILTER",t),n("stopPolling"),n("startPolling")},V=function(e,t){let{commit:i,dispatch:n}=e;i("SET_CURSOR",null),i("SET_SORT_FIELD",t),n("stopPolling"),n("startPolling")},H=function(e,t){let{commit:i}=e;i("SET_ENDPOINT",t)},z=function(e,t){let{commit:i,dispatch:n}=e;i("SET_CURSOR",t),n("stopPolling"),n("startPolling")},G=function(e,t){let{commit:i}=e;i("REMOVE_IGNORED_RESOLVED_ERRORS",t)};var W=i("xqp2"),Y=i("oj/M"),K={[j](e,t){e.errors=Object(Y.h)(t,{deep:!0})},[E](e,t){e.loading=t},[C](e,t){e.indexPath=t},[I](e,t){if(0===t.length)return;const i=e.recentSearches.filter((function(e){return e!==t}));i.unshift(t),e.recentSearches=i.slice(0,5),W.a.canUseLocalStorage()&&localStorage.setItem(`recent-searches${e.indexPath}`,JSON.stringify(e.recentSearches))},[x](e){e.recentSearches=[],W.a.canUseLocalStorage()&&localStorage.removeItem(`recent-searches${e.indexPath}`)},[D](e){const t=localStorage.getItem(`recent-searches${e.indexPath}`)||[];try{e.recentSearches=JSON.parse(t)}catch(t){throw e.recentSearches=[],t}},[P](e,t){e.pagination=t},SET_CURSOR(e,t){e.cursor=t},SET_SORT_FIELD(e,t){e.sortField=t},SET_SEARCH_QUERY(e,t){e.searchQuery=t},SET_ENDPOINT(e,t){e.endpoint=t},REMOVE_IGNORED_RESOLVED_ERRORS(e,t){e.errors=e.errors.filter((function(e){return e.id!==t}))},SET_STATUS_FILTER(e,t){e.statusFilter=t}},Q={SET_UPDATING_IGNORE_STATUS(e,t){e.updatingIgnoreStatus=t},SET_UPDATING_RESOLVE_STATUS(e,t){e.updatingResolveStatus=t},SET_ERROR_STATUS(e,t){e.errorStatus=t}};o.default.use(l.b);t.a=new l.b.Store({modules:{list:{namespaced:!0,state:{errors:[],loading:!0,endpoint:null,sortField:"last_seen",statusFilter:"unresolved",searchQuery:null,indexPath:"",recentSearches:[],pagination:{},cursor:null},actions:{...n,...r},mutations:{...Q,...K}},details:{namespaced:!0,state:{stacktraceData:{},loadingStacktrace:!0,updatingResolveStatus:!1,updatingIgnoreStatus:!1,errorStatus:""},actions:{...n,...s},mutations:{...Q,...T},getters:a}}})},m1at:function(e,t,i){var n=i("NlHF"),s=i("dKPA"),a=i("YHps"),r=i("MfoV");e.exports=function(e){return function(t){t=r(t);var i=s(t)?a(t):void 0,o=i?i[0]:t.charAt(0),l=i?n(i,1).join(""):t.slice(1);return o[e]()+l}}},"mVy/":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r}));var n=i("t9l/");const s={CRITICAL:{value:"CRITICAL",icon:"critical",label:Object(n.g)("IncidentManagement|Critical - S1")},HIGH:{value:"HIGH",icon:"high",label:Object(n.g)("IncidentManagement|High - S2")},MEDIUM:{value:"MEDIUM",icon:"medium",label:Object(n.g)("IncidentManagement|Medium - S3")},LOW:{value:"LOW",icon:"low",label:Object(n.g)("IncidentManagement|Low - S4")},UNKNOWN:{value:"UNKNOWN",icon:"unknown",label:Object(n.g)("IncidentManagement|Unknown")}},a={INCIDENT:"incident"},r={UPDATE_SEVERITY_ERROR:Object(n.g)("SeverityWidget|There was an error while updating severity."),TRY_AGAIN:Object(n.a)("Please try again"),EDIT:Object(n.a)("Edit"),SEVERITY:Object(n.g)("SeverityWidget|Severity"),SEVERITY_VALUE:Object(n.g)("SeverityWidget|Severity: %{severity}")}},me7P:function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return u}));var n=i("ENs1"),s=i("EfTh"),a=i("Aiz4"),r=i.n(a),o=i("zeBW"),l=i("voi4");const c={...o.a,Mutation:{updateIssueState:function(e,t,i){let{issueType:s,isDirty:a=!1}=t,{cache:o}=i;const l=o.readQuery({query:r.a}),c=Object(n.a)(l,(function(e){e.issueState={issueType:s,isDirty:a}}));o.writeQuery({query:r.a,data:c})},...o.a.Mutation}},d=Object(l.default)(c),u=new s.default({defaultClient:d})},meSH:function(e,t,i){"use strict";var n=i("RlQ7"),s=i.n(n),a=i("Fcvx"),r=i("H8gz"),o=i("zLBL"),l=i("6IRw"),c=i.n(l);let d=0;const u={components:{GlIcon:r.a,GlLoadingIcon:o.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},label:{type:String,required:!0},help:{type:String,required:!1,default:void 0},labelPosition:{type:String,required:!1,default:"top",validator:e=>Object.values(a.C).includes(e)}},data:()=>({labelId:s()("toggle-label-")}),computed:{icon(){return this.value?"mobile-issue-close":"close"},helpId(){return this.help?`toggle-help-${this.uuid}`:void 0},isChecked(){return this.value?"true":"false"}},beforeCreate(){this.uuid=d,d+=1},methods:{toggleFeature(){this.disabled||this.$emit("change",!this.value)}}};const p=c()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-toggle-wrapper gl-display-flex gl-flex-direction-column gl-mb-0 gl-w-max-content",class:{"gl-toggle-label-inline":"left"===e.labelPosition,"is-disabled":e.disabled}},[i("span",{staticClass:"gl-toggle-label",class:{"gl-sr-only":"hidden"===e.labelPosition},attrs:{id:e.labelId,"data-testid":"toggle-label"}},[e._t("label",[e._v(e._s(e.label))])],2),e._v(" "),e.name?i("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),i("button",{class:{"gl-toggle":!0,"is-checked":e.value,"is-disabled":e.disabled},attrs:{role:"switch","aria-checked":e.isChecked,"aria-labelledby":e.labelId,"aria-describedby":e.helpId,type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleFeature(t)}}},[e.isLoading?i("gl-loading-icon",{staticClass:"toggle-loading",attrs:{color:"light"}}):i("span",{class:{"toggle-icon":!0,disabled:e.disabled}},[i("gl-icon",{attrs:{name:e.icon,size:16}})],1)],1),e._v(" "),e.help?i("span",{staticClass:"gl-help-label",attrs:{id:e.helpId,"data-testid":"toggle-help"}},[e._t("help",[e._v(e._s(e.help))])],2):e._e()])},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=p},mzc0:function(e,t,i){"use strict";var n=i("9LGn"),s=i("qINL"),a=i("lT7T"),r=i("KFH7"),o=i("cuRJ"),l=i("6oy4"),c=i.n(l),d=i("teVv"),u=i("t9l/"),p=i("cd08"),h=i("Zxcm"),f=i("3d6z"),m=i("A1mw"),g={directives:{SafeHtml:n.a,GlModal:s.a},components:{GlModal:a.a,GlPopover:r.a,CreateWorkItem:f.default,GlButton:o.a},mixins:[m.a,Object(h.a)()],props:{canUpdate:{type:Boolean,required:!0},descriptionHtml:{type:String,required:!0},descriptionText:{type:String,required:!1,default:""},taskStatus:{type:String,required:!1,default:""},issuableType:{type:String,required:!1,default:"issue"},updateUrl:{type:String,required:!1,default:null},lockVersion:{type:Number,required:!1,default:0}},data:()=>({preAnimation:!1,pulseAnimation:!1,initialUpdate:!0,taskButtons:[],activeTask:{}}),computed:{workItemsEnabled(){return this.glFeatures.workItems}},watch:{descriptionHtml(e,t){var i=this;this.initialUpdate||e===t?this.initialUpdate=!1:this.animateChange(),this.$nextTick((function(){i.renderGFM()}))},taskStatus(){this.updateTaskStatusText()}},mounted(){this.renderGFM(),this.updateTaskStatusText(),this.workItemsEnabled&&this.renderTaskActions()},methods:{renderGFM(){c()(this.$refs["gfm-content"]).renderGFM(),this.canUpdate&&new p.a({dataType:this.issuableType,fieldName:"description",lockVersion:this.lockVersion,selector:".detail-page-description",onUpdate:this.taskListUpdateStarted.bind(this),onSuccess:this.taskListUpdateSuccess.bind(this),onError:this.taskListUpdateError.bind(this)})},taskListUpdateStarted(){this.$emit("taskListUpdateStarted")},taskListUpdateSuccess(){this.$emit("taskListUpdateSucceeded")},taskListUpdateError(){Object(d.f)({message:Object(u.h)(Object(u.a)("Someone edited this %{issueType} at the same time you did. The description has been updated and you will need to make your changes again."),{issueType:this.issuableType})}),this.$emit("taskListUpdateFailed")},updateTaskStatusText(){const e=this.taskStatus.match(/(\d+) of ((?!0)\d+)/),t=c()(".issuable-meta"),i=c()("#task_status",t),n=c()("#task_status_short",t);e?(i.text(this.taskStatus),n.text(`${e[1]}/${e[2]} task${e[2]>1?"s":""}`)):(i.text(""),n.text(""))},renderTaskActions(){var e,t=this;if(null===(e=this.$el)||void 0===e||!e.querySelectorAll)return;this.$el.querySelectorAll(".task-list-item").forEach((function(e,i){const n=document.createElement("button");n.classList.add("btn","btn-default","btn-md","gl-button","btn-default-tertiary","gl-left-0","gl-p-0!","gl-top-2","gl-absolute","js-add-task"),n.id=`js-task-button-${i}`,t.taskButtons.push(n.id),n.innerHTML=`\n          <svg data-testid="ellipsis_v-icon" role="img" aria-hidden="true" class="dropdown-icon gl-icon s14">\n            <use href="${gon.sprite_icons}#ellipsis_v"></use>\n          </svg>\n        `,e.prepend(n)}))},openCreateTaskModal(e){this.activeTask={id:e,title:this.$el.querySelector(`#${e}`).parentElement.innerText},this.$refs.modal.show()},closeCreateTaskModal(){this.$refs.modal.hide()},handleCreateTask(e){const t=this.$el.querySelector(`#${this.activeTask.id}`).parentElement,i=document.createElement("span");i.innerHTML=`\n        <svg data-testid="issue-open-m-icon" role="img" aria-hidden="true" class="gl-icon gl-fill-green-500 s12">\n          <use href="${gon.sprite_icons}#issue-open-m"></use>\n        </svg>\n        <span class="badge badge-info badge-pill gl-badge sm gl-mr-1">\n          ${Object(u.a)("Task")}\n        </span>\n        <a href="#">${e}</a>\n      `,t.insertBefore(i,t.lastChild),t.removeChild(t.lastChild),this.closeCreateTaskModal()},focusButton(){this.$refs.convertButton[0].$el.focus()}},safeHtmlConfig:{ADD_TAGS:["gl-emoji","copy-code"]}},b=i("bPvS"),v=Object(b.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.descriptionHtml?i("div",{staticClass:"description",class:{"js-task-list-container":e.canUpdate,"work-items-enabled":e.workItemsEnabled}},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.descriptionHtml,expression:"descriptionHtml",arg:e.$options.safeHtmlConfig}],ref:"gfm-content",staticClass:"md",class:{"issue-realtime-pre-pulse":e.preAnimation,"issue-realtime-trigger-pulse":e.pulseAnimation},attrs:{"data-testid":"gfm-content"}}),e._v(" "),e.descriptionText?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descriptionText,expression:"descriptionText"}],staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.updateUrl,dir:"auto","data-testid":"textarea"},domProps:{value:e.descriptionText},on:{input:function(t){t.target.composing||(e.descriptionText=t.target.value)}}}):e._e(),e._v(" "),i("gl-modal",{ref:"modal",attrs:{"modal-id":"create-task-modal",title:e.s__("WorkItem|New Task"),"hide-footer":"","body-class":"gl-p-0!"}},[i("create-work-item",{attrs:{"is-modal":!0,"initial-title":e.activeTask.title},on:{closeModal:e.closeCreateTaskModal,onCreate:e.handleCreateTask}})],1),e._v(" "),e.workItemsEnabled?e._l(e.taskButtons,(function(t){return i("gl-popover",{key:t,attrs:{target:t,placement:"top",triggers:"focus"},on:{shown:e.focusButton}},[i("gl-button",{ref:"convertButton",refInFor:!0,staticClass:"gl-text-gray-900! gl-text-decoration-none! gl-outline-0!",attrs:{variant:"link","data-testid":"convert-to-task"},on:{click:function(i){return e.openCreateTaskModal(t)}}},[e._v(e._s(e.s__("WorkItem|Convert to work item")))])],1)})):e._e()],2):e._e()}),[],!1,null,null,null);t.a=v.exports},nEd5:function(e,t,i){(function(t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,i){var n,s,a,r,o=[].indexOf;n=function(e){return Array.prototype.slice.apply(e)},a=function(e,t){for(;e&&!e.classList.contains(t);)e=e.parentNode;return e},r=function(e,t){var i;return"function"==typeof Event?(i=new Event(e,{bubbles:!0,cancelable:!0})).detail=t:(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),i},s=function(){class e{constructor(e){this.el=e,this.container=a(this.el,"js-task-list-container"),this.field=this.container.querySelector(".js-task-list-field"),this.container.addEventListener("change",e=>{if(e.target.classList.contains("task-list-item-checkbox"))return this.updateTaskList(e.target)}),this.enable()}enable(){var e;if(this.container.querySelectorAll(".js-task-list-field").length>0)return n(this.container.querySelectorAll(".task-list-item")).forEach((function(e){return e.classList.add("enabled")})),n(this.container.querySelectorAll(".task-list-item-checkbox")).forEach((function(e){return e.disabled=!1})),this.container.classList.add("is-task-list-enabled"),e=r("tasklist:enabled"),this.container.dispatchEvent(e)}disable(){var e;return n(this.container.querySelectorAll(".task-list-item")).forEach((function(e){return e.classList.remove("enabled")})),n(this.container.querySelectorAll(".task-list-item-checkbox")).forEach((function(e){return e.disabled=!0})),this.container.classList.remove("is-task-list-enabled"),e=r("tasklist:disabled"),this.container.dispatchEvent(e)}updateTaskList(t){var i,s,a,o,l,c,d;if(a=this.container.querySelectorAll(".task-list-item-checkbox"),o=1+n(a).indexOf(t),i=r("tasklist:change",{index:o,checked:t.checked}),this.field.dispatchEvent(i),!i.defaultPrevented)return({result:d,lineNumber:l,lineSource:c}=e.updateSource(this.field.value,o,t.checked,t)),this.field.value=d,i=r("change"),this.field.dispatchEvent(i),s=r("tasklist:changed",{index:o,checked:t.checked,lineNumber:l,lineSource:c}),this.field.dispatchEvent(s)}static escapePattern(e){return e.replace(/([\[\]])/g,"\\$1").replace(/\s/,"\\s").replace("x","[xX]")}static updateSource(e,t,i,n){return n.parentElement.hasAttribute("data-sourcepos")?this._updateSourcePosition(e,n,i):this._updateSourceRegex(e,t,i)}static _updateSourcePosition(e,t,i){var n,s,a,r,o;return r=e.split("\n"),o=t.parentElement.getAttribute("data-sourcepos"),a=r[(s=parseInt(o.split(":")[0]))-1],n=i?a.replace(this.incompletePattern,this.complete):a.replace(this.completePattern,this.incomplete),r[s-1]=n,{result:r.join("\n"),lineNumber:s,lineSource:a}}static _updateSourceRegex(e,t,i){var n,s,a,r,l,c,d,u;return u=e.split("\n"),n=e.replace(/\r/g,"").replace(this.itemsInParasPattern,"").split("\n"),r=0,a=!1,{result:function(){var e,p,h;for(h=[],s=e=0,p=u.length;e<p;s=++e)l=u[s],a?l.match(this.endFencesPattern)&&(a=!1):l.match(this.startFencesPattern)?a=!0:o.call(n,l)>=0&&l.trim().match(this.itemPattern)&&(r+=1)===t&&(c=s+1,d=l,l=i?l.replace(this.incompletePattern,this.complete):l.replace(this.completePattern,this.incomplete)),h.push(l);return h}.call(this).join("\n"),lineNumber:c,lineSource:d}}}return e.incomplete="[ ]",e.complete="[x]",e.incompletePattern=RegExp(`${e.escapePattern(e.incomplete)}`),e.completePattern=RegExp(`${e.escapePattern(e.complete)}`),e.itemPattern=RegExp(`^(?:\\s*(?:>\\s*)*(?:[-+*]|(?:\\d+\\.)))\\s*(${e.escapePattern(e.complete)}|${e.escapePattern(e.incomplete)})\\s`),e.startFencesPattern=/^`{3}.*$/,e.endFencesPattern=/^`{3}$/,e.itemsInParasPattern=RegExp(`^(${e.escapePattern(e.complete)}|${e.escapePattern(e.incomplete)}).+$`,"g"),e}.call(this),void 0!==t&&(t.fn.taskList=function(e){return this.each((function(i,n){var a;if((a=t(n).data("task-list"))||(a=new s(n),t(n).data("task-list",a),e&&"enable"!==e))return a[e||"enable"]()}))}),e.exports=s}])}).call(this,i("6oy4"))},nGW5:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("t9l/");const s=function(e){let{onlyCommas:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?"":1===e.length?Object(n.h)(Object(n.g)("nounSeries|%{item}"),{item:e[0]},!1):2!==e.length||t?e.reduce((function(i,s,a){return a!==e.length-1||t?Object(n.h)(Object(n.g)("nounSeries|%{item}, %{nextItem}"),{item:i,nextItem:s},!1):Object(n.h)(Object(n.g)("nounSeries|%{item}, and %{lastItem}"),{item:i,lastItem:s},!1)})):Object(n.h)(Object(n.g)("nounSeries|%{firstItem} and %{lastItem}"),{firstItem:e[0],lastItem:e[1]},!1)}},nQy4:function(e,t,i){(function(e){var n,s,a,r,o;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=this,o=function(e,t){"object"===l(t)&&"function"==typeof t.default&&(t=t.default);var i=function(e,t,i){var n;return function(){var s=this,a=arguments,r=function(){n=null,i||e.apply(s,a)},o=i&&!n;clearTimeout(n),n=setTimeout(r,t),o&&e.apply(s,a)}};return t.component(e,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"==typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(e,t){this.pagemode||(t&&this.removeScrollListener(t),e&&this.addScrollListener(e))}},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain),i=Object.create(null);i.direction="",i.scrollTop=0,i.start=e,i.end=e+t-1,i.keeps=t,i.total=0,i.offsetAll=0,i.paddingTop=0,i.paddingBottom=0,i.varCache={},i.varAverSize=0,i.varLastCalcIndex=0,this.delta=i},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.changeProp?this.start:e.start,i=this.getZone(t);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var n="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(i.isLast?e.total:i.start):i.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size;this.$nextTick(this.setScrollTop.bind(this,n))}(this.changeProp||e.end!==i.end||t!==i.start)&&(this.changeProp="",e.end=i.end,e.start=i.start,this.forceRender())},methods:{addScrollListener:function(e){this.scrollHandler=this.debounce?i(this.onScroll.bind(this),this.debounce):this.onScroll,e.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(e){e.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(e){var t,i=this.delta,n=this.$refs.vsl;if(this.pagemode)t=-this.$el.getBoundingClientRect().top;else if(this.scrollelement){var s=this.scrollelement.getBoundingClientRect(),a=this.$el.getBoundingClientRect();t=s.top-a.top}else t=n&&(n.$el||n).scrollTop||0;i.direction=t>i.scrollTop?"D":"U",i.scrollTop=t,i.total>i.keeps?this.updateZone(t):i.end=i.total-1;var r=i.offsetAll;if(this.onscroll){var o=Object.create(null);o.offset=t,o.offsetAll=r,o.start=i.start,o.end=i.end,this.onscroll(e,o)}!t&&i.total&&this.fireEvent("totop"),t>=r&&this.fireEvent("tobottom")},updateZone:function(e){var t=this.delta,i=this.variable?this.getVarOvers(e):Math.floor(e/this.size);"U"===t.direction&&(i=i-this.remain+1);var n=this.getZone(i),s=this.bench||this.remain,a=1===Math.abs(i-t.start-s);!a&&i-t.start<=s&&!n.isLast&&i>t.start||(a||n.start!==t.start||n.end!==t.end)&&(t.end=n.end,t.start=n.start,this.forceRender())},getZone:function(e){var t,i,n=this.delta;e=parseInt(e,10),e=Math.max(0,e);var s=n.total-n.keeps,a=e<=n.total&&e>=s||e>n.total;return i=(t=a?Math.max(0,s):e)+n.keeps-1,n.total&&i>n.total&&(i=n.total-1),{end:i,start:t,isLast:a}},forceRender:function(){var e=this;window.requestAnimationFrame((function(){e.$forceUpdate()}))},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(e){for(var t=0,i=0,n=0,s=this.delta,a=s.total;t<=a;){if(i=t+Math.floor((a-t)/2),n=this.getVarOffset(i),s.varAverSize||(s.varAverSize=Math.floor(n/i)),n===e)return i;n<e?t=i+1:n>e&&(a=i-1)}return t>0?--t:0},getVarOffset:function(e,t){var i=this.delta,n=i.varCache[e];if(!t&&n)return n.offset;for(var s=0,a=0;a<e;a++){var r=this.getVarSize(a,t);i.varCache[a]={size:r,offset:s},s+=r}return i.varLastCalcIndex=Math.max(i.varLastCalcIndex,e-1),i.varLastCalcIndex=Math.min(i.varLastCalcIndex,i.total-1),s},getVarSize:function(e,t){var i=this.delta.varCache[e];if(!t&&i)return i.size;if("function"==typeof this.variable)return this.variable(e)||0;var n=this.item?this.$children[e]?this.$children[e].$vnode:null:this.$slots.default[e],s=n&&n.data&&n.data.style;if(s&&s.height){var a=s.height.match(/^(.*)px$/);return a&&+a[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},fireEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){if(this.pagemode)window.scrollTo(0,e);else if(this.scrollelement)this.scrollelement.scrollTo(0,e);else{var t=this.$refs.vsl;t&&((t.$el||t).scrollTop=e)}},filter:function(e){var t,i,n,s=this.delta,a=this.$slots.default||[];this.item||this.$scopedSlots.item?(s.total=this.itemcount,s.keeps>s.total&&(s.end=s.total-1)):(a.length||(s.start=0),s.total=a.length);var r=s.total>s.keeps;this.variable?(n=this.getVarAllHeight(),t=r?this.getVarPaddingTop():0,i=r?this.getVarPaddingBottom():0):(n=this.size*s.total,t=this.size*(r?s.start:0),i=this.size*(r?s.total-s.keeps:0)-t),i<this.size&&(i=0),s.paddingTop=t,s.paddingBottom=i,s.offsetAll=n-this.size*this.remain;for(var o=[],l=s.start;l<s.total&&l<=Math.ceil(s.end);l++){var c=null;c=this.$scopedSlots.item?this.$scopedSlots.item(l):this.item?e(this.item,this.itemprops(l)):a[l],o.push(c)}return o}},render:function(e){var t=this.debounce,n=this.filter(e),s=this.delta,a=s.paddingTop,r=s.paddingBottom,o=this.istable,l=o?"div":this.wtag,c=o?"div":this.rtag;o&&(n=[e("table",[e("tbody",n)])]);var d=e(l,{style:Object.assign({display:"block","padding-top":a+"px","padding-bottom":r+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},n);return this.pagemode||this.scrollelement?d:e(c,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":t?i(this.onScroll.bind(this),t):this.onScroll}},[d])}})},"object"===l(t)&&"object"===l(e)?e.exports=o("VirtualList",i("q+nE")):(s=[i("q+nE")],n=o.bind(r,"VirtualList"),void 0===(a="function"==typeof n?n.apply(t,s):n)||(e.exports=a))}).call(this,i("Y4xB")(e))},odnV:function(e,t,i){var n=i("/e4I");e.exports=function(e){return e&&e.length?n(e):[]}},ogBI:function(e,t,i){var n=i("Rsjk"),s=i("GbPr"),a=i("CR7L"),r=i("LSGu"),o=i("Dhtp"),l=i("y74X"),c=i("Wjbg"),d=i("WVWx"),u=i("vUvM"),p=i("82Wh"),h=i("M3ut"),f=i("C5ZB"),m=i("THZC"),g=i("tP6O"),b=i("EwIz"),v=i("mABg"),y=i("Iudf"),_=i("/Zz6"),w=i("kMtG"),S=i("cRO8"),k=i("x/yk"),O=i("LrAm"),T=1,j=2,C=4,E="[object Arguments]",I="[object Function]",x="[object GeneratorFunction]",D="[object Object]",P={};P[E]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[D]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[I]=P["[object WeakMap]"]=!1,e.exports=function e(t,i,N,A,R,L){var $,q=i&T,F=i&j,B=i&C;if(N&&($=R?N(t,A,R,L):N(t)),void 0!==$)return $;if(!w(t))return t;var M=v(t);if(M){if($=m(t),!q)return c(t,$)}else{var U=f(t),V=U==I||U==x;if(y(t))return l(t,q);if(U==D||U==E||V&&!R){if($=F||V?{}:b(t),!q)return F?u(t,o($,t)):d(t,r($,t))}else{if(!P[U])return R?t:{};$=g(t,U,q)}}L||(L=new n);var H=L.get(t);if(H)return H;L.set(t,$),S(t)?t.forEach((function(n){$.add(e(n,i,N,n,t,L))})):_(t)&&t.forEach((function(n,s){$.set(s,e(n,i,N,s,t,L))}));var z=M?void 0:(B?F?h:p:F?O:k)(t);return s(z||t,(function(n,s){z&&(n=t[s=n]),a($,s,e(n,i,N,s,t,L))})),$}},oiT5:function(e,t,i){"use strict";i.d(t,"b",(function(){return s}));const n={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,CONFLICT:409,GONE:410,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},s=[n.OK,n.CREATED,n.ACCEPTED,n.NON_AUTHORITATIVE_INFORMATION,n.NO_CONTENT,n.RESET_CONTENT,n.PARTIAL_CONTENT,n.MULTI_STATUS,n.ALREADY_REPORTED,n.IM_USED];t.a=n},pK7r:function(e,t,i){var n=i("Ne/Z");e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},pW8f:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("Z2pp"),s=i("jyii"),a=i("gCUY"),r=i("qx9o"),o=i("G55H"),l=i("8Vyw"),c=i("ySPH"),d=i("ummR"),u=i("PrCM"),p=i("GpHn");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g=function(e){return(e=Object(l.c)(e,0))>0?e:null},b=function(e){return Object(o.o)(e)||g(e)>0},v=Object(a.c)({variant:{type:String,default:null},colspan:{type:[Number,String],default:null,validator:b},rowspan:{type:[Number,String],default:null,validator:b},stackedHeading:{type:String,default:null},stickyColumn:{type:Boolean,default:!1}},s.bb),y=n.a.extend({name:s.bb,mixins:[d.a,u.a,p.a],inject:{bvTableTr:{default:function(){return{}}}},inheritAttrs:!1,props:v,computed:{tag:function(){return"td"},inTbody:function(){return this.bvTableTr.inTbody},inThead:function(){return this.bvTableTr.inThead},inTfoot:function(){return this.bvTableTr.inTfoot},isDark:function(){return this.bvTableTr.isDark},isStacked:function(){return this.bvTableTr.isStacked},isStackedCell:function(){return this.inTbody&&this.isStacked},isResponsive:function(){return this.bvTableTr.isResponsive},isStickyHeader:function(){return this.bvTableTr.isStickyHeader},hasStickyHeader:function(){return this.bvTableTr.hasStickyHeader},isStickyColumn:function(){return!this.isStacked&&(this.isResponsive||this.hasStickyHeader)&&this.stickyColumn},rowVariant:function(){return this.bvTableTr.variant},headVariant:function(){return this.bvTableTr.headVariant},footVariant:function(){return this.bvTableTr.footVariant},tableVariant:function(){return this.bvTableTr.tableVariant},computedColspan:function(){return g(this.colspan)},computedRowspan:function(){return g(this.rowspan)},cellClasses:function(){var e=this.variant;return(!e&&this.isStickyHeader&&!this.headVariant||!e&&this.isStickyColumn&&this.inTfoot&&!this.footVariant||!e&&this.isStickyColumn&&this.inThead&&!this.headVariant||!e&&this.isStickyColumn&&this.inTbody)&&(e=this.rowVariant||this.tableVariant||"b-table-default"),[e?"".concat(this.isDark?"bg":"table","-").concat(e):null,this.isStickyColumn?"b-table-sticky-column":null]},cellAttrs:function(){var e=this.inThead||this.inTfoot,t=this.computedColspan,i=this.computedRowspan,n="cell",s=null;return e?(n="columnheader",s=t>0?"colspan":"col"):Object(r.t)(this.tag,"th")&&(n="rowheader",s=i>0?"rowgroup":"row"),f(f({colspan:t,rowspan:i,role:n,scope:s},this.bvAttrs),{},{"data-label":this.isStackedCell&&!Object(o.o)(this.stackedHeading)?Object(c.e)(this.stackedHeading):null})}},render:function(e){var t=[this.normalizeSlot()];return e(this.tag,{class:this.cellClasses,attrs:this.cellAttrs,on:this.bvListeners},[this.isStackedCell?e("div",[t]):t])}})},pmYr:function(e,t,i){"use strict";i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return p})),i.d(t,"a",(function(){return h})),i.d(t,"c",(function(){return f})),i.d(t,"b",(function(){return m})),i.d(t,"f",(function(){return g}));var n=i("1HOK"),s=i("Zi5e"),a=i("vRHk"),r=i("wC1f"),o=i("yZaS"),l=i("XWEW");function c(e,t){const i=t.filter((function(t){return t.file_hash===e.file_hash})),n=i.some((function(e){return[e.a_mode,e.b_mode].includes(o.q)}));return i.length>1&&n&&{replaced:e.b_mode===o.o,wasSymbolic:e.a_mode===o.q,isSymbolic:e.b_mode===o.q,wasReal:![o.q,o.o].includes(e.a_mode),isReal:![o.q,o.o].includes(e.b_mode)}}function d(e){const t=e.viewer||{};return{automaticallyCollapsed:t.automaticallyCollapsed||t.collapsed||!1,manuallyCollapsed:null}}const u=function(e){var t;return(null==e?void 0:null===(t=e.viewer)||void 0===t?void 0:t.name)===n.y.not_diffable};function p(e){var t;let{file:i,allFiles:n,meta:s=!1}=e;const a={brokenSymlink:c(i,n),viewer:{...i.viewer,...d(i)}};return!s&&null!==(t=i.blob)&&void 0!==t&&t.id&&i.load_collapsed_diff_url&&(a.id=function(e){var t;const{userOrGroup:i,project:n,id:s}=Object(l.a)({endpoint:e.load_collapsed_diff_url});return Object(r.a)({seeds:[i,n,s,e.file_identifier_hash,null===(t=e.blob)||void 0===t?void 0:t.id]})[0]}(i)),Object.assign(i,a)}function h(e){var t;return"boolean"==typeof(null===(t=e.viewer)||void 0===t?void 0:t.manuallyCollapsed)?o.p:o.n}function f(e){var t,i;const n=h(e);return{[o.n]:(null===(t=e.viewer)||void 0===t?void 0:t.automaticallyCollapsed)||!1,[o.p]:null===(i=e.viewer)||void 0===i?void 0:i.manuallyCollapsed}[n]}function m(e){return e.content_sha?Object(a.w)(String(e.content_sha)):null}function g(e){let t=!1,i="",n="",a="",r=0,o=0;return e&&(r=Object(s.c)(e.old_size,e.new_size),a=`${n=(o=e.new_size-e.old_size)>=0?"+":""}${Object(s.h)(o)} (${n}${r}%)`,t=!0,o>0?i="gl-text-green-600":o<0&&(i="gl-text-red-500")),{changed:o,text:a,percent:r,classes:i,sign:n,valid:t}}},"q+hq":function(e,t,i){"use strict";i.d(t,"a",(function(){return S})),i.d(t,"b",(function(){return k})),i.d(t,"c",(function(){return O}));var n=i("q+nE"),s=i("qNfu"),a=i("c1kE"),r=i("H8gz"),o=i("u1ru"),l=i("zLBL"),c=i("E4+D"),d=i("ly/8"),u=i("teVv"),p=i("mphk"),h=i("t9l/"),f={components:{GlIcon:r.a,GlLink:o.a,GlLoadingIcon:l.a,GlTruncate:c.a},directives:{GlTooltip:d.a},inject:{endpoint:{default:""}},data:()=>({featureFlags:[],loading:!0}),i18n:{title:Object(h.a)("Related feature flags"),error:Object(h.a)("There was an error loading related feature flags"),active:Object(h.a)("Active"),inactive:Object(h.a)("Inactive")},computed:{shouldShowRelatedFeatureFlags(){return this.loading||this.numberOfFeatureFlags>0},cardHeaderClass(){return{"gl-border-b-0":0===this.numberOfFeatureFlags}},numberOfFeatureFlags(){var e,t;return null!==(e=null===(t=this.featureFlags)||void 0===t?void 0:t.length)&&void 0!==e?e:0}},mounted(){var e=this;this.endpoint?p.a.get(this.endpoint).then((function(t){let{data:i}=t;e.featureFlags=i})).catch((function(t){return Object(u.f)({message:e.$options.i18n.error,error:t})})).finally((function(){e.loading=!1})):this.loading=!1},methods:{icon(e){let{active:t}=e;return t?"feature-flag":"feature-flag-disabled"},iconTooltip(e){let{active:t}=e;return t?this.$options.i18n.active:this.$options.i18n.inactive}}},m=i("bPvS"),g=Object(m.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.shouldShowRelatedFeatureFlags?i("div",{staticClass:"card card-slim gl-overflow-hidden",attrs:{id:"related-feature-flags"}},[i("div",{staticClass:"card-header gl-display-flex gl-justify-content-start gl-align-items-center",class:e.cardHeaderClass},[i("h3",{staticClass:"card-title gl-my-0 gl-display-flex gl-align-items-center gl-w-full gl-relative h5"},[i("gl-link",{staticClass:"anchor gl-text-decoration-none gl-absolute gl-mr-2",attrs:{id:"user-content-related-feature-flags",href:"#related-feature-flags","aria-hidden":"true"}}),e._v("\n      "+e._s(e.$options.i18n.title)+"\n      "),i("gl-icon",{staticClass:"text-secondary gl-mr-2",attrs:{name:"feature-flag"}}),e._v(" "),i("span",{staticClass:"h5"},[e._v(e._s(e.numberOfFeatureFlags))])],1)]),e._v(" "),e.loading?i("gl-loading-icon",{staticClass:"gl-my-3",attrs:{size:"sm"}}):i("ul",{staticClass:"content-list related-items-list"},e._l(e.featureFlags,(function(t){return i("li",{key:t.id,staticClass:"gl-display-flex",attrs:{"data-testid":"feature-flag-details"}},[i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3",attrs:{name:e.icon(t),title:e.iconTooltip(t),"data-testid":"feature-flag-details-icon"}}),e._v(" "),i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-str-truncated",attrs:{title:t.name,href:t.path,"data-testid":"feature-flag-details-link"}},[i("gl-truncate",{attrs:{text:t.name}})],1),e._v(" "),i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"text-secondary gl-mt-3 gl-lg-mt-0 gl-lg-ml-3 gl-white-space-nowrap",attrs:{title:t.reference,"data-testid":"feature-flag-details-reference"}},[i("gl-truncate",{attrs:{text:t.reference}})],1)],1)})),0)],1):e._e()}),[],!1,null,null,null).exports,b=i("Q04j"),v=i("nPFI"),y=i("/MVl"),_={components:{GlAlert:b.a,GlSprintf:v.a,GlLink:o.a,ClipboardButton:y.a},props:{vulnerabilityLink:{type:String,required:!0}},data:()=>({isVisible:!0}),methods:{hideAlert(){this.isVisible=!1}},i18n:{alertTitle:Object(h.a)("Unable to create link to vulnerability"),alertMessage:Object(h.a)("Manually link this issue by adding it to the linked issue section of the %{linkStart}originating vulnerability%{linkEnd}."),clipboardButtonText:Object(h.a)("Copy issue URL to clipboard")},currentUrl:window.location.href},w=Object(m.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("gl-alert",{staticClass:"gl-mt-4",attrs:{variant:"danger",title:e.$options.i18n.alertTitle},on:{dismiss:e.hideAlert}},[i("p",[i("gl-sprintf",{attrs:{message:e.$options.i18n.alertMessage},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.vulnerabilityLink,target:"_blank"}},[e._v(e._s(n))])]}}],null,!1,2072811256)})],1),e._v(" "),i("clipboard-button",{attrs:{text:e.$options.currentUrl,title:e.$options.i18n.clipboardButtonText,category:"primary",variant:"confirm"}},[e._v("\n    "+e._s(e.$options.i18n.clipboardButtonText)+"\n  ")])],1):e._e()}),[],!1,null,null,null).exports;function S(){Object(s.default)(),Object(a.b)()}function k(){const e=document.querySelector("#js-related-feature-flags-root");if(e)return new n.default({el:e,name:"RelatedFeatureFlagsRoot",provide:{endpoint:e.dataset.endpoint},render:function(e){return e(g)}})}function O(){const e=document.querySelector("#js-unable-to-link-vulnerability");if(!e)return;const{vulnerabilityLink:t}=e.dataset;return new n.default({el:e,name:"UnableToLinkVulnerabilityErrorRoot",render:function(e){return e(w,{props:{vulnerabilityLink:t}})}})}},qINL:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("UVyR"),s=i("ryFn"),a=i("qx9o"),r=i("BhOj"),o=i("G55H"),l=i("9Q7u"),c="__bv_modal_directive__",d=function(e){var t=e.modifiers,i=void 0===t?{}:t,n=e.arg,s=e.value;return Object(o.m)(s)?s:Object(o.m)(n)?n:Object(l.h)(i).reverse()[0]},u=function(e){return e&&Object(a.v)(e,".dropdown-menu > li, li.nav-item")&&Object(a.C)("a, button",e)||e},p=function(e){e&&"BUTTON"!==e.tagName&&(Object(a.o)(e,"role")||Object(a.E)(e,"role","button"),"A"===e.tagName||Object(a.o)(e,"tabindex")||Object(a.E)(e,"tabindex","0"))},h=function(e){var t=e[c]||{},i=t.trigger,s=t.handler;i&&s&&(Object(r.a)(i,"click",s,n.b),Object(r.a)(i,"keydown",s,n.b),Object(r.a)(e,"click",s,n.b),Object(r.a)(e,"keydown",s,n.b)),delete e[c]},f=function(e,t,i){var o=e[c]||{},l=d(t),f=u(e);l===o.target&&f===o.trigger||(h(e),function(e,t,i){var o=d(t),l=u(e);if(o&&l){var h=function(e){var t=e.currentTarget;if(!Object(a.r)(t)){var n=e.type,r=e.keyCode;"click"!==n&&("keydown"!==n||r!==s.c&&r!==s.h)||i.context.$root.$emit("bv::show::modal",o,t)}};e[c]={handler:h,target:o,trigger:l},p(l),Object(r.b)(l,"click",h,n.b),"BUTTON"!==l.tagName&&"button"===Object(a.h)(l,"role")&&Object(r.b)(l,"keydown",h,n.b)}}(e,t,i)),p(f)},m={inserted:f,updated:function(){},componentUpdated:f,unbind:h}},qNfu:function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"setInitialData",(function(){return I})),i.d(n,"setIssueId",(function(){return x})),i.d(n,"setSearchQuery",(function(){return D})),i.d(n,"setSelectedEpic",(function(){return P})),i.d(n,"setSelectedEpicIssueId",(function(){return N})),i.d(n,"requestEpics",(function(){return A})),i.d(n,"receiveEpicsSuccess",(function(){return R})),i.d(n,"receiveEpicsFailure",(function(){return L})),i.d(n,"fetchEpics",(function(){return $})),i.d(n,"requestIssueUpdate",(function(){return q})),i.d(n,"receiveIssueUpdateSuccess",(function(){return F})),i.d(n,"receiveIssueUpdateFailure",(function(){return B})),i.d(n,"assignIssueToEpic",(function(){return M})),i.d(n,"removeIssueFromEpic",(function(){return U}));var s={};i.r(s),i.d(s,"groupEpics",(function(){return V})),i.d(s,"isDropdownVariantSidebar",(function(){return H})),i.d(s,"isDropdownVariantStandalone",(function(){return z}));var a=i("q+nE"),r=i("4pZC"),o=i.n(r),l=i("u1ru"),c=i("zLBL"),d=i("OkMp"),u=i("OqKX"),p=i("0X+3"),h=i("6HTq"),f=i("CkNe"),m=i("uVHQ"),g=i("t9l/");const b="sidebar",v="standalone";var y={components:{GlLink:l.a},props:{epic:{type:Object,required:!0}},computed:{hasEpic(){return!!this.epic&&Boolean(this.epic.title&&this.epic.url)}}},_=i("bPvS"),w=Object(_.a)(y,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"value js-epic-label hide-collapsed"},[this.hasEpic?t("gl-link",{staticClass:"bold",attrs:{href:this.epic.url}},[this._v(this._s(this.epic.title))]):t("span",{staticClass:"no-value"},[this._t("default")],2)],1)}),[],!1,null,null,null).exports,S=i("H8gz"),k=i("ly/8"),O={components:{GlIcon:S.a},directives:{GlTooltip:k.a},props:{epic:{type:Object,required:!0}}},T=Object(_.a)(O,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:"viewport",placement:"left"},expression:"{ boundary: 'viewport', placement: 'left' }"}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.epic.title}},[t("gl-icon",{attrs:{name:"epic"}}),this._v(" "),t("span",{staticClass:"collapse-truncated-title mt-1"},[this._v(this._s(this.epic.title))])],1)}),[],!1,null,null,null).exports,j=i("cToC"),C=i("teVv"),E=i("oj/M");const I=function(e,t){let{commit:i}=e;return i("SET_INITIAL_DATA",t)},x=function(e,t){let{commit:i}=e;return i("SET_ISSUE_ID",t)},D=function(e,t){let{commit:i}=e;return i("SET_SEARCH_QUERY",t)},P=function(e,t){let{commit:i}=e;return i("SET_SELECTED_EPIC",t)},N=function(e,t){let{commit:i}=e;return i("SET_SELECTED_EPIC_ISSUE_ID",t)},A=function(e){let{commit:t}=e;return t("REQUEST_EPICS")},R=function(e,t){let{commit:i}=e;i("RECEIVE_EPICS_SUCCESS",{epics:t.map((function(e){return Object(E.h)({...e,url:e.web_edit_url},{dropKeys:["web_edit_url"]})}))})},L=function(e){let{commit:t}=e;Object(C.f)({message:Object(g.g)("Epics|Something went wrong while fetching group epics.")}),t("RECEIVE_EPICS_FAILURE")},$=function(e){let{state:t,dispatch:i}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i("requestEpics"),j.a.groupEpics({groupId:t.groupId,includeDescendantGroups:!1,includeAncestorGroups:!0,search:n}).then((function(e){let{data:t}=e;i("receiveEpicsSuccess",t)})).catch((function(){i("receiveEpicsFailure")}))},q=function(e){let{commit:t}=e;return t("REQUEST_ISSUE_UPDATE")},F=function(e,t){let{state:i,commit:n}=e,{data:s,epic:a,isRemoval:r=!1}=t;s.epic.id===a.id&&s.issue.id===i.issueId&&n("RECEIVE_ISSUE_UPDATE_SUCCESS",{selectedEpic:r?m.i:a,selectedEpicIssueId:s.id})},B=function(e,t){let{commit:i}=e;Object(C.f)({message:t}),i("RECEIVE_ISSUE_UPDATE_FAILURE")},M=function(e,t){let{state:i,dispatch:n}=e;n("requestIssueUpdate"),j.a.addEpicIssue({issueId:i.issueId,groupId:t.groupId,epicIid:t.iid}).then((function(e){let{data:i}=e;n("receiveIssueUpdateSuccess",{data:i,epic:t})})).catch((function(e){const t=e.response.data.message.split(":")[1].trim();n("receiveIssueUpdateFailure",t)})).catch((function(){n("receiveIssueUpdateFailure",Object(g.g)("Epics|Something went wrong while assigning issue to epic."))}))},U=function(e,t){let{state:i,dispatch:n}=e;n("requestIssueUpdate"),j.a.removeEpicIssue({epicIssueId:i.selectedEpicIssueId,groupId:t.groupId,epicIid:t.iid}).then((function(e){let{data:i}=e;n("receiveIssueUpdateSuccess",{data:i,epic:t,isRemoval:!0})})).catch((function(){n("receiveIssueUpdateFailure",Object(g.g)("Epics|Something went wrong while removing issue from epic."))}))},V=function(e){return e.searchQuery?e.epics.filter((function(t){const{title:i,reference:n,url:s,iid:a}=t;return Number(e.searchQuery)?e.searchQuery.includes(a):Object(E.O)(e.searchQuery,{title:i,reference:n,url:s})})):e.epics},H=function(e){return e.variant===b},z=function(e){return e.variant===v};var G={SET_INITIAL_DATA(e,t){let{variant:i,groupId:n,issueId:s,selectedEpic:a,selectedEpicIssueId:r}=t;e.variant=i,e.groupId=n,e.issueId=s,e.selectedEpic=a,e.selectedEpicIssueId=r},SET_ISSUE_ID(e,t){e.issueId=t},SET_SEARCH_QUERY(e,t){e.searchQuery=t},SET_SELECTED_EPIC(e,t){e.selectedEpic=t},SET_SELECTED_EPIC_ISSUE_ID(e,t){e.selectedEpicIssueId=t},REQUEST_EPICS(e){e.epicsFetchInProgress=!0},RECEIVE_EPICS_SUCCESS(e,t){let{epics:i}=t;e.epicsFetchInProgress=!1,e.epics=i},RECEIVE_EPICS_FAILURE(e){e.epicsFetchInProgress=!1},REQUEST_ISSUE_UPDATE(e){e.epicSelectInProgress=!0},RECEIVE_ISSUE_UPDATE_SUCCESS(e,t){let{selectedEpic:i,selectedEpicIssueId:n}=t;e.epicSelectInProgress=!1,e.selectedEpic=i,e.selectedEpicIssueId=n},RECEIVE_ISSUE_UPDATE_FAILURE(e){e.epicSelectInProgress=!1}};a.default.use(f.b);var W=function(){return new f.b.Store({state:{groupId:null,issueId:null,selectedEpic:{},selectedEpicIssueId:null,searchQuery:"",epics:[],variant:"",epicSelectInProgress:!1,epicsFetchInProgress:!1},actions:n,getters:s,mutations:G})};var Y={i18n:{selectEpic:Object(g.g)("Epics|Select epic"),searchEpic:Object(g.g)("Epics|Search epics"),assignEpic:Object(g.g)("Epics|Assign Epic"),noMatch:Object(g.a)("No Matching Results")},noneEpic:m.i,store:W(),components:{GlLink:l.a,GlLoadingIcon:c.a,GlDropdown:d.a,GlDropdownDivider:u.a,GlDropdownItem:p.a,GlSearchBoxByType:h.a,DropdownValue:w,DropdownValueCollapsed:T},props:{groupId:{type:Number,required:!0},issueId:{type:Number,required:!1,default:0},epicIssueId:{type:Number,required:!1,default:0},canEdit:{type:Boolean,required:!0},initialEpic:{type:Object,required:!0},initialEpicLoading:{type:Boolean,required:!0},variant:{type:String,required:!1,default:b},showHeader:{type:Boolean,required:!1,default:!0}},data:()=>({isDropdownShowing:!1,search:""}),computed:{...Object(f.f)(["epicSelectInProgress","epicsFetchInProgress","selectedEpic","searchQuery","selectedEpicIssueId"]),...Object(f.d)(["isDropdownVariantSidebar","isDropdownVariantStandalone","groupEpics"]),dropdownButtonTextClass(){return{"is-default":this.isDropdownVariantStandalone,"dropdown-menu-toggle js-epic-select js-extra-options gl-py-3!":!0}},dropDownTitle(){return this.selectedEpic.title||this.$options.i18n.selectEpic},dropdownClass(){return this.isDropdownVariantSidebar?this.isDropdownShowing?"dropdown-menu-epics":"gl-display-none":"dropdown-menu-epics"},dropdownHeaderText(){return this.showHeader?this.$options.i18n.assignEpic:""},isLoading(){return this.epicsFetchInProgress||this.epicSelectInProgress||this.initialEpicLoading},epicListValid(){return this.groupEpics.length>0&&!this.isLoading},epicListNotValid(){return 0===this.groupEpics.length&&!this.isLoading}},watch:{issueId(){this.setIssueId(this.issueId)},initialEpic(){this.setSelectedEpic(this.initialEpic),this.setSelectedEpicIssueId(this.epicIssueId)},initialEpicLoading(){this.setSelectedEpic(this.initialEpic),this.setSelectedEpicIssueId(this.epicIssueId)},searchQuery(e){e?this.fetchEpics(this.searchQuery):this.fetchEpics()},search:o()((function(){this.setSearchQuery(this.search)}),250)},mounted(){this.setInitialData({variant:this.variant,groupId:this.groupId,issueId:this.issueId,selectedEpic:this.initialEpic,selectedEpicIssueId:this.epicIssueId})},methods:{...Object(f.c)(["setInitialData","setIssueId","setSearchQuery","setSelectedEpic","setSelectedEpicIssueId","fetchEpics","assignIssueToEpic","removeIssueFromEpic"]),focusInput(){this.$refs.search.focusInput()},handleItemSelect(e){this.selectedEpicIssueId&&e.id===this.$options.noneEpic.id&&e.title===this.$options.noneEpic.title?this.removeIssueFromEpic(this.selectedEpic):this.issueId?this.assignIssueToEpic(e):this.$emit("epicSelect",e)},hideDropdown(){this.isDropdownShowing=this.isDropdownVariantStandalone,this.$emit("hide")},toggleFormDropdown(){const{dropdown:e}=this.$refs.dropdown.$refs;this.isDropdownShowing=!this.isDropdownShowing,e&&this.isDropdownShowing&&(e.show(),this.fetchEpics())}}},K=Object(_.a)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"js-epic-block",class:{"block epic":e.isDropdownVariantSidebar}},[i("div",{staticClass:"hide-collapsed epic-dropdown-container"},[e.isDropdownVariantSidebar?i("p",{staticClass:"title gl-display-flex gl-justify-content-space-between"},[i("span",[e._v("\n        "+e._s(e.__("Epic"))),e.epicSelectInProgress?i("gl-loading-icon",{staticClass:"gl-ml-2",attrs:{size:"sm",inline:!0}}):e._e()],1),e._v(" "),e.canEdit?i("gl-link",{ref:"editButton",staticClass:"sidebar-dropdown-toggle",attrs:{href:"#"},on:{click:e.toggleFormDropdown,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}}},[e._v("\n        "+e._s(e.__("Edit"))+"\n      ")]):e._e()],1):e._e(),e._v(" "),e.canEdit||e.isDropdownVariantStandalone?i("gl-dropdown",{ref:"dropdown",staticClass:"gl-w-full",class:e.dropdownClass,attrs:{text:e.dropDownTitle,"toggle-class":e.dropdownButtonTextClass,"header-text":e.dropdownHeaderText},on:{hide:e.hideDropdown,shown:e.focusInput,toggle:e.toggleFormDropdown},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}},scopedSlots:e._u([{key:"header",fn:function(){return[i("gl-search-box-by-type",{ref:"search",attrs:{placeholder:e.$options.i18n.searchEpic},model:{value:e.search,callback:function(t){e.search="string"==typeof t?t.trim():t},expression:"search"}})]},proxy:!0}],null,!1,1340594651)},[e._v(" "),e.epicListValid?[i("gl-dropdown-item",{attrs:{active:!e.selectedEpic,"active-class":"is-active","is-check-item":!0,"is-checked":e.selectedEpic.id===e.$options.noneEpic.id},on:{click:function(t){return e.handleItemSelect(e.$options.noneEpic)}}},[e._v("\n          "+e._s(e.__("No Epic"))+"\n        ")]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),e._l(e.groupEpics,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{active:e.selectedEpic.id===t.id,"active-class":"is-active","is-check-item":!0,"is-checked":e.selectedEpic.id===t.id},on:{click:function(i){return e.handleItemSelect(t)}}},[e._v(e._s(t.title))])}))]:e.epicListNotValid?i("p",{staticClass:"gl-mx-5 gl-my-4"},[e._v("\n        "+e._s(e.$options.i18n.noMatch)+"\n      ")]):i("gl-loading-icon",{attrs:{size:"sm"}})],2):e._e()],1),e._v(" "),e.isDropdownVariantSidebar&&!e.isDropdownShowing?i("div",[i("dropdown-value-collapsed",{attrs:{epic:e.selectedEpic}}),e._v(" "),i("dropdown-value",{attrs:{epic:e.selectedEpic}},[e._t("default")],2)],1):e._e()])}),[],!1,null,null,null).exports;t.default=function(){const e=document.getElementById("js-epic-select-root"),t=document.getElementById("issue_epic_id");return!(!e&&!t)&&new a.default({el:e,name:"EpicsSelectRoot",components:{EpicsSelect:K},data:()=>({selectedEpic:m.j}),methods:{handleEpicSelect(e){this.selectedEpic=e,t.setAttribute("value",e.id)}},render(t){return t("epics-select",{props:{groupId:parseInt(e.dataset.groupId,10),issueId:0,epicIssueId:0,canEdit:!0,initialEpic:this.selectedEpic,initialEpicLoading:!1,variant:v,showHeader:Boolean(e.dataset.showHeader)},on:{epicSelect:this.handleEpicSelect.bind(this)}})}})}},qP35:function(e,t,i){"use strict";var n=i("2AcJ"),s=i.n(n),a=i("u1ru"),r=i("zLBL"),o=i("Hmw5"),l=i("vRHk"),c=i("yYHy"),d=i("t9l/"),u=i("fJoV");const p="gl-bg-transparent! gl-border-1! gl-border-b-solid! gl-border-gray-200!",h="gl-border-gray-100! gl-p-5!",f=["iid","title","severity","status","startedAt","eventCount","monitoringTool","service","description","endedAt","details","hosts","environment"];var m={components:{GlLink:a.a,GlLoadingIcon:r.a,GlTable:o.a},props:{alert:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!0},statuses:{type:Object,required:!1,default:function(){return u.a.OPERATIONS.STATUSES}}},fields:[{key:"fieldName",label:Object(d.g)("AlertManagement|Key"),thClass:p,tdClass:h,formatter:function(e){return Object(l.b)(Object(l.d)(Object(l.s)(e)))}},{key:"value",thClass:`${p} w-60p`,tdClass:h,label:Object(d.g)("AlertManagement|Value")}],computed:{items(){var e=this;return this.alert?s()(this.alert,(function(t,i,n){if(e.isAllowed(n)){let s;return s="environment"===n?null==i?void 0:i.name:"status"===n&&e.statuses[i]||i,[...t,{fieldName:n,value:s}]}return t}),[]):[]}},methods:{isAllowed:e=>f.includes(e),isValidLink:e=>"string"==typeof e&&Object(c.w)(e)}},g=i("bPvS"),b=Object(g.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-table",{staticClass:"alert-management-details-table",attrs:{busy:e.loading,"empty-text":e.s__("AlertManagement|No alert data to display."),items:e.items,fields:e.$options.fields,"show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[i("gl-loading-icon",{staticClass:"gl-mt-5",attrs:{size:"lg",color:"dark"}})]},proxy:!0},{key:"cell(value)",fn:function(t){var n=t.item.value;return[e.isValidLink(n)?i("gl-link",{attrs:{href:n,target:"_blank"}},[e._v("\n      "+e._s(n)+"\n    ")]):i("span",[e._v(e._s(n))])]}}])})}),[],!1,null,null,null);t.a=b.exports},qn5R:function(e,t,i){"use strict";var n=i("zLBL"),s=i("H8gz"),a=i("EqYD");const r={html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown",markdown:"markdown",mdown:"markdown",mkd:"markdown",mkdn:"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",ejs:"javascript",esx:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings",ts:"typescript",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",ods:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode",suo:"visualstudio",sln:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",h:"h",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",odt:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",odp:"powerpoint",webm:"movie",mkv:"movie",flv:"movie",vob:"movie",ogv:"movie",ogg:"music",gifv:"movie",avi:"movie",mov:"movie",qt:"movie",wmv:"movie",yuv:"movie",rm:"movie",rmvb:"movie",mp4:"movie",m4v:"movie",mpg:"movie",mp2:"movie",mpeg:"movie",mpe:"movie",mpv:"movie",m2v:"movie",vdi:"virtual",vbox:"virtual",ics:"email",mp3:"music",flac:"music",m4a:"music",wma:"music",aiff:"music",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform",tfvars:"terraform",tfstate:"terraform",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt",cr:"crystal",cu:"cuda",cuh:"cuda",log:"log"},o={"gradle.kts":"gradle","md.rendered":"markdown","markdown.rendered":"markdown","mdown.rendered":"markdown","mkd.rendered":"markdown","mkdn.rendered":"markdown","YAML-tmLanguage":"yaml","sln.dotsettings":"settings","sln.dotsettings.user":"settings","d.ts":"typescript-def","code-workplace":"vscode","7z":"zip","c++":"cpp","vbox-prev":"virtual","js.map":"javascript-map","css.map":"css-map","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","routing.ts":"angular-routing","routing.js":"angular-routing","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver","tf.json":"terraform","blade.php":"laravel","inky.php":"laravel","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects","drone.yml":"drone"},l={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",COPYING:"certificate","COPYING.LESSER":"certificate",LICENSE:"certificate",LICENCE:"certificate","LICENSE.md":"certificate","LICENCE.md":"certificate","LICENSE.txt":"certificate","LICENCE.txt":"certificate",".gitlab-license":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn",".yarnrc.yml":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".gitlab-ci.yml":"gitlab",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierignore":"prettier","nodemon.json":"nodemon",".sonarrc":"sonar",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"};var c={components:{GlLoadingIcon:n.a,GlIcon:s.a},props:{fileName:{type:String,required:!0},fileMode:{type:String,required:!1,default:""},folder:{type:Boolean,required:!1,default:!1},submodule:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{isSymlink(){return this.fileMode===a.d},spriteHref(){const e=this.submodule?"folder-git":(t=this.fileName,l[t]||o[t?t.split(".").slice(-2).join("."):""]||r[t?t.split(".").pop().toLowerCase():""]||""||"file");var t;return`${gon.sprite_file_icons}#${e}`},folderIconName(){return this.opened?"folder-open":"folder"},iconSizeClass(){return this.size?`s${this.size}`:""}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e.loading?i("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e.isSymlink?i("gl-icon",{attrs:{name:"symlink",size:e.size}}):e.folder?i("gl-icon",{staticClass:"folder-icon",attrs:{name:e.folderIconName,size:e.size,"data-qa-selector":"folder_icon_content"}}):i("svg",{key:e.spriteHref,class:[e.iconSizeClass,e.cssClasses]},[i("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))])],1)}),[],!1,null,null,null);t.a=u.exports},qqDB:function(e,t,i){"use strict";(function(e){var n;function s(){s.init||(s.init=!0,n=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var n=e.indexOf("Edge/");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):-1}())}function a(e,t,i,n,s,a,r,o,l,c){"boolean"!=typeof r&&(l=o,o=r,r=!1);var d,u="function"==typeof i?i.options:i;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),n&&(u._scopeId=n),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=d):t&&(d=r?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),d)if(u.functional){var p=u.render;u.render=function(e,t){return d.call(t),p(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,d):[d]}return i}i.d(t,"a",(function(){return l}));var r={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;s(),this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()}));var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",n&&this.$el.appendChild(t),t.data="about:blank",n||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!n&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}},o=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})};o._withStripped=!0;var l=a({render:o,staticRenderFns:[]},void 0,r,"data-v-8859cc6c",!1,void 0,!1,void 0,void 0,void 0);var c={version:"1.0.1",install:function(e){e.component("resize-observer",l),e.component("ResizeObserver",l)}},d=null;"undefined"!=typeof window?d=window.Vue:void 0!==e&&(d=e.Vue),d&&d.use(c)}).call(this,i("uE4I"))},qt7G:function(e,t){var i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+i+"]",s="\\d+",a="[\\u2700-\\u27bf]",r="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+i+s+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",d="[A-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:"+r+"|"+o+")",p="(?:"+d+"|"+o+")",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",f="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,c].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),m="(?:"+[a,l,c].join("|")+")"+f,g=RegExp([d+"?"+r+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[n,d,"$"].join("|")+")",p+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[n,d+u,"$"].join("|")+")",d+"?"+u+"+(?:['](?:d|ll|m|re|s|t|ve))?",d+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,m].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},"rFT/":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createWorkItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"LocalCreateWorkItemInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"localCreateWorkItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WidgetBase"},directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTitleWidget"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentText"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:337}};n.loc.source={body:"#import './widget.fragment.graphql'\n\nmutation createWorkItem($input: LocalCreateWorkItemInput) {\n  localCreateWorkItem(input: $input) @client {\n    workItem {\n      id\n      type\n      widgets {\n        nodes {\n          ...WidgetBase\n          ... on LocalTitleWidget {\n            contentText\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("y51o").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.createWorkItem=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"createWorkItem")},rVp8:function(e,t,i){"use strict";i("AfGZ");var n=i("H8gz"),s=i("JBkr"),a=i("ly/8"),r=i("jmNb"),o=i.n(r),l=i("teVv"),c=i("mpzd"),d=i("kSYl"),u=i("yYHy"),p=i("t9l/"),h=i("7k8s"),f=i("SYh6"),m=Object(f.a)(),g=i("Aiz4"),b=i.n(g),v=i("mphk");class y{constructor(e){this.endpoint=`${e}.json`,this.realtimeEndpoint=`${e}/realtime_changes`}getData(){return v.a.get(this.realtimeEndpoint)}deleteIssuable(e){return v.a.delete(this.endpoint,{params:e})}updateIssuable(e){return v.a.put(this.endpoint,e)}loadTemplates(e){return e?v.a.get(e):Promise.resolve([])}}var _=i("BYh8"),w=i("oj/M");var S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=t;t.length||(i=[]);const n=document.createElement("div");n.innerHTML=e;const s=n.getElementsByTagName("details");return s.length!==i.length?e:(Array.from(s).forEach((function(e,t){i[t].open&&e.setAttribute("open",!0)})),n.innerHTML)};class k{constructor(e){this.state=e,this.formState={title:"",description:"",lockedWarningVisible:!1,updateLoading:!1,lock_version:0,issuableTemplates:{}}}updateState(e){this.stateShouldUpdate(e)&&(this.formState.lockedWarningVisible=!0),Object.assign(this.state,Object(w.h)(e));const t=document.body.querySelector(".detail-page-description.content-block"),i=null!=t&&t.getElementsByTagName("details");this.state.descriptionHtml=S(Object(_.a)(e.description),i),this.state.titleHtml=Object(_.a)(e.title),this.state.lock_version=e.lock_version}stateShouldUpdate(e){return this.state.titleText!==e.title_text||this.state.descriptionText!==e.description_text}setFormState(e){this.formState=Object.assign(this.formState,e)}}var O=i("mzc0"),T={components:{timeAgoTooltip:i("LcVr").a},props:{updatedAt:{type:String,required:!1,default:""},updatedByName:{type:String,required:!1,default:""},updatedByPath:{type:String,required:!1,default:""}},computed:{hasUpdatedBy(){return this.updatedByName&&this.updatedByPath}}},j=i("bPvS"),C=Object(j.a)(T,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("small",{staticClass:"edited-text"},[e._v("\n  Edited\n  "),e.updatedAt?i("time-ago-tooltip",{attrs:{time:e.updatedAt,"tooltip-placement":"bottom"}}):e._e(),e._v(" "),e.hasUpdatedBy?i("span",[e._v("\n    by\n    "),i("a",{staticClass:"author-link",attrs:{href:e.updatedByPath}},[i("span",[e._v(e._s(e.updatedByName))])])]):e._e()],1)}),[],!1,null,null,null).exports,E=i("Q04j"),I=i("6oy4"),x=i.n(I),D=i("s1DB"),P=i("RlQ7"),N=i.n(P),A=i("cuRJ"),R=i("qINL"),L=i("mWeI"),$={methods:{updateIssuable(){this.formState.updateLoading=!0,m.$emit("update.issuable")}}},q=i("LdpZ");const F={issue:Object(p.a)("Issue"),epic:Object(p.a)("Epic"),incident:Object(p.a)("Incident")},B=L.a.mixin({label:"delete_issue"});var M={components:{DeleteIssueModal:q.a,GlButton:A.a},directives:{GlModal:R.a},mixins:[B,$],props:{canDestroy:{type:Boolean,required:!0},endpoint:{required:!0,type:String},formState:{type:Object,required:!0},showDeleteButton:{type:Boolean,required:!1,default:!0},issuableType:{type:String,required:!0}},data:()=>({deleteLoading:!1,skipApollo:!1,issueState:{},modalId:N()("delete-issuable-modal-")}),apollo:{issueState:{query:b.a,skip(){return this.skipApollo},result(){this.skipApollo=!0}}},computed:{deleteIssuableButtonText(){return Object(p.h)(Object(p.a)("Delete %{issuableType}"),{issuableType:this.typeToShow.toLowerCase()})},isSubmitEnabled(){return""!==this.formState.title.trim()},shouldShowDeleteButton(){return this.canDestroy&&this.showDeleteButton},typeToShow(){var e;const{issueState:t,issuableType:i}=this,n=null!==(e=t.issueType)&&void 0!==e?e:i;return F[n]}},methods:{closeForm(){m.$emit("close.form")},deleteIssuable(){this.deleteLoading=!0,m.$emit("delete.issuable")}}},U=Object(j.a)(M,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-mt-3 gl-mb-3 gl-display-flex gl-justify-content-space-between"},[i("div",[i("gl-button",{staticClass:"qa-save-button gl-mr-3",attrs:{loading:e.formState.updateLoading,disabled:e.formState.updateLoading||!e.isSubmitEnabled,category:"primary",variant:"confirm","data-testid":"issuable-save-button",type:"submit"},on:{click:function(t){return t.preventDefault(),e.updateIssuable(t)}}},[e._v("\n      "+e._s(e.__("Save changes"))+"\n    ")]),e._v(" "),i("gl-button",{attrs:{"data-testid":"issuable-cancel-button"},on:{click:e.closeForm}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1),e._v(" "),e.shouldShowDeleteButton?i("div",[i("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.modalId,expression:"modalId"}],staticClass:"qa-delete-button",attrs:{loading:e.deleteLoading,disabled:e.deleteLoading,category:"secondary",variant:"danger","data-testid":"issuable-delete-button"},on:{click:function(t){return e.track("click_button")}}},[e._v("\n      "+e._s(e.deleteIssuableButtonText)+"\n    ")]),e._v(" "),i("delete-issue-modal",{attrs:{"issue-path":e.endpoint,"issue-type":e.typeToShow,"modal-id":e.modalId,title:e.deleteIssuableButtonText},on:{delete:e.deleteIssuable}})],1):e._e()])}),[],!1,null,null,null).exports,V={components:{markdownField:i("WW8A").a},mixins:[$],props:{formState:{type:Object,required:!0},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},canAttachFile:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0}},mounted(){this.$refs.textarea.focus()}},H=Object(j.a)(V,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-note-form"},[i("label",{staticClass:"sr-only",attrs:{for:"issue-description"}},[e._v(e._s(e.__("Description")))]),e._v(" "),i("markdown-field",{attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete,"textarea-value":e.formState.description},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formState.description,expression:"formState.description"}],ref:"textarea",staticClass:"note-textarea js-gfm-input js-autosize markdown-area qa-description-textarea",attrs:{id:"issue-description",dir:"auto","data-supports-quick-actions":"true","aria-label":e.__("Description"),placeholder:e.__("Write a comment or drag your files here")},domProps:{value:e.formState.description},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateIssuable(t):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateIssuable(t):null}],input:function(t){t.target.composing||e.$set(e.formState,"description",t.target.value)}}})]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,z=i("c/I3"),G={components:{GlIcon:n.a},props:{formState:{type:Object,required:!0},issuableTemplates:{type:[Object,Array],required:!1,default:function(){return{}}},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0}},computed:{issuableTemplatesJson(){return JSON.stringify(this.issuableTemplates)}},mounted(){var e=this;const t=document.querySelector(".detail-page-description .note-textarea")||{};t.setValue=function(t){e.formState.description=t},t.getValue=function(){return e.formState.description},this.issuableTemplate=new z.a({$dropdowns:x()(this.$refs.toggle),editor:t})}},W=Object(j.a)(G,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown js-issuable-selector-wrap gl-mb-0",attrs:{"data-issuable-type":"issues"}},[i("button",{ref:"toggle",staticClass:"dropdown-menu-toggle js-issuable-selector gl-button",attrs:{"data-namespace-path":e.projectNamespace,"data-project-path":e.projectPath,"data-project-id":e.projectId,"data-data":e.issuableTemplatesJson,type:"button","data-field-name":"issuable_template","data-selected":"null","data-toggle":"dropdown"}},[i("span",{staticClass:"dropdown-toggle-text"},[e._v(e._s(e.__("Choose a template")))]),e._v(" "),i("gl-icon",{staticClass:"gl-absolute gl-top-3 gl-right-3 gl-text-gray-500",attrs:{name:"chevron-down"}})],1),e._v(" "),i("div",{staticClass:"dropdown-menu dropdown-select"},[i("div",{staticClass:"dropdown-title gl-display-flex gl-justify-content-center"},[i("span",{staticClass:"gl-ml-auto"},[e._v(e._s(e.__("Choose a template")))]),e._v(" "),i("button",{staticClass:"dropdown-title-button dropdown-menu-close gl-ml-auto",attrs:{"aria-label":e.__("Close"),type:"button"}},[i("gl-icon",{staticClass:"dropdown-menu-close-icon",attrs:{name:"close"}})],1)]),e._v(" "),i("div",{staticClass:"dropdown-input"},[i("input",{staticClass:"dropdown-input-field",attrs:{type:"search",placeholder:e.__("Filter"),autocomplete:"off"}}),e._v(" "),i("gl-icon",{staticClass:"dropdown-input-search",attrs:{name:"search"}}),e._v(" "),i("gl-icon",{staticClass:"dropdown-input-clear js-dropdown-input-clear",attrs:{name:"close","aria-label":e.__("Clear templates search input")}})],1),e._v(" "),i("div",{staticClass:"dropdown-content"}),e._v(" "),i("div",{staticClass:"dropdown-footer"},[i("ul",{staticClass:"dropdown-footer-list"},[i("li",[i("a",{staticClass:"no-template"},[e._v(e._s(e.__("No template")))])]),e._v(" "),i("li",[i("a",{staticClass:"reset-template"},[e._v(e._s(e.__("Reset template")))])])])])])])}),[],!1,null,null,null).exports,Y={mixins:[$],props:{formState:{type:Object,required:!0}}},K=Object(j.a)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fieldset",[i("label",{staticClass:"sr-only",attrs:{for:"issuable-title"}},[e._v(e._s(e.__("Title")))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formState.title,expression:"formState.title"}],ref:"input",staticClass:"form-control qa-title-input gl-border-gray-200",attrs:{id:"issuable-title",dir:"auto",type:"text",placeholder:e.__("Title"),"aria-label":e.__("Title")},domProps:{value:e.formState.title},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateIssuable(t):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateIssuable(t):null}],input:function(t){t.target.composing||e.$set(e.formState,"title",t.target.value)}}})])}),[],!1,null,null,null).exports,Q=i("G7sT"),Z=i.n(Q),J=i("tXCq"),X=i("OkMp"),ee=i("0X+3"),te=i("0wJS"),ie=i.n(te);var ne={i18n:{label:Object(p.a)("Issue Type")},issuableTypes:h.i,components:{GlFormGroup:J.a,GlIcon:n.a,GlDropdown:X.a,GlDropdownItem:ee.a},inject:{canCreateIncident:{default:!1},issueType:{default:"issue"}},data:()=>({issueState:{}}),apollo:{issueState:{query:b.a}},computed:{dropdownText(){const{issueState:{issueType:e}}=this;return Z()(e)},shouldShowIncident(){return this.issueType===h.a||this.canCreateIncident}},methods:{updateIssueType(e){this.$apollo.mutate({mutation:ie.a,variables:{issueType:e,isDirty:!0}})},isShown(e){return e.value!==h.a||this.shouldShowIncident}}},se=Object(j.a)(ne,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-form-group",{staticClass:"mb-2 mb-md-0",attrs:{label:e.$options.i18n.label,"label-class":"sr-only","label-for":"issuable-type"}},[i("gl-dropdown",{staticClass:"gl-w-full",attrs:{id:"issuable-type","aria-labelledby":e.$options.i18n.label,text:e.dropdownText,"header-text":e.$options.i18n.label,"toggle-class":"dropdown-menu-toggle"}},e._l(e.$options.issuableTypes,(function(t){return i("gl-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.isShown(t),expression:"isShown(type)"}],key:t.value,attrs:{"is-checked":e.issueState.issueType===t.value,"is-check-item":""},on:{click:function(i){return e.updateIssueType(t.value)}}},[i("gl-icon",{attrs:{name:t.icon}}),e._v("\n      "+e._s(t.text)+"\n    ")],1)})),1)],1)}),[],!1,null,null,null).exports,ae=i("nPFI"),re=i("u1ru");var oe={alertMessage:Object(p.a)("Someone edited the issue at the same time you did. Please check out %{linkStart}the issue%{linkEnd} and make sure your changes will not unintentionally remove theirs."),components:{GlSprintf:ae.a,GlLink:re.a},computed:{currentPath:()=>window.location.pathname}},le=Object(j.a)(oe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"alert alert-danger"},[i("gl-sprintf",{attrs:{message:e.$options.alertMessage},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.currentPath,target:"_blank",rel:"nofollow"}},[e._v("\n        "+e._s(n)+"\n      ")])]}}])})],1)}),[],!1,null,null,null).exports,ce={components:{DescriptionField:H,DescriptionTemplateField:W,EditActions:U,GlAlert:E.a,IssuableTitleField:K,IssuableTypeField:se,LockedWarning:le},props:{canDestroy:{type:Boolean,required:!0},endpoint:{type:String,required:!0},formState:{type:Object,required:!0},issuableTemplates:{type:[Object,Array],required:!1,default:function(){return[]}},issuableType:{type:String,required:!0},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0},showDeleteButton:{type:Boolean,required:!1,default:!0},canAttachFile:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0},initialDescriptionText:{type:String,required:!1,default:""}},data:()=>({showOutdatedDescriptionWarning:!1}),computed:{hasIssuableTemplates(){return Object.values(Object(this.issuableTemplates)).length},showLockedWarning(){return this.formState.lockedWarningVisible&&!this.formState.updateLoading},isIssueType(){return this.issuableType===c.c.Issue}},created(){m.$on("delete.issuable",this.resetAutosave),m.$on("update.issuable",this.resetAutosave),m.$on("close.form",this.resetAutosave)},mounted(){this.initAutosave()},beforeDestroy(){m.$off("delete.issuable",this.resetAutosave),m.$off("update.issuable",this.resetAutosave),m.$off("close.form",this.resetAutosave)},methods:{initAutosave(){const{description:{$refs:{textarea:e}},title:{$refs:{input:t}}}=this.$refs;this.autosaveDescription=new D.a(x()(e),[document.location.pathname,document.location.search,"description"],null,this.formState.lock_version);const i=this.autosaveDescription.getSavedLockVersion();this.showOutdatedDescriptionWarning=i&&String(this.formState.lock_version)!==i,this.autosaveTitle=new D.a(x()(t),[document.location.pathname,document.location.search,"title"])},resetAutosave(){this.autosaveDescription.reset(),this.autosaveTitle.reset()},keepAutosave(){const{description:{$refs:{textarea:e}}}=this.$refs;e.focus(),this.showOutdatedDescriptionWarning=!1},discardAutosave(){const{description:{$refs:{textarea:e}}}=this.$refs;e.value=this.initialDescriptionText,e.focus(),this.showOutdatedDescriptionWarning=!1}}},de=Object(j.a)(ce,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{attrs:{"data-testid":"issuable-form"}},[e.showLockedWarning?i("locked-warning"):e._e(),e._v(" "),e.showOutdatedDescriptionWarning?i("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:"warning","primary-button-text":e.__("Keep"),"secondary-button-text":e.__("Discard"),dismissible:!1},on:{primaryAction:e.keepAutosave,secondaryAction:e.discardAutosave}},[e._v(e._s(e.__("The comment you are editing has been changed by another user. Would you like to keep your changes and overwrite the new description or discard your changes?")))]):e._e(),e._v(" "),i("div",{staticClass:"row gl-mb-3"},[i("div",{staticClass:"col-12"},[i("issuable-title-field",{ref:"title",attrs:{"form-state":e.formState}})],1)]),e._v(" "),i("div",{staticClass:"row"},[e.isIssueType?i("div",{staticClass:"col-12 col-md-4 pr-md-0"},[i("issuable-type-field",{ref:"issue-type"})],1):e._e(),e._v(" "),e.hasIssuableTemplates?i("div",{staticClass:"col-12 col-md-4 pl-md-2"},[i("description-template-field",{attrs:{"form-state":e.formState,"issuable-templates":e.issuableTemplates,"project-path":e.projectPath,"project-id":e.projectId,"project-namespace":e.projectNamespace}})],1):e._e()]),e._v(" "),i("description-field",{ref:"description",attrs:{"form-state":e.formState,"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete}}),e._v(" "),i("edit-actions",{attrs:{endpoint:e.endpoint,"form-state":e.formState,"can-destroy":e.canDestroy,"show-delete-button":e.showDeleteButton,"issuable-type":e.issuableType}})],1)}),[],!1,null,null,null).exports,ue={components:{GlButton:A.a},props:{zoomMeetingUrl:{type:String,required:!1,default:""},publishedIncidentUrl:{type:String,required:!1,default:""}},computed:{pinnedLinks(){const e=[];return this.publishedIncidentUrl&&e.push({id:"publishedIncidentUrl",url:this.publishedIncidentUrl,text:h.h,icon:"tanuki"}),this.zoomMeetingUrl&&e.push({id:"zoomMeetingUrl",url:this.zoomMeetingUrl,text:h.f,icon:"brand-zoom"}),e}},methods:{needsPaddingClass(e){return e<this.pinnedLinks.length-1}}},pe=Object(j.a)(ue,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.pinnedLinks&&e.pinnedLinks.length?i("div",{staticClass:"gl-display-flex gl-justify-content-start"},[e._l(e.pinnedLinks,(function(t,n){return[t.url?i("div",{key:t.id,class:{"gl-pr-3":e.needsPaddingClass(n)}},[i("gl-button",{staticClass:"gl-font-weight-bold gl-mb-5",attrs:{href:t.url,target:"_blank",icon:t.icon,size:"small","data-testid":t.id}},[e._v(e._s(t.text))])],1):e._e()]}))],2):e._e()}),[],!1,null,null,null).exports,he=i("9LGn"),fe=i("A1mw"),me={i18n:{editTitleAndDescription:Object(p.a)("Edit title and description")},components:{GlButton:A.a},directives:{GlTooltip:a.a,SafeHtml:he.a},mixins:[fe.a],props:{issuableRef:{type:[String,Number],required:!0},canUpdate:{required:!1,type:Boolean,default:!1},titleHtml:{type:String,required:!0},titleText:{type:String,required:!0},showInlineEditButton:{type:Boolean,required:!1,default:!1}},data:()=>({preAnimation:!1,pulseAnimation:!1,titleEl:document.querySelector("title")}),watch:{titleHtml(){this.setPageTitle(),this.animateChange()}},methods:{setPageTitle(){const e=this.titleEl.innerText.split("");e[0]=`${this.titleText} (${this.issuableRef}) `,this.titleEl.textContent=e.join("")},edit(){m.$emit("open.form")}}},ge=Object(j.a)(me,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-container"},[i("h2",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.titleHtml,expression:"titleHtml"}],staticClass:"title qa-title",class:{"issue-realtime-pre-pulse":e.preAnimation,"issue-realtime-trigger-pulse":e.pulseAnimation},attrs:{dir:"auto"}}),e._v(" "),e.showInlineEditButton&&e.canUpdate?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"btn-edit js-issuable-edit qa-edit-button",attrs:{icon:"pencil",title:e.$options.i18n.editTitleAndDescription,"aria-label":e.$options.i18n.editTitleAndDescription},on:{click:e.edit}}):e._e()],1)}),[],!1,null,null,null).exports,be={components:{GlIcon:n.a,GlIntersectionObserver:s.a,titleComponent:ge,editedComponent:C,formComponent:de,PinnedLinks:pe},directives:{GlTooltip:a.a},props:{endpoint:{required:!0,type:String},updateEndpoint:{required:!0,type:String},canUpdate:{required:!0,type:Boolean},canDestroy:{required:!0,type:Boolean},showInlineEditButton:{type:Boolean,required:!1,default:!0},showDeleteButton:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0},zoomMeetingUrl:{type:String,required:!1,default:""},publishedIncidentUrl:{type:String,required:!1,default:""},issuableRef:{type:String,required:!0},issuableStatus:{type:String,required:!1,default:""},initialTitleHtml:{type:String,required:!0},initialTitleText:{type:String,required:!0},initialDescriptionHtml:{type:String,required:!1,default:""},initialDescriptionText:{type:String,required:!1,default:""},initialTaskStatus:{type:String,required:!1,default:""},updatedAt:{type:String,required:!1,default:""},updatedByName:{type:String,required:!1,default:""},updatedByPath:{type:String,required:!1,default:""},issuableTemplateNamesPath:{type:String,required:!1,default:""},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0},isConfidential:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:"issue"},canAttachFile:{type:Boolean,required:!1,default:!0},lockVersion:{type:Number,required:!1,default:0},descriptionComponent:{type:Object,required:!1,default:function(){return O.a}},showTitleBorder:{type:Boolean,required:!1,default:!0},isHidden:{type:Boolean,required:!1,default:!1}},data(){const e=new k({titleHtml:this.initialTitleHtml,titleText:this.initialTitleText,descriptionHtml:this.initialDescriptionHtml,descriptionText:this.initialDescriptionText,updatedAt:this.updatedAt,updatedByName:this.updatedByName,updatedByPath:this.updatedByPath,taskStatus:this.initialTaskStatus,lock_version:this.lockVersion});return{store:e,state:e.state,showForm:!1,templatesRequested:!1,isStickyHeaderShowing:!1,issueState:{}}},apollo:{issueState:{query:b.a}},computed:{issuableTemplates(){return this.store.formState.issuableTemplates},formState(){return this.store.formState},hasUpdated(){return Boolean(this.state.updatedAt)},issueChanged(){const{store:{formState:{description:e,title:t}},initialDescriptionText:i,initialTitleText:n}=this;return i||e?i!==e:!(!n&&!t)&&n!==t},defaultErrorMessage(){return Object(p.h)(Object(p.a)("Error updating %{issuableType}"),{issuableType:this.issuableType})},isClosed(){return this.issuableStatus===c.a.Closed},pinnedLinkClasses(){return this.showTitleBorder?"gl-border-b-1 gl-border-b-gray-100 gl-border-b-solid gl-mb-6":""},statusIcon(){return this.isClosed?"issue-close":"issue-open-m"},statusText(){return c.b[this.issuableStatus]},shouldShowStickyHeader(){return this.issuableType===c.c.Issue}},created(){var e=this;this.flashContainer=null,this.service=new y(this.endpoint),this.poll=new d.a({resource:this.service,method:"getData",successCallback:function(t){return e.store.updateState(t.data)},errorCallback(e){throw new Error(e)}}),o.a.hidden()||this.poll.makeDelayedRequest(h.g),o.a.change((function(){o.a.hidden()?e.poll.stop():e.poll.restart()})),window.addEventListener("beforeunload",this.handleBeforeUnloadEvent),m.$on("update.issuable",this.updateIssuable),m.$on("close.form",this.closeForm),m.$on("open.form",this.openForm)},beforeDestroy(){m.$off("update.issuable",this.updateIssuable),m.$off("close.form",this.closeForm),m.$off("open.form",this.openForm),window.removeEventListener("beforeunload",this.handleBeforeUnloadEvent)},methods:{handleBeforeUnloadEvent(e){const t=e;this.showForm&&this.issueChanged&&!this.issueState.isDirty&&(t.returnValue=Object(p.a)("Are you sure you want to lose your issue information?"))},updateStoreState(){var e=this;return this.service.getData().then((function(e){return e.data})).then((function(t){e.store.updateState(t)})).catch((function(){Object(l.f)({message:e.defaultErrorMessage})}))},updateAndShowForm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.showForm||(this.showForm=!0,this.store.setFormState({title:this.state.titleText,description:this.state.descriptionText,lock_version:this.state.lock_version,lockedWarningVisible:!1,updateLoading:!1,issuableTemplates:e}))},requestTemplatesAndShowForm(){var e=this;return this.service.loadTemplates(this.issuableTemplateNamesPath).then((function(t){e.updateAndShowForm(t.data)})).catch((function(){Object(l.f)({message:e.defaultErrorMessage}),e.updateAndShowForm()}))},openForm(){this.templatesRequested?this.updateAndShowForm(this.issuableTemplates):(this.templatesRequested=!0,this.requestTemplatesAndShowForm())},closeForm(){this.showForm=!1},updateIssuable(){var e=this;const{store:{formState:t},issueState:i}=this,n=i.isDirty?{...t,issue_type:i.issueType}:t;return this.clearFlash(),this.service.updateIssuable(n).then((function(e){return e.data})).then((function(e){if(window.location.pathname.includes(e.web_url)||i.issueType===h.a||Object(u.N)(e.web_url),i.isDirty){const t=i.issueType===h.a?e.web_url.replace(h.e,h.b):e.web_url;Object(u.N)(t)}})).then(this.updateStoreState).then((function(){m.$emit("close.form")})).catch((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{message:i,response:n={}}=t;e.store.setFormState({updateLoading:!1});let s=e.defaultErrorMessage;n.data&&n.data.errors?s+=`. ${n.data.errors.join(" ")}`:i&&(s+=`. ${i}`),e.flashContainer=Object(l.f)({message:s})}))},hideStickyHeader(){this.isStickyHeaderShowing=!1},showStickyHeader(){this.isStickyHeaderShowing=!0},clearFlash(){this.flashContainer&&(this.flashContainer.style.display="none",this.flashContainer=null)},taskListUpdateStarted(){this.poll.stop()},taskListUpdateSucceeded(){this.poll.enable(),this.poll.makeDelayedRequest(h.g)},taskListUpdateFailed(){this.poll.enable(),this.poll.makeDelayedRequest(h.g),this.updateStoreState()}}},ve=Object(j.a)(be,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.canUpdate&&e.showForm?i("div",[i("form-component",{attrs:{endpoint:e.endpoint,"form-state":e.formState,"initial-description-text":e.initialDescriptionText,"can-destroy":e.canDestroy,"issuable-templates":e.issuableTemplates,"markdown-docs-path":e.markdownDocsPath,"markdown-preview-path":e.markdownPreviewPath,"project-path":e.projectPath,"project-id":e.projectId,"project-namespace":e.projectNamespace,"show-delete-button":e.showDeleteButton,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete,"issuable-type":e.issuableType}})],1):i("div",[i("title-component",{attrs:{"issuable-ref":e.issuableRef,"can-update":e.canUpdate,"title-html":e.state.titleHtml,"title-text":e.state.titleText,"show-inline-edit-button":e.showInlineEditButton}}),e._v(" "),e.shouldShowStickyHeader?i("gl-intersection-observer",{on:{appear:e.hideStickyHeader,disappear:e.showStickyHeader}},[i("transition",{attrs:{name:"issuable-header-slide"}},[e.isStickyHeaderShowing?i("div",{staticClass:"issue-sticky-header gl-fixed gl-z-index-3 gl-bg-white gl-border-1 gl-border-b-solid gl-border-b-gray-100 gl-py-3",attrs:{"data-testid":"issue-sticky-header"}},[i("div",{staticClass:"issue-sticky-header-text gl-display-flex gl-align-items-center gl-mx-auto gl-px-5"},[i("p",{staticClass:"issuable-status-box status-box gl-my-0",class:[e.isClosed?"status-box-issue-closed":"status-box-open"]},[i("gl-icon",{staticClass:"gl-display-block d-sm-none gl-h-6!",attrs:{name:e.statusIcon}}),e._v(" "),i("span",{staticClass:"gl-display-none d-sm-block"},[e._v(e._s(e.statusText))])],1),e._v(" "),e.isLocked?i("span",{staticClass:"issuable-warning-icon",attrs:{"data-testid":"locked"}},[i("gl-icon",{attrs:{name:"lock","aria-label":e.__("Locked")}})],1):e._e(),e._v(" "),e.isConfidential?i("span",{staticClass:"issuable-warning-icon",attrs:{"data-testid":"confidential"}},[i("gl-icon",{attrs:{name:"eye-slash","aria-label":e.__("Confidential")}})],1):e._e(),e._v(" "),e.isHidden?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"issuable-warning-icon",attrs:{title:e.__("This issue is hidden because its author has been banned"),"data-testid":"hidden"}},[i("gl-icon",{attrs:{name:"spam"}})],1):e._e(),e._v(" "),i("p",{staticClass:"gl-font-weight-bold gl-overflow-hidden gl-white-space-nowrap gl-text-overflow-ellipsis gl-my-0",attrs:{title:e.state.titleText}},[e._v("\n              "+e._s(e.state.titleText)+"\n            ")])])]):e._e()])],1):e._e(),e._v(" "),i("pinned-links",{class:e.pinnedLinkClasses,attrs:{"zoom-meeting-url":e.zoomMeetingUrl,"published-incident-url":e.publishedIncidentUrl}}),e._v(" "),i(e.descriptionComponent,{tag:"component",attrs:{"can-update":e.canUpdate,"description-html":e.state.descriptionHtml,"description-text":e.state.descriptionText,"updated-at":e.state.updatedAt,"task-status":e.state.taskStatus,"issuable-type":e.issuableType,"update-url":e.updateEndpoint,"lock-version":e.state.lock_version},on:{taskListUpdateStarted:e.taskListUpdateStarted,taskListUpdateSucceeded:e.taskListUpdateSucceeded,taskListUpdateFailed:e.taskListUpdateFailed}}),e._v(" "),e.hasUpdated?i("edited-component",{attrs:{"updated-at":e.state.updatedAt,"updated-by-name":e.state.updatedByName,"updated-by-path":e.state.updatedByPath}}):e._e()],1)])}),[],!1,null,null,null);t.a=ve.exports},rbVQ:function(e,t,i){var n=i("Fcw5")({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=n},reYZ:function(e,t,i){var n=i("ueyC");e.exports=function(e,t,i,s){for(var a=e.length,r=s?a:-1;(s?r--:++r<a)&&t(e[r],r,e););return i?n(e,s?0:r,s?r+1:a):n(e,s?r+1:0,s?a:r)}},rh11:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return o}));var n=i("vRHk");const s=function(e){try{window.localStorage.removeItem(`autosave/${e}`)}catch(e){console.error(e)}},a=function(e){try{return window.localStorage.getItem(`autosave/${e}`)}catch(e){return console.error(e),null}},r=function(e,t){try{window.localStorage.setItem(`autosave/${e}`,t)}catch(e){console.error(e)}},o=function(e,t){return["Note",Object(n.b)(e),t,"Reply"].join("/")}},rj5h:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"projectWorkItemTypes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemTypes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:174}};i.loc.source={body:"query projectWorkItemTypes($fullPath: ID!) {\n  workspace: project(fullPath: $fullPath) {\n    id\n    workItemTypes {\n      nodes {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.projectWorkItemTypes=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"projectWorkItemTypes")},rl7y:function(e,t,i){var n=i("ogBI"),s=4;e.exports=function(e){return n(e,s)}},rmDS:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("q+nE"),s=i("oj/M"),a=i("KZmS");function r(){const e=document.querySelector(".js-related-issues-root");e&&new n.default({el:e,name:"RelatedIssuesRoot",components:{relatedIssuesRoot:a.a},render:function(t){return t("related-issues-root",{props:{endpoint:e.dataset.endpoint,canAdmin:Object(s.E)(e.dataset.canAddRelatedIssues),helpPath:e.dataset.helpPath,showCategorizedIssues:Object(s.E)(e.dataset.showCategorizedIssues)}})}})}},"s+sb":function(e,t,i){"use strict";var n=i("jyii"),s=i("ryFn"),a=i("ZVxY"),r=i("zgUD"),o=i("gCUY"),l=i("BhOj"),c=i("Sq3g"),d=i("G55H"),u=i("ySPH"),p=i("HBPU"),h=i("hmuM"),f=i("Z2pp"),m=i("ummR"),g=i("PrCM"),b=i("GpHn");function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _=Object(o.c)({headVariant:{type:String,default:null}},n.ib),w=f.a.extend({name:n.ib,mixins:[m.a,g.a,b.a],provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},inheritAttrs:!1,props:_,computed:{isThead:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},theadClasses:function(){return[this.headVariant?"thead-".concat(this.headVariant):null]},theadAttrs:function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({role:"rowgroup"},this.bvAttrs)}},render:function(e){return e("thead",{class:this.theadClasses,attrs:this.theadAttrs,on:this.bvListeners},this.normalizeSlot())}}),S=i("cotN"),k=i("N+rP"),O=i("Ae6b");function T(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){I(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.a={props:Object(o.c)({headVariant:{type:String},headRowVariant:{type:String},theadClass:{type:[String,Array,Object]},theadTrClass:{type:[String,Array,Object]}},n.ab),methods:{fieldClasses:function(e){return[e.class?e.class:"",e.thClass?e.thClass:""]},headClicked:function(e,t,i){this.stopIfBusy&&this.stopIfBusy(e)||Object(p.a)(e)||Object(h.a)(this.$el)||(Object(l.d)(e),this.$emit("head-clicked",t.key,t,e,i))},renderThead:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.$createElement,n=this.computedFields||[];if(this.isStackedAlways||0===n.length)return i();var o=this.isSortable,l=this.isSelectable,p=this.headVariant,h=this.footVariant,f=this.headRowVariant,m=this.footRowVariant,g=o||this.hasListener("head-clicked"),b=l?this.selectAllRows:r.a,v=l?this.clearSelected:r.a,y=function(n,r){var l=n.label,d=n.labelHtml,p=n.variant,h=n.stickyColumn,f=n.key,m=null;n.label.trim()||n.headerTitle||(m=Object(u.d)(n.key));var y={};g&&(y.click=function(i){e.headClicked(i,n,t)},y.keydown=function(i){var a=i.keyCode;a!==s.c&&a!==s.h||e.headClicked(i,n,t)});var _=o?e.sortTheadThAttrs(f,n,t):{},w=o?e.sortTheadThClasses(f,n,t):null,S=o?e.sortTheadThLabel(f,n,t):null,k={class:[e.fieldClasses(n),w],props:{variant:p,stickyColumn:h},style:n.thStyle||{},attrs:E(E({tabindex:g&&n.sortable?"0":null,abbr:n.headerAbbr||null,title:n.headerTitle||null,"aria-colindex":r+1,"aria-label":m},e.getThValues(null,f,n.thAttr,t?"foot":"head",{})),_),on:y,key:f},j=["head(".concat(f,")"),"head(".concat(f.toLowerCase(),")"),"head()"];t&&(j=["foot(".concat(f,")"),"foot(".concat(f.toLowerCase(),")"),"foot()"].concat(T(j)));var C={label:l,column:f,field:n,isFoot:t,selectAllRows:b,clearSelected:v},I=e.normalizeSlot(j,C)||i("div",{domProps:Object(c.a)(d,l)}),x=S?i("span",{staticClass:"sr-only"}," (".concat(S,")")):null;return i(O.a,k,[I,x].filter(a.a))},_=n.map(y).filter(a.a),j=[];if(t)j.push(i(k.a,{class:this.tfootTrClass,props:{variant:Object(d.o)(m)?f:m}},_));else{var C={columns:n.length,fields:n,selectAllRows:b,clearSelected:v};j.push(this.normalizeSlot("thead-top",C)||i()),j.push(i(k.a,{class:this.theadTrClass,props:{variant:f}},_))}return i(t?S.a:w,{key:t?"bv-tfoot":"bv-thead",class:(t?this.tfootClass:this.theadClass)||null,props:t?{footVariant:h||p||null}:{headVariant:p||null}},j)}}}},s1va:function(e,t,i){var n=i("ogBI"),s=1,a=4;e.exports=function(e){return n(e,s|a)}},s3Vi:function(e,t,i){"use strict";var n=i("jyii"),s=i("gCUY");t.a={props:Object(s.c)({stacked:{type:[Boolean,String],default:!1}},n.ab),computed:{isStacked:function(){return""===this.stacked||this.stacked},isStackedAlways:function(){return!0===this.isStacked},stackedTableClasses:function(){return e={"b-table-stacked":this.isStackedAlways},t="b-table-stacked-".concat(this.stacked),i=!this.isStackedAlways&&this.isStacked,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e;var e,t,i}}}},s4Bd:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY"),o=Object(r.c)({tag:{type:String,default:"div"}},a.N),l=n.a.extend({name:a.N,functional:!0,props:o,render:function(e,t){var i=t.props,n=t.data,a=t.children;return e(i.tag,Object(s.a)(n,{staticClass:"input-group-text"}),a)}})},sFNI:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("CkNe"),a={components:{GlBadge:i("F+K/").a},computed:{...Object(s.d)("batchComments",["draftsCount"])}},r=i("bPvS"),o=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-badge",{staticClass:"gl-ml-2",attrs:{size:"sm",variant:"info"}},[this._v("\n  "+this._s(this.draftsCount)+"\n  "),t("span",{staticClass:"sr-only"},[this._v(" "+this._s(this.n__("draft","drafts",this.draftsCount))+" ")])])}),[],!1,null,null,null).exports,l={components:{GlButton:n.a,DraftsCount:o},props:{showCount:{type:Boolean,required:!1,default:!1},category:{type:String,required:!1,default:"primary"},variant:{type:String,required:!1,default:"confirm"}},computed:{...Object(s.f)("batchComments",["isPublishing"])},methods:{...Object(s.c)("batchComments",["publishReview"]),onClick(){this.publishReview()}}},c=Object(r.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-button",{staticClass:"js-publish-draft-button",attrs:{loading:e.isPublishing,"data-qa-selector":"submit_review_button",category:e.category,variant:e.variant},on:{click:e.onClick}},[e._v("\n  "+e._s(e.__("Submit review"))+"\n  "),e.showCount?i("drafts-count"):e._e()],1)}),[],!1,null,null,null);t.a=c.exports},sRfO:function(e,t,i){"use strict";var n=i("ly/8"),s=i("H8gz"),a=i("zLBL"),r=i("meSH"),o=i("teVv"),l=i("mpzd"),c=i("oj/M"),d=i("t9l/"),u=i("dYBJ"),p=i("5ee2");var h={tracking:{event:p.e.editEvent,label:p.e.rightSidebarLabel,property:"subscriptions"},directives:{GlTooltip:n.a},components:{GlIcon:s.a,GlLoadingIcon:a.a,GlToggle:r.a,SidebarEditableItem:u.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({subscribed:!1,loading:!1,emailsDisabled:!1}),apollo:{subscribed:{query(){return p.s[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t?void 0:null===(i=t.issuable)||void 0===i?void 0:i.subscribed)||!1},result(e){var t,i,n,s,a;let{data:r}=e;r&&(this.emailsDisabled=this.parentIsGroup?null===(t=r.workspace)||void 0===t?void 0:t.emailsDisabled:null===(i=r.workspace)||void 0===i?void 0:null===(n=i.issuable)||void 0===n?void 0:n.emailsDisabled,this.$emit("subscribedUpdated",null===(s=r.workspace)||void 0===s?void 0:null===(a=s.issuable)||void 0===a?void 0:a.subscribed))},error(){Object(o.f)({message:Object(d.h)(Object(d.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:this.issuableType})})}}},computed:{isLoading(){var e,t;return(null===(e=this.$apollo.queries)||void 0===e?void 0:null===(t=e.subscribed)||void 0===t?void 0:t.loading)||this.loading},notificationTooltip(){return this.emailsDisabled?this.subscribeDisabledDescription:this.subscribed?this.$options.i18n.labelOn:this.$options.i18n.labelOff},notificationIcon(){return this.emailsDisabled||!this.subscribed?"notifications-off":"notifications"},parentIsGroup(){return this.issuableType===l.c.Epic},subscribeDisabledDescription(){return Object(d.h)(Object(d.a)("Disabled by %{parent} owner"),{parent:this.parentIsGroup?"group":"project"})},isLoggedIn:()=>Object(c.z)(),canSubscribe(){return this.emailsDisabled||!this.isLoggedIn}},methods:{setSubscribed(e){var t=this;this.loading=!0,this.$apollo.mutate({mutation:p.s[this.issuableType].mutation,variables:{fullPath:this.fullPath,iid:this.iid,subscribedState:e}}).then((function(e){let{data:{updateIssuableSubscription:{errors:t}}}=e;t.length&&Object(o.f)({message:t[0]})})).catch((function(){Object(o.f)({message:Object(d.h)(Object(d.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:t.issuableType})})})).finally((function(){t.loading=!1}))},toggleSubscribed(){this.emailsDisabled?this.expandSidebar():this.setSubscribed(!this.subscribed)},expandSidebar(){this.$emit("expandSidebar")}},i18n:{notifications:Object(d.a)("Notifications"),labelOn:Object(d.a)("Notifications on"),labelOff:Object(d.a)("Notifications off")}},f=i("bPvS"),m=Object(f.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",staticClass:"block subscriptions",attrs:{title:e.$options.i18n.notifications,tracking:e.$options.tracking,loading:e.isLoading,"can-edit":!1},scopedSlots:e._u([{key:"collapsed-right",fn:function(){return[i("gl-toggle",{staticClass:"hide-collapsed gl-ml-auto",attrs:{value:e.subscribed,"is-loading":e.isLoading,disabled:e.canSubscribe,"data-testid":"subscription-toggle",label:e.$options.i18n.notifications,"label-position":"hidden"},on:{change:e.setSubscribed}})]},proxy:!0},{key:"collapsed",fn:function(){return[i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],ref:"tooltip",staticClass:"sidebar-collapsed-icon",attrs:{title:e.notificationTooltip},on:{click:e.toggleSubscribed}},[e.isLoading?i("gl-loading-icon",{staticClass:"sidebar-item-icon is-active",attrs:{size:"sm"}}):i("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.emailsDisabled,expression:"emailsDisabled"}],staticClass:"gl-mt-3 hide-collapsed gl-text-gray-500"},[e._v("\n      "+e._s(e.subscribeDisabledDescription)+"\n    ")])]},proxy:!0},{key:"default",fn:function(){},proxy:!0}])})}),[],!1,null,null,null);t.a=m.exports},sRjF:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"g",(function(){return o})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"h",(function(){return u})),i.d(t,"j",(function(){return p})),i.d(t,"i",(function(){return h}));var n=i("t9l/");const s={errorMsg:Object(n.g)("IncidentManagement|There was an error displaying the incidents."),noIncidents:Object(n.g)("IncidentManagement|No incidents to display."),unassigned:Object(n.g)("IncidentManagement|Unassigned"),createIncidentBtnLabel:Object(n.g)("IncidentManagement|Create incident"),unPublished:Object(n.g)("IncidentManagement|Unpublished"),emptyState:{title:Object(n.g)("IncidentManagement|Display your incidents in a dedicated view"),emptyClosedTabTitle:Object(n.g)("IncidentManagement|There are no closed incidents"),description:Object(n.g)("IncidentManagement|All alerts promoted to incidents are automatically displayed within the list. You can also create a new incident using the button below."),cannotCreateIncidentDescription:Object(n.g)("IncidentManagement|All alerts promoted to incidents are automatically displayed within the list.")}},a=[{title:Object(n.g)("IncidentManagement|Open"),status:"OPENED",filters:"opened"},{title:Object(n.g)("IncidentManagement|Closed"),status:"CLOSED",filters:"closed"},{title:Object(n.g)("IncidentManagement|All"),status:"ALL",filters:"all"}],r={"data-testid":"incident-management-created-at-sort"},o={"data-testid":"incident-management-severity-sort"},l={"data-testid":"incident-management-sla"},c={"data-testid":"incident-management-published-sort"},d="incident",u={category:"Incident Management",action:"create_incident_button_clicks"},p={category:"Incident Management",action:"view_incidents_list"},h={category:"Incident Management",action:"view_incident_details"}},sxw2:function(e,t,i){"use strict";var n=i("zLBL"),s=i("H8gz"),a=i("t9l/"),r={name:"AssigneeTitle",components:{GlLoadingIcon:n.a,GlIcon:s.a},props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1},changing:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle(){const e=this.numberOfAssignees;return Object(a.f)("Assignee","%d Assignees",e)},titleCopy(){return this.changing?Object(a.a)("Apply"):Object(a.a)("Edit")}}},o=i("bPvS"),l=Object(o.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hide-collapsed gl-line-height-20 gl-mb-2 gl-text-gray-900"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?i("gl-loading-icon",{staticClass:"align-bottom",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.editable?i("a",{staticClass:"js-sidebar-dropdown-toggle edit-link btn gl-text-gray-900! gl-ml-auto hide-collapsed btn-default btn-sm gl-button btn-default-tertiary float-right",attrs:{href:"#","data-test-id":"edit-link","data-track-action":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"assignee"}},[e._v("\n    "+e._s(e.titleCopy)+"\n  ")]):e._e(),e._v(" "),e.showToggle?i("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":e.__("Toggle sidebar"),href:"#",role:"button"}},[i("gl-icon",{attrs:{"data-hidden":"true",name:"chevron-double-lg-right",size:12}})],1):e._e()],1)}),[],!1,null,null,null);t.a=l.exports},"t+zI":function(e,t,i){"use strict";i.d(t,"a",(function(){return j}));i("AfGZ");var n=i("ZPTr"),s=i.n(n),a=i("lb6a"),r=i.n(a),o=i("ZMwX"),l=i.n(o),c=i("A1CF"),d=i.n(c),u=i("pY+i"),p=i.n(u),h=i("08uz"),f=i.n(h),m=i("6oy4"),g=i.n(m),b=i("rl6E"),v=i("IcBX"),y=i("oj/M"),_=i("teVv"),w=i("mphk"),S=i("t9l/"),k=i("htOw"),O=i("vRHk");class T{constructor(e,t,i){this.$el=e,this.namespacePath=t,this.projectPath=i,this.$dropdownBack=g()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=g()(".js-cancel-label-btn",this.$el),this.$newLabelField=g()("#new_label_name",this.$el),this.$newColorField=g()("#new_label_color",this.$el),this.$colorPreview=g()(".js-dropdown-label-color-preview",this.$el),this.$addList=g()(".js-add-list",this.$el),this.$newLabelError=g()(".js-label-error",this.$el),this.$newLabelErrorContent=g()(".gl-alert-content",this.$newLabelError),this.$newLabelCreateButton=g()(".js-new-label-btn",this.$el),this.$colorSuggestions=g()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.addListDefault=this.$addList.is(":checked"),this.cleanBinding(),this.addBinding()}cleanBinding(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}addBinding(){const e=this;this.$colorSuggestions.on("click",(function(t){const i=g()(this);e.addColorValue(t,i)})),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")})),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}addColorValue(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}enableLabelCreateButton(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}resetForm(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$addList.prop("checked",this.addListDefault),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}saveLabel(e){var t=this;e.preventDefault(),e.stopPropagation(),k.b.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},(function(e){if(t.$newLabelCreateButton.enable(),e.message){let i;i="string"==typeof e.message?e.message:Object.keys(e.message).map((function(t){return`${Object(O.m)(t)} ${e.message[t].join(", ")}`})).join("<br/>"),t.$newLabelErrorContent.html(i),t.$newLabelError.show()}else{const i=t.$addList.is(":checked");t.$dropdownBack.trigger("click"),g()(document).trigger("created.label",[e,i])}}))}}class j{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=this;let n=g()(e);e||(n=g()(".js-label-select")),n.each((function(e,n){const s=g()(n),a=s.closest(".labels-filter"),r=s.data("namespacePath"),o=s.data("projectPath"),c=s.data("issueUpdate");let u=s.data("selected");null==u||s.hasClass("js-multiselect")||(u=u.split(","));const h=s.data("showNo"),f=s.data("showAny"),m=s.data("showMenuAbove"),v=s.data("defaultLabel")||Object(S.a)("Label"),y=s.data("abilityName"),k=s.closest(".selectbox"),O=k.closest(".block"),C=s.closest("form, .js-issuable-update"),E=O.find(".sidebar-collapsed-icon span"),I=O.find(".value"),x=O.find(".block-loading").addClass("gl-display-none"),D=s.data("fieldName");let P=k.find(`input[name="${s.data("fieldName")}"]`).map((function(){return this.value})).get();const N=s.data("scopedLabels"),{handleClick:A}=t;s.closest(".dropdown").find(".dropdown-new-label").length&&new T(s.closest(".dropdown").find(".dropdown-new-label"),r,o);const R=function(){const e=s.closest(".selectbox").find(`input[name='${D}']`).map((function(){return this.value})).get();if(p()(P,e))return;P=e;const t={};t[y]={},t[y].label_ids=e,e.length||(t[y].label_ids=[""]),x.removeClass("gl-display-none"),s.trigger("loading.gl.dropdown"),w.a.put(c,t).then((function(e){let t,{data:i}=e;x.addClass("gl-display-none"),s.trigger("loaded.gl.dropdown"),k.hide(),i.issueUpdateURL=c;let n=0;if(i.labels.length&&c){if(t=j.getLabelTemplate({labels:l()(i.labels,"title"),issueUpdateURL:c,enableScopedLabels:N}),n=i.labels.length,window.gon&&window.gon.ee){const e=Array.from(C.find(`input[type="hidden"][name="${D}"]`)).map((function(e){return e.value})).map(Number);i.labels.forEach((function(t){const i=e.indexOf(t.id);e.splice(i,1)})),e.forEach((function(e){C.find(`input[type="hidden"][name="${D}"][value="${e}"]`).last().remove()}))}}else t=`<span class="no-value">${Object(S.a)("None")}</span>`;I.removeAttr("style").html(t),E.text(n),g()(".has-tooltip",I).tooltip({container:"body"})})).catch((function(){return Object(_.f)({message:Object(S.a)("Error saving label update.")})}))};Object(b.a)(s,{showMenuAbove:m,data(e,t){const i=s.attr("data-labels");w.a.get(i).then((function(e){let{data:i}=e;if(s.hasClass("js-extra-options")){const e=[];h&&e.unshift({id:0,title:Object(S.a)("No label")}),f&&e.unshift({isAny:!0,title:Object(S.a)("Any label")}),e.length&&(e.push({type:"divider"}),i=e.concat(i))}t(i),m&&s.data("deprecatedJQueryDropdown").positionMenuAbove()})).catch((function(){return Object(_.f)({message:Object(S.a)("Error fetching labels.")})}))},renderRow(e){let t;const i=[],n=e.id<=0||null==e.id;if(s.hasClass("js-filter-bulk-update")){const t=s.data("indeterminate")||[],n=s.data("marked")||[];if(-1!==t.indexOf(e.id)&&i.push("is-indeterminate"),-1!==n.indexOf(e.id)){const e=i.indexOf("is-indeterminate");-1!==e&&i.splice(e,1),i.push("is-active")}}else{if(this.id(e)){const t=this.id(e).toString().replace(/'/g,"\\'");C.find(`input[type='hidden'][name='${this.fieldName}'][value='${t}']`).length&&i.push("is-active")}this.multiSelect&&n&&i.push("dropdown-clear-active")}t=e.color?`<span class='dropdown-label-box' style='background: ${e.color}'></span>`:"";const a=document.createElement("a");if(a.href="#",e.id){const t=["d-flex","flex-row","text-break-word"];i.push("label-item",...t),a.dataset.labelId=e.id}a.className=i.join(" "),a.innerHTML=`${t} ${d()(e.title)}`;const r=document.createElement("li");return r.appendChild(a),r},search:{fields:["title"]},selectable:!0,filterable:!0,selected:s.data("selected")||[],toggleLabel(e,t){const i=s.parent(),n=i.find(".dropdown-input-field"),a=null!==t&&t.hasClass("is-active"),r=e?e.title:null,o=this.selected;if(n.length&&n.val().length&&i.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],Object(S.a)("No label");if(a)this.selected.push(r);else if(!a&&r){const e=this.selected.indexOf(r);this.selected.splice(e,1)}return 1===o.length?o:o.length?Object(S.h)(Object(S.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):v},fieldName:s.data("fieldName"),id:e=>e.id<=0?e.title:s.hasClass("js-issuable-form-dropdown")?e.id:s.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id,hidden(){const e=g()("body").attr("data-page"),t="projects:issues:index"===e,i="projects:merge_requests:index"===e;k.hide(),I.removeAttr("style"),s.hasClass("js-issuable-form-dropdown")||g()("html").attr("class").match(/issue-boards-page|epic-boards-page/)||s.hasClass("js-multiselect")&&(s.hasClass("js-filter-submit")&&(t||i)?Issuable.filterResults(s.closest("form")):s.hasClass("js-filter-submit")?s.closest("form").submit():s.hasClass("js-filter-bulk-update")||(R(),s.data("deprecatedJQueryDropdown").clearMenu()))},multiSelect:s.hasClass("js-multiselect"),vue:!1,clicked(e){const{e:t,isMarking:n}=e,a=e.selectedObj,r=g()("body").attr("data-page"),o="projects:issues:index"===r,l="projects:merge_requests:index"===r;if(s.parent().find(".is-active:not(.dropdown-clear-active)").length&&s.parent().find(".dropdown-clear-active").removeClass("is-active"),!s.hasClass("js-issuable-form-dropdown")){if(s.hasClass("js-filter-bulk-update"))return i.enableBulkLabelDropdown(),void i.setDropdownData(s,n,a.id);if(s.hasClass("js-filter-submit")&&(o||l)){if(!s.hasClass("js-multiselect"))return u=a.title,Issuable.filterResults(s.closest("form"))}else{if(s.hasClass("js-filter-submit"))return s.closest("form").submit();if(A)t.preventDefault(),A(a);else if(!s.hasClass("js-multiselect"))return R()}}},preserveContext:!0}),i.setOriginalDropdownData(a,s)})),this.bindEvents()}static getLabelTemplate(e){const t='<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>" class="gl-link gl-label-link has-tooltip" <%= linkAttrs %> title="<%= tooltipTitleTemplate({ label, isScopedLabel, enableScopedLabels, escapeStr }) %>">',i=r()(['<span class="gl-label">',t,'<span class="gl-label-text <%= labelTextClass({ label, escapeStr }) %>" style="background-color: <%= escapeStr(label.color) %>;">',"<%- label.title %>","</span>","</a>","</span>"].join("")),n=function(e){let{label:t,escapeStr:i}=e;return i("#FFFFFF"===t.text_color?"gl-label-text-light":"gl-label-text-dark")},s=r()(['<span class="gl-label gl-label-scoped" style="color: <%= escapeStr(label.color) %>; --label-inset-border: inset 0 0 0 2px <%= escapeStr(label.color) %>;">',t,'<span class="gl-label-text <%= labelTextClass({ label, escapeStr }) %>" style="background-color: <%= escapeStr(label.color) %>;">','<%- label.title.slice(0, label.title.lastIndexOf("::")) %>',"</span>",'<span class="gl-label-text <%= rightLabelTextClass({ label, escapeStr }) %>">','<%- label.title.slice(label.title.lastIndexOf("::") + 2) %>',"</span>","</a>","</span>"].join("")),a=r()(["<% if (isScopedLabel(label) && enableScopedLabels) { %>","<span class='font-weight-bold scoped-label-tooltip-title'>Scoped label</span>","<br />","<%= escapeStr(label.description) %>","<% } else { %>","<%= escapeStr(label.description) %>","<% } %>"].join(""));return r()(["<% labels.forEach(function(label){ %>","<% if (isScopedLabel(label) && enableScopedLabels) { %>","<%= scopedLabelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, labelTextClass, rightLabelTextClass, tooltipTitleTemplate, escapeStr, linkAttrs: 'data-html=\"true\"' }) %>","<% } else { %>",'<%= labelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, labelTextClass, tooltipTitleTemplate, escapeStr, linkAttrs: "" }) %>',"<% } %>","<% }); %>"].join(""))({...e,labelTemplate:i,labelTextClass:n,rightLabelTextClass:function(e){let{label:t,escapeStr:i}=e;return i("#333333"===t.text_color?n({label:t,escapeStr:i}):"")},scopedLabelTemplate:s,tooltipTitleTemplate:a,isScopedLabel:y.C,escapeStr:d.a})}bindEvents(){return g()("body").on("change",'.issuable-list input[type="checkbox"]',this.onSelectCheckboxIssue)}onSelectCheckboxIssue(){if(!g()('.issuable-list input[type="checkbox"]:checked').length)return g()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text(Object(S.a)("Label"))}enableBulkLabelDropdown(){v.a.willUpdateLabels=!0}setDropdownData(e,t,i){let n=e.data("user-checked")||[],a=e.data("user-unchecked")||[];t?(n=s()(n,[i]),a=f()(a,[i])):(a=s()(a,[i]),n=f()(n,[i])),e.data("user-checked",n),e.data("user-unchecked",a)}setOriginalDropdownData(e,t){const i=[];e.find('[name="label_name[]"]').map((function(){return i.push(this.value)})),t.data("marked",i)}}},tOjW:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));const n={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)}};function s(){return this.items.length&&"object"!=typeof this.items[0]}},tP6O:function(e,t,i){var n=i("pK7r"),s=i("Y8Fe"),a=i("OPBM"),r=i("VbmZ"),o=i("1RkG"),l="[object Boolean]",c="[object Date]",d="[object Map]",u="[object Number]",p="[object RegExp]",h="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",b="[object DataView]",v="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",T="[object Uint16Array]",j="[object Uint32Array]";e.exports=function(e,t,i){var C=e.constructor;switch(t){case g:return n(e);case l:case c:return new C(+e);case b:return s(e,i);case v:case y:case _:case w:case S:case k:case O:case T:case j:return o(e,i);case d:return new C;case u:case f:return new C(e);case p:return a(e);case h:return new C;case m:return r(e)}}},tPEI:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY");function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l=Object(r.c)({tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},align:{type:String},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},small:{type:Boolean,default:!1},cardHeader:{type:Boolean,default:!1}},a.Q),c=n.a.extend({name:a.Q,functional:!0,props:l,render:function(e,t){var i,n,a=t.props,r=t.data,l=t.children;return e(a.tag,Object(s.a)(r,{staticClass:"nav",class:(i={"nav-tabs":a.tabs,"nav-pills":a.pills&&!a.tabs,"card-header-tabs":!a.vertical&&a.cardHeader&&a.tabs,"card-header-pills":!a.vertical&&a.cardHeader&&a.pills&&!a.tabs,"flex-column":a.vertical,"nav-fill":!a.vertical&&a.fill,"nav-justified":!a.vertical&&a.justified},o(i,(n=a.align,"justify-content-".concat(n="left"===n?"start":"right"===n?"end":n)),!a.vertical&&a.align),o(i,"small",a.small),i)}),l)}})},tQ82:function(e,t,i){"use strict";var n=i("6oy4"),s=i.n(n),a=i("oj/M"),r=i("16BQ"),o=i("teVv"),l=i("mphk"),c=i("t9l/");function d(){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=s()("aside"),this.removeListeners(),this.addEventListeners()}d.initialize=function(){this.instance||(this.instance=new d)},d.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),this.sidebar.off("hiddenGlDropdown"),s()(".dropdown").off("loading.gl.dropdown"),s()(".dropdown").off("loaded.gl.dropdown"),s()(document).off("click",".js-sidebar-toggle")},d.prototype.addEventListeners=function(){const e=s()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),this.sidebar.on("hiddenGlDropdown",this,this.onSidebarDropdownHidden),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),s()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},d.prototype.sidebarToggleClicked=function(e,t){const i=s()(this),n=s()(".js-sidebar-collapse"),o=s()(".js-sidebar-expand"),l=s()(".js-sidebar-toggle-container"),d=l.data("is-expanded"),u=d?Object(c.a)("Expand sidebar"):Object(c.a)("Collapse sidebar");e.preventDefault(),d?(l.data("is-expanded",!1),n.addClass("hidden"),o.removeClass("hidden"),s()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),s()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(l.data("is-expanded",!0),o.addClass("hidden"),n.removeClass("hidden"),s()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),s()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),i.attr("data-original-title",u),i.attr("title",u),Object(r.c)(i),Object(r.d)(i),t||Object(a.P)("collapsed_gutter",s()(".right-sidebar").hasClass("right-sidebar-collapsed"))},d.prototype.toggleTodo=function(e){var t=this;const i=s()(e.currentTarget),n=i.data("deletePath")?"delete":"post",a=String(i.data("deletePath")||i.data("createPath"));Object(r.d)(i),s()(".js-issuable-todo").disable().addClass("is-loading"),l.a[n](a,{issuable_id:i.data("issuableId"),issuable_type:i.data("issuableType")}).then((function(e){let{data:i}=e;t.todoUpdateDone(i)})).catch((function(){return Object(o.f)({message:Object(c.h)(Object(c.a)("There was an error %{message} to-do item."),{message:"post"===n?Object(c.g)("RightSidebar|adding a"):Object(c.g)("RightSidebar|deleting the")})})}))},d.prototype.sidebarCollapseClicked=function(e){if(s()(e.currentTarget).hasClass("js-dont-change-state"))return;const t=e.data;e.preventDefault();const i=s()(this).closest(".block");return t.openDropdown(i)},d.prototype.openDropdown=function(e){const t="string"==typeof e?this.getBlock(e):e;this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open"))},d.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),s()(".layout-page").addClass("with-overlay")},d.prototype.onSidebarDropdownHidden=function(e){const t=e.data;e.preventDefault();const i=s()(e.target).closest(".block");return t.sidebarDropdownHidden(i)},d.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),s()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},d.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},d.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},d.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},d.prototype.getBlock=function(e){return this.sidebar.find(`.block.${e}`)},t.a=d},tY3p:function(e,t,i){"use strict";i.d(t,"m",(function(){return v})),i.d(t,"e",(function(){return y})),i.d(t,"h",(function(){return _})),i.d(t,"i",(function(){return w})),i.d(t,"j",(function(){return k})),i.d(t,"p",(function(){return O})),i.d(t,"b",(function(){return T})),i.d(t,"a",(function(){return j})),i.d(t,"q",(function(){return C})),i.d(t,"o",(function(){return D})),i.d(t,"n",(function(){return N})),i.d(t,"g",(function(){return A})),i.d(t,"l",(function(){return R})),i.d(t,"f",(function(){return L})),i.d(t,"d",(function(){return $})),i.d(t,"k",(function(){return q})),i.d(t,"r",(function(){return F})),i.d(t,"c",(function(){return B}));i("AfGZ");var n=i("pY+i"),s=i.n(n),a=i("SjdM"),r=i.n(a),o=i("1HOK"),l=i("yZaS"),c=i("pmYr");const d=function(e){return["new","new-nonewline"].includes(e.type)},u=function(e){return["old","old-nonewline"].includes(e.type)},p=function(e){return!e.type},h=function(e){return["match","new-nonewline","old-nonewline"].includes(e.type)},f=function(e){return[l.e,l.f].includes(e.type)},m=function(e){return e.type===l.d},g=function(e){return e.type===l.g},b=function(e){return e.type===l.h},v=function(e,t){let i=null,n=-1;const s=[];let a=0;for(let r=0,o=e.length,c=0;r<o;r+=1){const o=e[r];if(o.chunk=a,h(o)&&(a+=1),u(o)||g(o)||t)s.push({[l.I]:o,[l.J]:null}),null===i&&(i=c),c+=1;else if(d(o)||b(o))if(null!==i){s[i].right=o;const e=i+1;i=e<c?e:null}else s.push({[l.I]:null,[l.J]:o}),i=null,c+=1;else(h(o)||p(o)||f(o)||m(o)&&t)&&(n<=0?(s.push({[l.I]:o,[l.J]:!t&&o}),!t&&f(o)&&(n=c),i=null,c+=1):(s[n][l.J]=o,n=-1))}return s};function y(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file_hash";return e.find((function(e){return e[i]===t}))}function _(e){const{commit:t,note:i,noteableType:n,noteableData:s,diffFile:a,noteTargetLine:r,diffViewType:o,linePosition:c,positionType:d,lineRange:u}=e,p=JSON.stringify({base_sha:a.diff_refs.base_sha,start_sha:a.diff_refs.start_sha,head_sha:a.diff_refs.head_sha,old_path:a.old_path,new_path:a.new_path,position_type:d||l.cb,old_line:r?r.old_line:null,new_line:r?r.new_line:null,x:e.x,y:e.y,width:e.width,height:e.height,line_range:u});return{view:o,line_type:c===l.J?l.R:l.U,merge_request_diff_head_sha:a.diff_refs.head_sha,in_reply_to_discussion_id:"",note_project_id:"",target_type:s.targetType,target_id:s.id,return_discussion:!0,note:{note:i,position:p,noteable_type:n,noteable_id:s.id,commit_id:t&&t.id,type:a.diff_refs.start_sha&&a.diff_refs.head_sha?l.r:l.F,line_code:r?r.line_code:null}}}function w(e){const t=_(e);return{endpoint:e.noteableData.create_note_path,data:t}}const S=function(e,t){const{oldLineNumber:i,newLineNumber:n}=t;return e.findIndex((function(e){return e.old_line===i&&e.new_line===n}))},k=function(e,t,i){return S(t[l.D],i)};function O(e,t,i){const n=S(e[l.D],t),s=i?1:-1;n>-1&&e[l.D].splice(n+s,1)}function T(e,t,i,n,s){const{oldLineNumber:a,newLineNumber:r}=t,o=e.length;let c=-1;const d=e.map((function(e,t){return e.type===l.K?c=t:Object.assign(e,{old_line:i?a+t+1:a+t-o,new_line:i?r+t+1:r+t-o}),e}));if(c>-1){const e=d[c];let t;t=n?s:i?d[c-1]:d[c+1],Object.assign(e,{meta_data:{old_pos:t.old_line,new_pos:t.new_line}})}return d}function j(e){!function(e){const{inlineLines:t,contextLines:i,lineNumbers:n,isExpandDown:s}=e,a=s?1:0;if(!s&&e.bottom)t.push(...i);else{const e=S(t,n);t.splice(e+a,0,...i)}}(e)}function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};delete e.text;const t={...e};if(e.rich_text){const i=t.rich_text.charAt(0);" "!==i&&"+"!==i&&"-"!==i||(t.rich_text=e.rich_text.substring(1))}return t}function E(e,t){const i=e[l.D],n=!i.length;return{...e,[l.D]:n?t[l.D]:i,parallel_diff_lines:null,renderIt:t.renderIt,collapsed:t.collapsed}}function I(e){const t=!e[l.D];return Object.assign(e,{[l.D]:t?[]:e[l.D],parallel_diff_lines:null}),e}function x(e,t){var i;e.alreadyPrepared||Object.assign(e,{commentsDisabled:t.brokenSymlink,rich_text:(i=e.rich_text,i?i.replace(/^[+ -]/,""):void 0),discussionsExpanded:!0,discussions:[],hasForm:!1,text:void 0,alreadyPrepared:!0})}function D(e){let{line:t,diffFile:i,index:n=0}=e;const s=n+1,a={...t,line_code:`${i.file_hash}_${s}_${s}`,new_line:s,old_line:s};return x(a,i),a}function P(e){return e[l.D].forEach((function(t){return x(t,e)})),e}function N(e){let{diff:t,priorFiles:i=[],meta:n=!1}=e;return function(e){const t=e.reduce((function(e,t){const i=function(e){return`${e.content_sha}-${e.file_hash}`}(t);return{...e,[i]:e[i]?E(e[i],t):t}}),{});return Object.values(t)}([...i,...(t.diff_files||[]).map((function(e,t,i){return Object(c.e)({file:e,allFiles:i,meta:n})})).map(I).map(P).map((function(e){return function(e){return Object.assign(e,{renderIt:!0,isShowingFullFile:!1,isLoadingFullFile:!1,discussions:[],renderingLines:!1}),e}(e)}))])}function A(e){return e.reduce((function(e,t){return t[l.D].forEach((function(i){e.push({file:t,line:i})})),e}),[]).reduce((function(e,t){let{file:i,line:n}=t;return n.line_code&&(e[n.line_code]={base_sha:i.diff_refs.base_sha,head_sha:i.diff_refs.head_sha,start_sha:i.diff_refs.start_sha,new_path:i.new_path,old_path:i.old_path,old_line:n.old_line,new_line:n.new_line,line_range:null,line_code:n.line_code,position_type:"text"}),e}),{})}function R(e){let{discussion:t,diffPosition:i,latestDiff:n}=e;if(!i)return!1;const{line_code:a,...r}=i,{line_range:o,...l}=r;if(t.original_position&&t.position){const e=function(e){const{line_range:t,...i}=e;return i};return[t.original_position,t.position,...t.positions||[]].map(e).some((function(e){return s()(e,l)}))}return n&&t.active&&a===t.line_code}const L=function(e){const t=Object.keys(o.w).find((function(t){return e[`${t}_file`]}));return o.w[t]||e.viewer&&e.viewer.name===o.y.mode_changed&&o.y.mode_changed||o.w.replaced},$=function(e){let{diffLines:t,data:i,typeKey:n,oldLineKey:s,newLineKey:a,mapLine:o}=e;const l=i.length,c=[];for(let e=0,d=t.length;e<d;e+=1){const d=t[e];if("match"===r()(n)(d)){const n=t[e-1],d=t[e+1],u=r()(a),p=u(n)||0,h=u(d)-1||l;c.push(...i.slice(p,h).map((function(e,t){return o({line:Object.assign(e,{hasForm:!1,discussions:[]}),oldLine:(r()(s)(n)||0)+t+1,newLine:(u(n)||0)+t+1})})))}else c.push(d)}return c},q=function(e){return requestIdleCallback(e)};const F=function(e,t,i){(function(e,t){return e[l.D].filter((function(e){return e.line_code===t}))})(e,t).forEach(i)},B=function(e){let t=!0;return e[l.D].forEach((function(e){!function(e){e&&e.discussions.length&&(t=t&&e.discussionsExpanded)}(e)})),t}},tbUO:function(e,t,i){"use strict";var n=i("toOR");t.a={computed:{noteableType(){const e=this.discussion?this.discussion.notes[0]:this.note;return n.NOTEABLE_TYPE_MAPPING[e.noteable_type]}}}},toOR:function(e,t,i){"use strict";i.r(t),i.d(t,"DISCUSSION_NOTE",(function(){return s})),i.d(t,"DIFF_NOTE",(function(){return a})),i.d(t,"DISCUSSION",(function(){return r})),i.d(t,"NOTE",(function(){return o})),i.d(t,"SYSTEM_NOTE",(function(){return l})),i.d(t,"COMMENT",(function(){return c})),i.d(t,"OPENED",(function(){return d})),i.d(t,"REOPENED",(function(){return u})),i.d(t,"CLOSED",(function(){return p})),i.d(t,"MERGED",(function(){return h})),i.d(t,"ISSUE_NOTEABLE_TYPE",(function(){return f})),i.d(t,"EPIC_NOTEABLE_TYPE",(function(){return m})),i.d(t,"MERGE_REQUEST_NOTEABLE_TYPE",(function(){return g})),i.d(t,"UNRESOLVE_NOTE_METHOD_NAME",(function(){return b})),i.d(t,"RESOLVE_NOTE_METHOD_NAME",(function(){return v})),i.d(t,"DESCRIPTION_TYPE",(function(){return y})),i.d(t,"DISCUSSION_FILTERS_DEFAULT_VALUE",(function(){return _})),i.d(t,"COMMENTS_ONLY_FILTER_VALUE",(function(){return w})),i.d(t,"HISTORY_ONLY_FILTER_VALUE",(function(){return S})),i.d(t,"DISCUSSION_TAB_LABEL",(function(){return k})),i.d(t,"NOTE_UNDERSCORE",(function(){return O})),i.d(t,"TIME_DIFFERENCE_VALUE",(function(){return T})),i.d(t,"ASC",(function(){return j})),i.d(t,"DESC",(function(){return C})),i.d(t,"DISCUSSION_FETCH_TIMEOUT",(function(){return E})),i.d(t,"NOTEABLE_TYPE_MAPPING",(function(){return I})),i.d(t,"DISCUSSION_FILTER_TYPES",(function(){return x})),i.d(t,"toggleStateErrorMessage",(function(){return D}));var n=i("t9l/");const s="DiscussionNote",a="DiffNote",r="discussion",o="note",l="systemNote",c="comment",d="opened",u="reopened",p="closed",h="merged",f="issue",m="epic",g="MergeRequest",b="delete",v="post",y="changed the description",_=0,w=1,S=2,k="show",O="note_",T=10,j="asc",C="desc",E=750,I={Issue:f,MergeRequest:g,Epic:m},x={ALL:"all",COMMENTS:"comments",HISTORY:"history"},D={Epic:{[p]:Object(n.a)("Something went wrong while reopening the epic. Please try again later."),[d]:Object(n.a)("Something went wrong while closing the epic. Please try again later."),[u]:Object(n.a)("Something went wrong while closing the epic. Please try again later.")},MergeRequest:{[p]:Object(n.a)("Something went wrong while reopening the merge request. Please try again later."),[d]:Object(n.a)("Something went wrong while closing the merge request. Please try again later."),[u]:Object(n.a)("Something went wrong while closing the merge request. Please try again later.")}}},tyWb:function(e,t,i){"use strict";i.r(t);var n=i("q+nE"),s=i("EfTh"),a=i("voi4"),r=i("KFH7"),o=i("J4Fn"),l=i("Ng9o"),c=i("BLrG"),d=i("2SnD"),u=i("BXVB"),p=i.n(u),h={name:"MRPopover",components:{GlPopover:r.a,GlSkeletonLoading:o.a,CiIcon:l.a},mixins:[c.a],props:{target:{type:HTMLAnchorElement,required:!0},projectPath:{type:String,required:!0},mergeRequestIID:{type:String,required:!0},mergeRequestTitle:{type:String,required:!0}},data:()=>({mergeRequest:{}}),computed:{detailedStatus(){return this.mergeRequest.headPipeline&&this.mergeRequest.headPipeline.detailedStatus},formattedTime(){return this.timeFormatted(this.mergeRequest.createdAt)},statusBoxClass(){switch(this.mergeRequest.state){case d.b.merged:return"status-box-mr-merged";case d.b.closed:return"status-box-closed";default:return"status-box-open"}},stateHumanName(){switch(this.mergeRequest.state){case d.b.merged:return d.a.merged;case d.b.closed:return d.a.closed;default:return d.a.open}},title(){var e;return(null===(e=this.mergeRequest)||void 0===e?void 0:e.title)||this.mergeRequestTitle},showDetails(){return Object.keys(this.mergeRequest).length>0}},apollo:{mergeRequest:{query:p.a,update:function(e){return e.project.mergeRequest},variables(){const{projectPath:e,mergeRequestIID:t}=this;return{projectPath:e,mergeRequestIID:t}}}}},f=i("bPvS"),m=Object(f.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-popover",{attrs:{target:e.target,boundary:"viewport",placement:"top",show:""}},[i("div",{staticClass:"mr-popover"},[e.$apollo.queries.mergeRequest.loading?i("div",[i("gl-skeleton-loading",{staticClass:"animation-container-small mt-1",attrs:{lines:1}})],1):e.showDetails?i("div",{staticClass:"d-flex align-items-center justify-content-between"},[i("div",{staticClass:"d-inline-flex align-items-center"},[i("div",{class:"issuable-status-box status-box "+e.statusBoxClass},[e._v("\n          "+e._s(e.stateHumanName)+"\n        ")]),e._v(" "),i("span",{staticClass:"gl-text-secondary"},[e._v("Opened "),i("time",{domProps:{textContent:e._s(e.formattedTime)}})])]),e._v(" "),e.detailedStatus?i("ci-icon",{attrs:{status:e.detailedStatus}}):e._e()],1):e._e(),e._v(" "),e.$apollo.queries.mergeRequest.loading?e._e():i("h5",{staticClass:"my-2"},[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"gl-text-secondary"},[e._v("\n      "+e._s(e.projectPath+"!"+e.mergeRequestIID)+"\n    ")])])])}),[],!1,null,null,null).exports;let g,b;const v=function(e){let{target:t}=e;t.removeEventListener("mouseleave",v),b&&clearTimeout(b),g&&(g.$destroy(),g=null)};t.default=function(e){const t=e||[...document.querySelectorAll(".gfm-merge_request")];if(t.length>0){n.default.use(s.default);const e=new s.default({defaultClient:Object(a.default)()}),i="data-mr-listener-added";t.forEach((function(t){const{projectPath:s,mrTitle:a,iid:r}=t.dataset;!t.getAttribute(i)&&s&&a&&r&&(t.addEventListener("mouseenter",function(e){let{apolloProvider:t,projectPath:i,mrTitle:s,iid:a}=e;return function(e){let{target:r}=e;r.addEventListener("mouseleave",v),b=setTimeout((function(){const e=n.default.extend(m);(g=new e({propsData:{target:r,projectPath:i,mergeRequestIID:a,mergeRequestTitle:s},apolloProvider:t})).$mount()}),200)}}({apolloProvider:e,projectPath:s,mrTitle:a,iid:r})),t.setAttribute(i,!0))}))}}},uEqL:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("6oy4"),s=i.n(n),a=i("oj/M");class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e;const t=this.options.className||"user-callout";this.userCalloutBody=s()(`.${t}`),this.cookieName=this.userCalloutBody.data("uid"),this.isCalloutDismissed=Object(a.l)(this.cookieName),this.init()}init(){var e=this;this.isCalloutDismissed&&"false"!==this.isCalloutDismissed||this.userCalloutBody.find(".js-close-callout").on("click",(function(t){return e.dismissCallout(t)}))}dismissCallout(e){const t=s()(e.currentTarget),i={};t.hasClass("js-close-session")||(i.expires=365),this.options.setCalloutPerProject&&(i.path=this.userCalloutBody.data("projectPath")),Object(a.P)(this.cookieName,"true",i),(t.hasClass("close")||t.hasClass("js-close"))&&this.userCalloutBody.remove()}}},uScB:function(e,t,i){"use strict";i("AfGZ");var n=i("A1CF"),s=i.n(n),a=i("6oy4"),r=i.n(a),o=i("t9l/"),l=i("htOw"),c=i("e+le"),d=i("iwOY");const u=function(e,t){switch(e){case"descendant_groups":return l.b.descendantGroupsPath.replace(":id",t);case"subgroups":return l.b.subgroupsPath.replace(":id",t);default:return l.b.groupsPath}},p=function(){Object(c.a)(gon.select2_css_path).then((function(){window.GROUP_SELECT_PER_PAGE=20,r()(".ajax-groups-select").each((function(){const e=r()(this),t=e.data("allAvailable"),i=e.data("skipGroups")||[],n=e.data("parentId"),a=e.data("groupsFilter"),c=e.data("minAccessLevel");e.select2({placeholder:Object(o.a)("Search for a group"),allowClear:e.hasClass("allowClear"),multiple:e.hasClass("multiselect"),minimumInputLength:0,ajax:{url:l.b.buildUrl(u(a,n)),dataType:"json",quietMillis:250,transport:d.a,data:(e,i)=>({search:e,page:i,per_page:window.GROUP_SELECT_PER_PAGE,all_available:t,min_access_level:c}),results(e,t){const n=e.length?e:e.results||[],s=!!e.pagination&&e.pagination.more;return{results:n.filter((function(e){return-1===i.indexOf(e.id)})),page:t,more:s}}},initSelection(e,t){const i=r()(e).val();if(""!==i)return l.b.group(i,t)},formatResult:e=>`<div class='group-result'> <div class='group-name'>${s()(e.full_name)}</div> <div class='group-path'>${e.full_path}</div> </div>`,formatSelection:e=>s()(e.full_name),dropdownCssClass:"ajax-groups-dropdown select2-infinite",escapeMarkup:e=>e}),e.on("select2-loaded",(function(){const e=document.querySelector(".select2-infinite .select2-results");e.style.height=`${Math.floor(e.scrollHeight)}px`}))}))})).catch((function(){}))};t.a=function(){r()(".ajax-groups-select").length&&i.e(871).then(i.t.bind(null,"adUV",7)).then(p).catch((function(){}))}},uSzn:function(e,t,i){"use strict";var n=i("Zqnx"),s=i.n(n),a=i("mABg"),r=i.n(a),o=i("Z2pp"),l=i("jyii"),c=i("/Zha"),d=i("gCUY"),u=i("Sy48"),p=i("1pIC"),h=i("GpHn"),f=o.a.extend({name:l.Z,mixins:[p.a,h.a],inject:{bvTabs:{default:function(){return{}}}},props:Object(d.c)({active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object]},titleLinkClass:{type:[String,Array,Object]},titleLinkAttributes:{type:Object},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1}},l.Z),data:function(){return{localActive:this.active&&!this.disabled,show:!1}},computed:{tabClasses:function(){return[{active:this.localActive,disabled:this.disabled,"card-body":this.bvTabs.card&&!this.noBody},this.localActive?this.bvTabs.activeTabClass:null]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade:function(){return!this.bvTabs.fade},computedLazy:function(){return this.bvTabs.lazy||this.lazy},_isTab:function(){return!0}},watch:{localActive:function(e){this.$emit("update:active",e)},active:function(e,t){e!==t&&(e?this.activate():this.deactivate()||this.$emit("update:active",this.localActive))},disabled:function(e,t){if(e!==t){var i=this.bvTabs.firstTab;e&&this.localActive&&i&&(this.localActive=!1,i())}}},mounted:function(){this.registerTab(),this.show=this.localActive},updated:function(){var e=this.bvTabs.updateButton;e&&this.hasNormalizedSlot(c.i)&&e(this)},destroyed:function(){this.unregisterTab()},methods:{registerTab:function(){var e=this.bvTabs.registerTab;e&&e(this)},unregisterTab:function(){var e=this.bvTabs.unregisterTab;e&&e(this)},activate:function(){var e=this.bvTabs.activateTab;return!(!e||this.disabled)&&e(this)},deactivate:function(){var e=this.bvTabs.deactivateTab;return!(!e||!this.localActive)&&e(this)}},render:function(e){var t=this.localActive,i=e(this.tag,{ref:"panel",staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",rawName:"v-show",value:t,expression:"localActive"}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":t?"false":"true","aria-labelledby":this.controlledBy||null}},[t||!this.computedLazy?this.normalizeSlot():e()]);return e(u.b,{props:{mode:"out-in",noFade:this.computedNoFade}},[i])}});var m=i("6IRw");const g={components:{BTab:f},inheritAttrs:!1,props:{titleLinkClass:{type:[String,Array,Object],required:!1,default:""},queryParamValue:{type:String,required:!1,default:null}},computed:{linkClass(){const{titleLinkClass:e}=this;return r()(e)?[...e,"gl-tab-nav-item"]:s()(e)?{...e,"gl-tab-nav-item":!0}:`${e} gl-tab-nav-item`.trim()}}};const b=i.n(m)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-tab",e._g(e._b({attrs:{"title-link-class":e.linkClass,"query-param-value":e.queryParamValue},scopedSlots:e._u([e._l(Object.keys(e.$slots),(function(t){return{key:t,fn:function(){return[e._t(t)]},proxy:!0}}))],null,!0)},"b-tab",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,g,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=b},uVHQ:function(e,t,i){"use strict";i.d(t,"i",(function(){return s})),i.d(t,"j",(function(){return a})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"g",(function(){return d})),i.d(t,"c",(function(){return u})),i.d(t,"e",(function(){return p})),i.d(t,"h",(function(){return h}));var n=i("t9l/");const s={id:0,title:Object(n.a)("No Epic")},a={id:-1,title:Object(n.a)("Select epic")},r="sbom_survey_request",o="sbom1",l="https://gitlab.fra1.qualtrics.com/jfe/form/SV_es038rUv1VFqmXk",c=7,d=Object(n.g)("SecurityReports|Software and container dependency survey"),u=Object(n.g)("SecurityReports|Take survey"),p=Object(n.g)("SecurityReports|The Composition Analysis group is planning significant updates to how we make available the list of software and container dependency information in your projects. Therefore, we ask that you assist us by taking a short -no longer than 5 minute- survey to help align our direction with your needs."),h=Object(n.g)("SecurityReports|Your feedback is important to us! We will ask again in 7 days.")},uYaO:function(e,t,i){"use strict";var n=i("6oy4"),s=i.n(n),a=i("t9l/"),r=i("s1DB"),o=i("vRHk");t.a={methods:{initAutoSave(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[Object(a.g)("Autosave|Note"),Object(o.b)(e.noteable_type||e.noteableType),e.id];t&&(i=i.concat(t)),this.autosave=new r.a(s()(this.$refs.noteForm.$refs.textarea),i)},resetAutoSave(){this.autosave.reset()},setAutoSave(){this.autosave.save()},disposeAutoSave(){this.autosave.dispose()}}}},udFm:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueCrmContacts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CrmContacts"},directives:[]}]}}]}}],loc:{start:0,end:133}};n.loc.source={body:'#import "./issue_crm_contacts.fragment.graphql"\n\nquery issueCrmContacts($id: IssueID!) {\n  issue(id: $id) {\n    ...CrmContacts\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("Tw1G").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.issueCrmContacts=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"issueCrmContacts")},ueyC:function(e,t){e.exports=function(e,t,i){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(i=i>s?s:i)<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}},uvwG:function(e,t,i){"use strict";i("AfGZ");var n=i("H8gz"),s=i("cuRJ"),a=i("J4Fn"),r=i("ly/8"),o=i("9LGn"),l=i("6oy4"),c=i.n(l),d=i("CkNe"),u={data:()=>({isDescriptionVersionExpanded:!1,deleteInProgress:!1}),computed:{canSeeDescriptionVersion(){return Boolean(this.note.description_diff_path&&this.note.description_version_id&&!this.note.description_version_deleted)},displayDeleteButton(){return this.note.can_delete_description_version&&!this.deleteInProgress&&!this.note.description_version_deleted},shouldShowDescriptionVersion(){return this.canSeeDescriptionVersion&&this.isDescriptionVersionExpanded},descriptionVersionToggleIcon(){return this.isDescriptionVersionExpanded?"chevron-up":"chevron-down"}},methods:{toggleDescriptionVersion(){var e;this.isDescriptionVersionExpanded=!this.isDescriptionVersionExpanded;const t=this.note.description_version_id;if(null!==(e=this.descriptionVersions)&&void 0!==e&&e[t])return!1;const i=this.note.description_diff_path,n=this.note.start_description_version_id;return this.fetchDescriptionVersion({endpoint:i,startingVersion:n,versionId:t})},deleteDescriptionVersion(){var e=this;const t=this.note.delete_description_version_path,i=this.note.start_description_version_id,n=this.note.description_version_id;return this.deleteInProgress=!0,this.softDeleteDescriptionVersion({endpoint:t,startingVersion:i,versionId:n}).catch((function(){e.deleteInProgress=!1}))}}},p=i("mphk"),h=i("t9l/"),f=i("tyWb"),m=i("dkhw"),g=i("Zxcm"),b=i("oj/M"),v=i("1jid");var y={i18n:{deleteButtonLabel:Object(h.a)("Remove description history")},name:"SystemNote",components:{GlIcon:n.a,noteHeader:m.a,TimelineEntryItem:v.a,GlButton:s.a,GlSkeletonLoading:a.a},directives:{GlTooltip:r.a,SafeHtml:o.a},mixins:[u,Object(g.a)()],props:{note:{type:Object,required:!0}},data:()=>({expanded:!1,lines:[],showLines:!1,loadingDiff:!1}),computed:{...Object(d.d)(["targetNoteHash","descriptionVersions"]),...Object(d.f)(["isLoadingDescriptionVersion"]),noteAnchorId(){return`note_${this.note.id}`},isTargetNote(){return this.targetNoteHash===this.noteAnchorId},iconHtml(){return Object(b.Q)(this.note.system_note_icon_name)},toggleIcon(){return this.expanded?"chevron-up":"chevron-down"},actionTextHtml(){return c()(this.note.note_html).unwrap().html()},hasMoreCommits(){return c()(this.note.note_html).filter("ul").children().length>3},descriptionVersion(){return this.descriptionVersions[this.note.description_version_id]}},mounted(){Object(f.default)(this.$el.querySelectorAll(".gfm-merge_request"))},methods:{...Object(d.c)(["fetchDescriptionVersion","softDeleteDescriptionVersion"]),async toggleDiff(){if(this.showLines=!this.showLines,!this.lines.length){this.loadingDiff=!0;const{data:e}=await p.a.get(this.note.outdated_line_change_path);this.lines=e.map((function(e){return{...e,rich_text:e.rich_text.replace(/^[+ -]/,"")}})),this.loadingDiff=!1}}},safeHtmlConfig:{ADD_TAGS:["use"]},userColorSchemeClass:window.gon.user_color_scheme},_=i("bPvS"),w=Object(_.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note system-note note-wrapper",class:{target:e.isTargetNote,"pr-0":e.shouldShowDescriptionVersion},attrs:{id:e.noteAnchorId}},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.iconHtml,expression:"iconHtml",arg:e.$options.safeHtmlConfig}],staticClass:"timeline-icon"}),e._v(" "),i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"note-header"},[i("note-header",{attrs:{author:e.note.author,"created-at":e.note.created_at,"note-id":e.note.id},scopedSlots:e._u([e.canSeeDescriptionVersion||e.note.outdated_line_change_path?{key:"extra-controls",fn:function(){return[e._v("\n          \n          "),e.canSeeDescriptionVersion?i("gl-button",{staticClass:"gl-vertical-align-text-bottom",attrs:{variant:"link",icon:e.descriptionVersionToggleIcon,"data-testid":"compare-btn"},on:{click:e.toggleDescriptionVersion}},[e._v(e._s(e.__("Compare with previous version")))]):e._e(),e._v(" "),e.note.outdated_line_change_path?i("gl-button",{staticClass:"gl-vertical-align-text-bottom",attrs:{icon:e.showLines?"chevron-up":"chevron-down",variant:"link","data-testid":"outdated-lines-change-btn"},on:{click:e.toggleDiff}},[e._v("\n            "+e._s(e.__("Compare changes"))+"\n          ")]):e._e()]},proxy:!0}:null],null,!0)},[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionTextHtml,expression:"actionTextHtml"}]})])],1),e._v(" "),i("div",{staticClass:"note-body"},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.note.note_html,expression:"note.note_html"}],staticClass:"note-text md",class:{"system-note-commit-list":e.hasMoreCommits,"hide-shade":e.expanded}}),e._v(" "),e.hasMoreCommits?i("div",{staticClass:"flex-list"},[i("div",{staticClass:"system-note-commit-list-toggler flex-row",on:{click:function(t){e.expanded=!e.expanded}}},[i("gl-icon",{staticClass:"gl-mr-2",attrs:{name:e.toggleIcon,size:8}}),e._v(" "),i("span",[e._v(e._s(e.__("Toggle commit list")))])],1)]):e._e(),e._v(" "),e.shouldShowDescriptionVersion?i("div",{staticClass:"description-version pt-2"},[e.isLoadingDescriptionVersion?i("pre",{staticClass:"loading-state"},[e._v("          "),i("gl-skeleton-loading"),e._v("\n        ")],1):i("pre",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.descriptionVersion,expression:"descriptionVersion"}],staticClass:"wrapper mt-2"}),e._v(" "),e.displayDeleteButton?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"delete-description-history",attrs:{title:e.$options.i18n.deleteButtonLabel,"aria-label":e.$options.i18n.deleteButtonLabel,variant:"default",category:"tertiary",icon:"remove","data-testid":"delete-description-version-button"},on:{click:e.deleteDescriptionVersion}}):e._e()],1):e._e(),e._v(" "),e.lines.length&&e.showLines?i("div",{staticClass:"diff-content gl-border-solid gl-border-1 gl-border-gray-200 gl-mt-4 gl-rounded-small gl-overflow-hidden"},[i("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass,attrs:{"data-testid":"outdated-lines"}},e._m(0),0)]):e.showLines?i("gl-skeleton-loading",{staticClass:"gl-mt-4"}):e._e()],1)])])}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._l(e.lines,(function(t){return i("tr",{key:t.line_code,staticClass:"line_holder"},[i("td",{staticClass:"diff-line-num old_line gl-border-bottom-0! gl-border-top-0!",class:t.type},[e._v("\n              "+e._s(t.old_line)+"\n            ")]),e._v(" "),i("td",{staticClass:"diff-line-num new_line gl-border-bottom-0! gl-border-top-0!",class:t.type},[e._v("\n              "+e._s(t.new_line)+"\n            ")]),e._v(" "),i("td",{staticClass:"line_content gl-display-table-cell!",class:t.type,domProps:{innerHTML:e._s(t.rich_text)}})])}))}],!1,null,null,null);t.a=w.exports},vAG4:function(e,t,i){var n=i("rbVQ"),s=i("MfoV"),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(a,n).replace(r,"")}},vUvM:function(e,t,i){var n=i("8RB9"),s=i("w/SE");e.exports=function(e,t){return n(e,s(e),t)}},wHz9:function(e,t,i){"use strict";var n=i("Ivjt"),s=i("6IRw"),a=i.n(s);const r={components:{BForm:n.a},inheritAttrs:!1};const o=a()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-form",this._g(this._b({},"b-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},wLNQ:function(e,t,i){"use strict";var n=i("H8gz"),s=i("nPFI"),a=i("5DNK"),r=i("9LGn"),o=i("/MVl"),l=i("qn5R"),c={components:{ClipboardButton:o.a,FileIcon:l.a,GlIcon:n.a,GlSprintf:s.a},directives:{GlTooltip:a.a,SafeHtml:r.a},props:{lines:{type:Array,required:!0},filePath:{type:String,required:!0},errorFn:{type:String,required:!1,default:""},errorLine:{type:Number,required:!1,default:0},errorColumn:{type:Number,required:!1,default:0},expanded:{type:Boolean,required:!1,default:!1}},data(){return{isExpanded:this.expanded}},computed:{hasCode(){return Boolean(this.lines.length)},collapseIcon(){return this.isExpanded?"chevron-down":"chevron-right"}},methods:{isHighlighted(e){return e===this.errorLine},toggle(){this.isExpanded=!this.isExpanded},lineNum:e=>e[0],lineCode:e=>e[1]},userColorScheme:window.gon.user_color_scheme},d=i("bPvS"),u={components:{StackTraceEntry:Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-holder"},[i("div",{ref:"header",staticClass:"file-title file-title-flex-parent"},[i("div",{staticClass:"file-header-content d-flex align-content-center"},[e.hasCode?i("div",{staticClass:"d-inline-block cursor-pointer",on:{click:function(t){return e.toggle()}}},[i("gl-icon",{staticClass:"gl-mr-2",attrs:{name:e.collapseIcon,size:16}})],1):e._e(),e._v(" "),i("file-icon",{attrs:{"file-name":e.filePath,size:16,"aria-hidden":"true","css-classes":"gl-mr-2"}}),e._v(" "),i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name d-inline-block overflow-hidden text-truncate limited-width",attrs:{title:e.filePath,"data-container":"body"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")]),e._v(" "),i("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.filePath,category:"tertiary",size:"small","css-class":"gl-mr-1"}}),e._v(" "),e.errorFn?i("gl-sprintf",{attrs:{message:e.__("%{spanStart}in%{spanEnd} %{errorFn}")},scopedSlots:e._u([{key:"span",fn:function(t){var n=t.content;return[i("span",{staticClass:"gl-text-gray-200"},[e._v(e._s(n)+"")])]}},{key:"errorFn",fn:function(){return[i("strong",[e._v(e._s(e.errorFn)+"")])]},proxy:!0}],null,!1,1002891602)}):e._e(),e._v(" "),i("gl-sprintf",{attrs:{message:e.__("%{spanStart}at line%{spanEnd} %{errorLine}%{errorColumn}")},scopedSlots:e._u([{key:"span",fn:function(t){var n=t.content;return[i("span",{staticClass:"gl-text-gray-200"},[e._v(e._s(n)+"")])]}},{key:"errorLine",fn:function(){return[i("strong",[e._v(e._s(e.errorLine))])]},proxy:!0},{key:"errorColumn",fn:function(){return[e.errorColumn?i("strong",[e._v(":"+e._s(e.errorColumn))]):e._e()]},proxy:!0}])})],1)]),e._v(" "),e.isExpanded?i("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorScheme},[i("tbody",[e._l(e.lines,(function(t,n){return[i("tr",{key:"stacktrace-line-"+n,staticClass:"line_holder"},[i("td",{staticClass:"diff-line-num",class:{old:e.isHighlighted(e.lineNum(t))}},[e._v("\n            "+e._s(e.lineNum(t))+"\n          ")]),e._v(" "),i("td",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.lineCode(t),expression:"lineCode(line)"}],staticClass:"line_content",class:{old:e.isHighlighted(e.lineNum(t))}})])]}))],2)]):e._e()])}),[],!1,null,null,null).exports},props:{entries:{type:Array,required:!0}},methods:{isFirstEntry:e=>0===e}},p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stacktrace"},e._l(e.entries,(function(t,n){return i("stack-trace-entry",{key:"stacktrace-entry-"+n,attrs:{lines:t.context,"file-path":t.filename,"error-line":t.lineNo,"error-fn":t.function,"error-column":t.colNo,expanded:e.isFirstEntry(n)}})})),1)}),[],!1,null,null,null);t.a=p.exports},wd1e:function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},s=0;s<t.length;s++){var a=t[s],r=a[0],o={id:e+":"+s,css:a[1],media:a[2],sourceMap:a[3]};n[r]?n[r].parts.push(o):i.push(n[r]={id:r,parts:[o]})}return i}i.r(t),i.d(t,"default",(function(){return f}));var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=s&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,d=function(){},u=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,i,s){c=i,u=s||{};var r=n(e,t);return m(r),function(t){for(var i=[],s=0;s<r.length;s++){var o=r[s];(l=a[o.id]).refs--,i.push(l)}t?m(r=n(e,t)):r=[];for(s=0;s<i.length;s++){var l;if(0===(l=i[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var i=e[t],n=a[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(b(i.parts[s]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var r=[];for(s=0;s<i.parts.length;s++)r.push(b(i.parts[s]));a[i.id]={id:i.id,refs:1,parts:r}}}}function g(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function b(e){var t,i,n=document.querySelector("style["+p+'~="'+e.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(h){var s=l++;n=o||(o=g()),t=_.bind(null,n,s,!1),i=_.bind(null,n,s,!0)}else n=g(),t=w.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function _(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,s);else{var a=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function w(e,t){var i=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),u.ssrId&&e.setAttribute(p,t.id),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}},woyY:function(e,t,i){var n=i("C5ZB"),s=i("cgqb"),a="[object Map]";e.exports=function(e){return s(e)&&n(e)==a}},xNSq:function(e,t,i){"use strict";var n=i("G55H");t.a={methods:{hasListener:function(e){var t=this.$listeners||{},i=this._events||{};return!Object(n.n)(t[e])||Object(n.a)(i[e])&&i[e].length>0}}}},xV1n:function(e,t,i){"use strict";i("bTQi");var n=i("H8gz"),s=i("5DNK"),a=i("cuRJ"),r=i("ly/8"),o=i("9LGn"),l=i("zqVt"),c=i("t9l/"),d=i("Ng9o"),u=i("U2+R"),p=i("GZPK"),h={name:"IssueItem",components:{IssueMilestone:i("MyrM").a,IssueAssignees:p.a,CiIcon:d.a,GlIcon:n.a,GlTooltip:s.a,IssueWeight:function(){return i.e(409).then(i.bind(null,"Epyk"))},IssueDueDate:l.a,GlButton:a.a},directives:{GlTooltip:r.a,SafeHtml:o.a},mixins:[u.a],props:{canReorder:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},lockedMessage:{type:String,required:!1,default:""}},computed:{stateTitle(){return Object(c.h)('<span class="bold">%{state}</span> %{timeInWords}<br/><span class="text-tertiary">%{timestamp}</span>',{state:this.stateText,timeInWords:this.stateTimeInWords,timestamp:this.stateTimestamp})},iconClasses(){return`${this.iconClass} ic-${this.iconName}`}}},f=i("bPvS"),m=Object(f.a)(h,(function(){var e=this,t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"item-body d-flex align-items-center py-2 px-3",class:{"issuable-info-container":!t.canReorder,"card-body":t.canReorder}},[n("div",{staticClass:"item-contents gl-display-flex gl-align-items-center gl-flex-wrap gl-flex-grow-1 flex-xl-nowrap gl-min-h-7"},[n("div",{staticClass:"item-title d-flex align-items-xl-center mb-xl-0 gl-min-w-0"},[n("div",{ref:"iconElementXL"},[t.hasState?n("gl-icon",{ref:"iconElementXL",staticClass:"mr-2 d-block",class:t.iconClasses,attrs:{name:t.iconName,title:t.stateTitle,"aria-label":t.state}}):t._e()],1),t._v(" "),n("gl-tooltip",{attrs:{target:function(){return t.$refs.iconElementXL}}},[n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.stateTitle,expression:"stateTitle"}]})]),t._v(" "),t.confidential?n("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"confidential-icon gl-mr-2 align-self-baseline align-self-md-auto mt-xl-0",attrs:{name:"eye-slash",title:t.__("Confidential"),"aria-label":t.__("Confidential")}}):t._e(),t._v(" "),n("a",{staticClass:"sortable-link gl-font-weight-normal",attrs:{href:t.computedPath}},[t._v(t._s(t.title))])],1),t._v(" "),n("div",{staticClass:"item-info-area d-flex flex-xl-grow-1 flex-shrink-0"},[n("div",{staticClass:"item-meta d-flex flex-wrap-reverse justify-content-start justify-content-md-between"},[n("div",{staticClass:"item-path-area item-path-id d-flex align-items-center mr-2 mt-2 mt-xl-0 ml-xl-2"},[n("gl-tooltip",{attrs:{target:function(){return e.$refs.iconElement}}},[n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.stateTitle,expression:"stateTitle"}]})]),t._v(" "),n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"path-id-text d-inline-block",attrs:{title:t.itemPath}},[t._v(t._s(t.itemPath))]),t._v(" "),n("span",[t._v(t._s(t.pathIdSeparator)+t._s(t.itemId))])],1),t._v(" "),n("div",{staticClass:"item-attributes-area d-flex align-items-center mt-2 mt-xl-0"},[t.hasPipeline?n("span",{staticClass:"mr-ci-status order-md-last"},[n("a",{attrs:{href:t.pipelineStatus.details_path}},[n("ci-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{status:t.pipelineStatus,title:t.pipelineStatusTooltip}})],1)]):t._e(),t._v(" "),t.hasMilestone?n("issue-milestone",{staticClass:"d-flex align-items-center item-milestone order-md-first ml-md-0",attrs:{milestone:t.milestone}}):t._e(),t._v(" "),t.weight>0?n("span",{staticClass:"order-md-1"},[n("issue-weight",{staticClass:"item-weight gl-display-flex gl-align-items-center",attrs:{weight:t.weight,"tag-name":"span"}})],1):t._e(),t._v(" "),t.dueDate?n("span",{staticClass:"order-md-1"},[n("issue-due-date",{attrs:{date:t.dueDate,closed:Boolean(t.closedAt),"tooltip-placement":"top","css-class":"item-due-date gl-display-flex gl-align-items-center"}})],1):t._e(),t._v(" "),t.hasAssignees?n("issue-assignees",{staticClass:"item-assignees align-items-center align-self-end flex-shrink-0 order-md-2 d-none d-md-flex",attrs:{assignees:t.assignees}}):t._e()],1)]),t._v(" "),0!==t.assignees.length?n("issue-assignees",{staticClass:"item-assignees d-flex align-items-center align-self-end flex-shrink-0 d-md-none ml-2",attrs:{assignees:t.assignees}}):t._e()],1)]),t._v(" "),t.isLocked?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"lockIcon",staticClass:"gl-px-3 gl-display-inline-block gl-cursor-not-allowed",attrs:{title:t.lockedMessage}},[n("gl-icon",{attrs:{name:"lock"}})],1):t.canRemove?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"removeButton",staticClass:"js-issue-item-remove-button gl-ml-3",attrs:{icon:"close",category:"tertiary",disabled:t.removeDisabled,"data-qa-selector":"remove_related_issue_button",title:t.__("Remove"),"aria-label":t.__("Remove")},on:{click:t.onRemoveRequest}}):t._e()],1)}),[],!1,null,null,null);t.a=m.exports},xvTi:function(e,t,i){"use strict";var n=i("zLBL"),s=i("5DNK"),a=i("nPFI"),r=i("OkMp"),o=i("0X+3"),l=i("cuRJ"),c=i("teVv"),d=i("mVy/"),u=i("Q1Ax"),p=i.n(u),h=i("6zJf"),f={i18n:d.a,components:{GlLoadingIcon:n.a,GlTooltip:s.a,GlSprintf:a.a,GlDropdown:r.a,GlDropdownItem:o.a,GlButton:l.a,SeverityToken:h.a},inject:["canUpdate"],props:{projectPath:{type:String,required:!0},iid:{type:String,required:!0},initialSeverity:{type:String,required:!1,default:d.b.UNKNOWN.value},issuableType:{type:String,required:!1,default:d.c.INCIDENT,validator:function(e){return[d.c.INCIDENT].includes(e)}}},data(){return{isDropdownShowing:!1,isUpdating:!1,severity:this.initialSeverity}},computed:{severitiesList(){switch(this.issuableType){case d.c.INCIDENT:return Object.values(d.b);default:return[]}},dropdownClass(){return this.isDropdownShowing?"show":"gl-display-none"},selectedItem(){var e=this;return this.severitiesList.find((function(t){return t.value===e.severity}))}},mounted(){document.addEventListener("click",this.handleOffClick)},beforeDestroy(){document.removeEventListener("click",this.handleOffClick)},methods:{handleOffClick(e){this.isDropdownShowing&&(this.$refs.sidebarSeverity.contains(e.target)||this.hideDropdown())},hideDropdown(){this.isDropdownShowing=!1;const e=new Event("hidden.gl.dropdown");this.$el.dispatchEvent(e)},toggleFormDropdown(){this.isDropdownShowing=!this.isDropdownShowing},updateSeverity(e){var t=this;this.hideDropdown(),this.isUpdating=!0,this.$apollo.mutate({mutation:p.a,variables:{iid:this.iid,severity:e,projectPath:this.projectPath}}).then((function(e){const{data:{issueSetSeverity:{errors:i=[],issue:{severity:n}}}}=e;if(i[0])throw i[0];t.severity=n})).catch((function(){return Object(c.f)({message:`${t.$options.i18n.UPDATE_SEVERITY_ERROR} ${t.$options.i18n.TRY_AGAIN}`})})).finally((function(){t.isUpdating=!1}))}}},m=i("bPvS"),g=Object(m.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"sidebarSeverity",staticClass:"block"},[i("div",{ref:"severity",staticClass:"sidebar-collapsed-icon",on:{click:e.toggleFormDropdown}},[i("severity-token",{attrs:{severity:e.selectedItem,"icon-size":14,"icon-only":!0}}),e._v(" "),i("gl-tooltip",{attrs:{target:function(){return e.$refs.severity},boundary:"viewport",placement:"left"}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.SEVERITY_VALUE},scopedSlots:e._u([{key:"severity",fn:function(){return[e._v("\n          "+e._s(e.selectedItem.label)+"\n        ")]},proxy:!0}])})],1)],1),e._v(" "),i("div",{staticClass:"hide-collapsed"},[i("p",{staticClass:"gl-line-height-20 gl-mb-2 gl-text-gray-900 gl-display-flex gl-justify-content-space-between"},[e._v("\n      "+e._s(e.$options.i18n.SEVERITY)+"\n      "),e.canUpdate?i("gl-button",{attrs:{category:"tertiary",size:"small","data-testid":"editButton"},on:{click:e.toggleFormDropdown,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}}},[e._v("\n        "+e._s(e.$options.i18n.EDIT)+"\n      ")]):e._e()],1),e._v(" "),i("gl-dropdown",{class:e.dropdownClass,attrs:{block:"","header-text":e.__("Assign severity"),text:e.selectedItem.label,"toggle-class":"dropdown-menu-toggle gl-mb-2"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}}},e._l(e.severitiesList,(function(t){return i("gl-dropdown-item",{key:t.value,attrs:{"data-testid":"severityDropdownItem","is-check-item":!0,"is-checked":t.value===e.severity},on:{click:function(i){return e.updateSeverity(t.value)}}},[i("severity-token",{attrs:{severity:t}})],1)})),1),e._v(" "),e.isUpdating?i("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e.isDropdownShowing?e._e():i("severity-token",{attrs:{severity:e.selectedItem}})],1)])}),[],!1,null,null,null);t.a=g.exports},xxB1:function(e,t,i){"use strict";var n=i("q+nE"),s=i("OkMp"),a=i("0X+3"),r=i("CkNe"),o=i("t9l/"),l=i("mWeI"),c=i("j8Yr"),d=i("toOR");const u=[{key:d.DESC,text:Object(o.a)("Newest first"),cls:"js-newest-first"},{key:d.ASC,text:Object(o.a)("Oldest first"),cls:"js-oldest-first"}];var p={SORT_OPTIONS:u,components:{GlDropdown:s.a,GlDropdownItem:a.a,LocalStorageSync:c.a},mixins:[l.a.mixin()],computed:{...Object(r.d)(["sortDirection","persistSortOrder","noteableType"]),selectedOption(){var e=this;return u.find((function(t){let{key:i}=t;return e.sortDirection===i}))},dropdownText(){return this.selectedOption.text},storageKey(){return`sort_direction_${this.noteableType.toLowerCase()}`}},methods:{...Object(r.c)(["setDiscussionSortDirection"]),fetchSortedDiscussions(e){this.isDropdownItemActive(e)||(this.setDiscussionSortDirection({direction:e}),this.track("change_discussion_sort_direction",{property:e}))},isDropdownItemActive(e){return e===this.sortDirection}}},h=i("bPvS"),f=Object(h.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-mr-3 gl-display-inline-block gl-vertical-align-bottom full-width-mobile",attrs:{"data-testid":"sort-discussion-filter"}},[i("local-storage-sync",{attrs:{value:e.sortDirection,"storage-key":e.storageKey,persist:e.persistSortOrder},on:{input:function(t){return e.setDiscussionSortDirection({direction:t})}}}),e._v(" "),i("gl-dropdown",{staticClass:"js-dropdown-text full-width-mobile",attrs:{text:e.dropdownText}},e._l(e.$options.SORT_OPTIONS,(function(t){var n=t.text,s=t.key,a=t.cls;return i("gl-dropdown-item",{key:s,class:a,attrs:{"is-check-item":!0,"is-checked":e.isDropdownItemActive(s)},on:{click:function(t){return e.fetchSortedDiscussions(s)}}},[e._v("\n      "+e._s(n)+"\n    ")])})),1)],1)}),[],!1,null,null,null).exports;t.a=function(e){const t=document.getElementById("js-vue-sort-issue-discussions");return t?new n.default({el:t,name:"SortDiscussionRoot",store:e,render:e=>e(f)}):null}},y51o:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WidgetBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalWorkItemWidget"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:54}};i.loc.source={body:"fragment WidgetBase on LocalWorkItemWidget {\n  type\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},y74X:function(e,t,i){(function(e){var n=i("l5RB"),s=t&&!t.nodeType&&t,a=s&&"object"==typeof e&&e&&!e.nodeType&&e,r=a&&a.exports===s?n.Buffer:void 0,o=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var i=e.length,n=o?o(i):new e.constructor(i);return e.copy(n),n}}).call(this,i("Y4xB")(e))},yLny:function(e,t,i){var n=i("kMtG"),s=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(s)return s(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();e.exports=a},yMQU:function(e,t,i){"use strict";t.a={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost",fallbackTolerance:1}},"yXJ/":function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:70}};i.loc.source={body:"fragment User on User {\n  id\n  avatarUrl\n  name\n  username\n  webUrl\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},yZaS:function(e,t,i){"use strict";i.d(t,"E",(function(){return n})),i.d(t,"W",(function(){return s})),i.d(t,"K",(function(){return a})),i.d(t,"V",(function(){return r})),i.d(t,"S",(function(){return o})),i.d(t,"i",(function(){return l})),i.d(t,"u",(function(){return c})),i.d(t,"r",(function(){return d})),i.d(t,"F",(function(){return u})),i.d(t,"R",(function(){return p})),i.d(t,"U",(function(){return h})),i.d(t,"cb",(function(){return f})),i.d(t,"B",(function(){return m})),i.d(t,"I",(function(){return g})),i.d(t,"J",(function(){return b})),i.d(t,"s",(function(){return v})),i.d(t,"t",(function(){return y})),i.d(t,"H",(function(){return _})),i.d(t,"xb",(function(){return w})),i.d(t,"j",(function(){return S})),i.d(t,"G",(function(){return k})),i.d(t,"q",(function(){return O})),i.d(t,"o",(function(){return T})),i.d(t,"P",(function(){return j})),i.d(t,"ub",(function(){return C})),i.d(t,"vb",(function(){return E})),i.d(t,"C",(function(){return I})),i.d(t,"O",(function(){return x})),i.d(t,"tb",(function(){return D})),i.d(t,"T",(function(){return P})),i.d(t,"Q",(function(){return N})),i.d(t,"wb",(function(){return A})),i.d(t,"M",(function(){return R})),i.d(t,"L",(function(){return L})),i.d(t,"N",(function(){return $})),i.d(t,"Y",(function(){return q})),i.d(t,"D",(function(){return F})),i.d(t,"l",(function(){return B})),i.d(t,"m",(function(){return M})),i.d(t,"c",(function(){return U})),i.d(t,"b",(function(){return V})),i.d(t,"a",(function(){return H})),i.d(t,"n",(function(){return z})),i.d(t,"p",(function(){return G})),i.d(t,"ab",(function(){return W})),i.d(t,"bb",(function(){return Y})),i.d(t,"Z",(function(){return K})),i.d(t,"rb",(function(){return Q})),i.d(t,"qb",(function(){return Z})),i.d(t,"sb",(function(){return J})),i.d(t,"pb",(function(){return X})),i.d(t,"X",(function(){return ee})),i.d(t,"v",(function(){return te})),i.d(t,"z",(function(){return ie})),i.d(t,"y",(function(){return ne})),i.d(t,"x",(function(){return se})),i.d(t,"A",(function(){return ae})),i.d(t,"w",(function(){return re})),i.d(t,"g",(function(){return oe})),i.d(t,"h",(function(){return le})),i.d(t,"d",(function(){return ce})),i.d(t,"e",(function(){return de})),i.d(t,"f",(function(){return ue})),i.d(t,"k",(function(){return pe})),i.d(t,"db",(function(){return he})),i.d(t,"hb",(function(){return fe})),i.d(t,"ib",(function(){return me})),i.d(t,"eb",(function(){return ge})),i.d(t,"kb",(function(){return be})),i.d(t,"jb",(function(){return ve})),i.d(t,"gb",(function(){return ye})),i.d(t,"ob",(function(){return _e})),i.d(t,"nb",(function(){return we})),i.d(t,"fb",(function(){return Se})),i.d(t,"mb",(function(){return ke})),i.d(t,"lb",(function(){return Oe}));const n="inline",s="parallel",a="match",r="old-nonewline",o="new-nonewline",l="context",c="empty-cell",d="DiffNote",u="LegacyDiffNote",p="new",h="old",f="text",m="image",g="left",b="right",v="diff_view",y="diff_whitespace",_="is-over",w=20,S=3,k=17,O="120000",T="0",j="mr_tree_show",C="mr_diff_tree_list",E="mr_tree_list_width",I=320,x=240,D=260,P="old_line",N="new_line",A="type",R=500,L=30,$=2,q=200,F="highlighted_diff_lines",B=-1,M=-2,U="overflow",V="merge-conflict",H="collapsed",z="automatic",G="manual",W="idle",Y="loading",K="errored",Q="LOAD_START",Z="LOAD_ERROR",J="LOAD_SUCCEED",X="ACKNOWLEDGE_ERROR",ee={[`${W}:${Q}`]:Y,[`${Y}:${Z}`]:K,[`${Y}:${J}`]:W,[`${K}:${Q}`]:Y,[`${K}:${X}`]:W},te="mr:diffs:expandAllFiles",ie="mr:diffs:perf:fileTreeStart",ne="mr:diffs:perf:fileTreeEnd",se="mr:diffs:perf:filesStart",ae="mr:diffs:perf:firstFileShown",re="mr:diffs:perf:filesEnd",oe="conflict_our",le="conflict_their",ce="conflict_marker",de="conflict_marker_our",ue="conflict_marker_their",pe=750,he="i_code_review_click_diff_view_setting",fe="i_code_review_diff_view_inline",me="i_code_review_diff_view_parallel",ge="i_code_review_click_file_browser_setting",be="i_code_review_file_browser_tree_view",ve="i_code_review_file_browser_list_view",ye="i_code_review_click_whitespace_setting",_e="i_code_review_diff_show_whitespace",we="i_code_review_diff_hide_whitespace",Se="i_code_review_click_single_file_mode_setting",ke="i_code_review_diff_single_file",Oe="i_code_review_diff_multiple_files"},zdec:function(e,t,i){"use strict";t.a={itemsLimit:1e3}},zeBW:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("wC1f"),s=i("DNao"),a=i.n(s);const r={Mutation:{localCreateWorkItem(e,t,i){let{input:s}=t,{cache:r}=i;const o=Object(n.a)()[0],l={__typename:"LocalWorkItem",type:"FEATURE",id:o,widgets:{__typename:"LocalWorkItemWidgetConnection",nodes:[{__typename:"LocalTitleWidget",type:"TITLE",enabled:!0,contentText:s.title}]}};return r.writeQuery({query:a.a,variables:{id:o},data:{workItem:l}}),{__typename:"LocalCreateWorkItemPayload",workItem:l}},localUpdateWorkItem(e,t,i){let{input:n}=t,{cache:s}=i;const r={__typename:"LocalTitleWidget",type:"TITLE",enabled:!0,contentText:n.title},o={__typename:"LocalWorkItem",type:"FEATURE",id:n.id,widgets:{__typename:"LocalWorkItemWidgetConnection",nodes:[r]}};return s.writeQuery({query:a.a,variables:{id:n.id},data:{workItem:o}}),{__typename:"LocalUpdateWorkItemPayload",workItem:o}}}}},zlOL:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("r2TH"),s=i("BYh8");let a;const r=function(e){try{if(a)return a;const t=JSON.parse(e.dataset.initial);return t.initialTitleHtml=Object(s.a)(t.initialTitleHtml),t.initialDescriptionHtml=Object(s.a)(t.initialDescriptionHtml),a=t,t}catch(e){return n.a(e),{}}}},zqVt:function(e,t,i){"use strict";var n=i("H8gz"),s=i("5DNK"),a=i("XWvU"),r=i("U1Ws"),o=i("t9l/"),l={components:{GlIcon:n.a,GlTooltip:s.a},props:{closed:{type:Boolean,required:!1,default:!1},date:{type:String,required:!0},cssClass:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"bottom"}},computed:{title(){const e=Object(r.B)(),{timeDifference:t,standardDateFormat:i}=this,n=i;return t>=-1&&t<7?`${e.format(this.issueDueDate)} (${n})`:e.format(this.issueDueDate)},body(){const{timeDifference:e,issueDueDate:t,standardDateFormat:i}=this;return 0===e?Object(o.a)("Today"):1===e?Object(o.a)("Tomorrow"):-1===e?Object(o.a)("Yesterday"):e>0&&e<7?Object(a.a)(t,"dddd"):i},issueDueDate(){return Object(r.T)(this.date)},timeDifference(){const e=new Date;return Object(r.u)(e,this.issueDueDate)},isPastDue(){return!(this.timeDifference>=0||this.closed)},standardDateFormat(){const e=(new Date).getFullYear()===this.issueDueDate.getFullYear();return Object(r.f)(this.issueDueDate,!0,e)}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("span",{ref:"issueDueDate",staticClass:"board-card-info card-number",class:e.cssClass},[i("gl-icon",{staticClass:"board-card-info-icon gl-mr-2",class:{"text-danger":e.isPastDue},attrs:{name:"calendar"}}),e._v(" "),i("time",{staticClass:"board-card-info-text",class:{"text-danger":e.isPastDue},attrs:{datetime:"date"}},[e._v(e._s(e.body))])],1),e._v(" "),i("gl-tooltip",{attrs:{target:function(){return e.$refs.issueDueDate},placement:e.tooltipPlacement}},[i("span",{staticClass:"bold"},[e._v(e._s(e.__("Due date")))]),e._v(" "),i("br"),e._v(" "),i("span",{class:{"text-danger-muted":e.isPastDue}},[e._v(e._s(e.title))])])],1)}),[],!1,null,null,null);t.a=d.exports}},[[175,1,0,2,3,4,5,6,7,8,9,10,11,14,15,16,17,18,19,22,24]]]);
//# sourceMappingURL=pages.projects.issues.show.cd623903.chunk.js.map