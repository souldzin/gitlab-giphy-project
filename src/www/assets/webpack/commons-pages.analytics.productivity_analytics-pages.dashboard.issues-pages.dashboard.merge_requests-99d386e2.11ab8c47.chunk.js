(this.webpackJsonp=this.webpackJsonp||[]).push([[18,413],{"/e4I":function(e,t,n){var r=n("NZhY"),i=n("ZzVf"),s=n("ri+z"),o=n("lj6f"),a=n("n2Ck"),l=n("8H0A"),c=200;e.exports=function(e,t,n){var d=-1,u=i,h=e.length,p=!0,f=[],g=f;if(n)p=!1,u=s;else if(h>=c){var m=t?null:a(e);if(m)return l(m);p=!1,u=o,g=new r}else g=t?[]:f;e:for(;++d<h;){var v=e[d],k=t?t(v):v;if(v=n||0!==v?v:0,p&&k==k){for(var y=g.length;y--;)if(g[y]===k)continue e;t&&g.push(k),f.push(v)}else u(g,k,n)||(g!==f&&g.push(k),f.push(v))}return f}},"53iN":function(e,t,n){var r=n("Xl2X");e.exports=function(e){return r(Set.prototype.values,e)}},"59gv":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n("LW8g"),i=n.n(r),s=n("t9l/"),o=n("73KY");const a=[{formattedKey:Object(s.a)("Author"),key:"author",type:"string",param:"username",symbol:"@",icon:"pencil",tag:"@author"},{formattedKey:Object(s.a)("Assignee"),key:"assignee",type:"string",param:"username",symbol:"@",icon:"user",tag:"@assignee"},{formattedKey:Object(s.a)("Milestone"),key:"milestone",type:"string",param:"title",symbol:"%",icon:"clock",tag:"%milestone"},{formattedKey:Object(s.a)("Release"),key:"release",type:"string",param:"tag",symbol:"",icon:"rocket",tag:Object(s.a)("tag name")},{formattedKey:Object(s.a)("Label"),key:"label",type:"array",param:"name[]",symbol:"~",icon:"labels",tag:"~label"}];gon.current_user_id&&a.push({formattedKey:Object(s.a)("My-Reaction"),key:"my-reaction",type:"string",param:"emoji",symbol:"",icon:"thumb-up",tag:"emoji"});const l=[{formattedKey:Object(s.a)("Label"),key:"label",type:"string",param:"name",symbol:"~"}],c=i()([{url:"assignee_id=None",tokenKey:"assignee",value:Object(s.a)("None")},{url:"assignee_id=Any",tokenKey:"assignee",value:Object(s.a)("Any")},{url:"reviewer_id=None",tokenKey:"reviewer",value:Object(s.a)("None")},{url:"reviewer_id=Any",tokenKey:"reviewer",value:Object(s.a)("Any")},{url:"author_username=support-bot",tokenKey:"author",value:"support-bot"},{url:"milestone_title=None",tokenKey:"milestone",value:Object(s.a)("None")},{url:"milestone_title=Any",tokenKey:"milestone",value:Object(s.a)("Any")},{url:"milestone_title=%23upcoming",tokenKey:"milestone",value:Object(s.a)("Upcoming")},{url:"milestone_title=%23started",tokenKey:"milestone",value:Object(s.a)("Started")},{url:"release_tag=None",tokenKey:"release",value:Object(s.a)("None")},{url:"release_tag=Any",tokenKey:"release",value:Object(s.a)("Any")},{url:"label_name[]=None",tokenKey:"label",value:Object(s.a)("None")},{url:"label_name[]=Any",tokenKey:"label",value:Object(s.a)("Any")},{url:"my_reaction_emoji=None",tokenKey:"my-reaction",value:Object(s.a)("None")},{url:"my_reaction_emoji=Any",tokenKey:"my-reaction",value:Object(s.a)("Any")}].map((function(e){const[t,n]=e.url.split("="),r=t.includes("[]"),i=`not[${r?t.slice(0,-2):t}]${r?"[]":""}=${n}`;return[{...e,operator:"="},{...e,operator:"!=",url:i}]}))),d=new o.a(a,l,c);t.c=d},"73KY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("AfGZ"),n("SXnf"),n("f5Le"),n("TTAZ"),n("W2Di"),n("9gLG"),n("pO+W"),n("DGqX"),n("DuA4"),n("8AuF"),n("bDpz"),n("JbNT"),n("CYm8"),n("s4MS"),n("fDBp"),n("Z+bI"),n("n0qn");var r=n("t9l/");class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.tokenKeys=e,this.alternativeTokenKeys=t,this.conditions=n,this.tokenKeysWithAlternative=this.tokenKeys.concat(this.alternativeTokenKeys)}get(){return this.tokenKeys}getKeys(){return this.tokenKeys.map((function(e){return e.key}))}getAlternatives(){return this.alternativeTokenKeys}getConditions(){return this.conditions}shouldUppercaseTokenName(e){const t=this.searchByKey(e.toLowerCase());return t&&t.uppercaseTokenName}shouldCapitalizeTokenValue(e){const t=this.searchByKey(e.toLowerCase());return t&&t.capitalizeTokenValue}searchByKey(e){return this.tokenKeys.find((function(t){return t.key===e}))||null}searchBySymbol(e){return this.tokenKeys.find((function(t){return t.symbol===e}))||null}searchByKeyParam(e){return this.tokenKeysWithAlternative.find((function(t){let n=t.key;return n=n.replace("-","_"),t.param&&(n+=`_${t.param}`),e===n}))||null}searchByConditionUrl(e){return this.conditions.find((function(t){return t.url===e}))||null}searchByConditionKeyValue(e,t,n){return this.conditions.find((function(r){return r.tokenKey===e&&r.operator===t&&r.value.toLowerCase()===n.toLowerCase()}))||null}addExtraTokensForIssues(){const e={formattedKey:Object(r.a)("Confidential"),key:"confidential",type:"string",param:"",symbol:"",icon:"eye-slash",tag:Object(r.a)("Yes or No"),lowercaseValueOnSubmit:!0,uppercaseTokenName:!1,capitalizeTokenValue:!0};this.tokenKeys.push(e),this.tokenKeysWithAlternative.push(e)}removeTokensForKeys(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Set(t);this.tokenKeys=this.tokenKeys.filter((function(e){let{key:t}=e;return!r.has(t)})),this.tokenKeysWithAlternative=this.tokenKeysWithAlternative.filter((function(e){let{key:t}=e;return!r.has(t)}))}}},"7MNj":function(e,t,n){"use strict";let r=document;t.a=new class{set container(e){r=e}get container(){return r}}},"8AuF":function(e,t,n){"use strict";var r=n("2UYt"),i=n("o0Q1"),s=n("Xl2X"),o=n("VJBC"),a=n("VCaL"),l=n("sL7a"),c=n("K9i8"),d=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){var t=c(this),n=l(e),r=n.has;return a(r)||(n=new(i("Set"))(e),r=o(n.has)),!d(t,(function(e,t){if(!1===s(r,n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"8wXV":function(e,t,n){var r=n("g2Ma"),i=n("sUWt"),s=n("Wfaq");e.exports=function(e,t,n){return t==t?s(e,t,n):r(e,i,n)}},"9gLG":function(e,t,n){"use strict";var r=n("2UYt"),i=n("o0Q1"),s=n("Xl2X"),o=n("VJBC"),a=n("sL7a"),l=n("nzuM"),c=n("E71V"),d=n("53iN"),u=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=a(this),n=d(t),r=l(e,arguments.length>1?arguments[1]:void 0),h=new(c(t,i("Set"))),p=o(h.add);return u(n,(function(e){r(e,e,t)&&s(p,h,e)}),{IS_ITERATOR:!0}),h}})},AaGz:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},AiIx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));const r=8,i=9,s=13,o=27,a=38,l=40,c=46},"C0e/":function(e,t,n){"use strict";var r=n("Xl2X"),i=n("VJBC"),s=n("sL7a");e.exports=function(){for(var e=s(this),t=i(e.add),n=0,o=arguments.length;n<o;n++)r(t,e,arguments[n]);return e}},CYm8:function(e,t,n){"use strict";var r=n("2UYt"),i=n("o0Q1"),s=n("nzuM"),o=n("Xl2X"),a=n("VJBC"),l=n("sL7a"),c=n("E71V"),d=n("53iN"),u=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=l(this),n=d(t),r=s(e,arguments.length>1?arguments[1]:void 0),h=new(c(t,i("Set"))),p=a(h.add);return u(n,(function(e){o(p,h,r(e,e,t))}),{IS_ITERATOR:!0}),h}})},CoxT:function(e,t,n){"use strict";const r="data-dropdown-trigger",i="droplab-item-selected",s="droplab-item-ignore",o=/\{\{(.+?)\}\}/g;n("AfGZ");var a=n("lb6a"),l=n.n(a);var c={toCamelCase(e){return this.camelize(e.split("-").slice(1).join(" "))},template:(e,t)=>l()(e,{escape:o})(t),camelize:e=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,""),closest(e,t){for(;e&&e.tagName!==t&&"HTML"!==e.tagName;)e=e.parentNode;return e},isDropDownParts:e=>!(!e||!e.hasAttribute||"HTML"===e.tagName)&&(e.hasAttribute(r)||e.hasAttribute("data-dropdown"))};class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.currentIndex=0,this.hidden=!0,this.list="string"==typeof e?document.querySelector(e):e,this.items=[],this.eventWrapper={},this.hideOnClick=!1!==t.hideOnClick,t.addActiveClassToDropdownButton&&(this.dropdownToggle=this.list.parentNode.querySelector(".js-dropdown-toggle")),this.getItems(),this.initTemplateString(),this.addEvents(),this.initialState=e.innerHTML}getItems(){return this.items=[].slice.call(this.list.querySelectorAll("li")),this.items}initTemplateString(){const e=this.items||this.getItems();let t="";return e.length>0&&(t=e[e.length-1].outerHTML),this.templateString=t,this.templateString}clickEvent(e){if("UL"===e.target.tagName)return;if(e.target.closest(`.${s}`))return;const t=e.target.closest("li");if(!t)return;this.addSelectedClass(t),e.preventDefault(),this.hideOnClick&&this.hide();const n=new CustomEvent("click.dl",{detail:{list:this,selected:t,data:e.target.dataset}});this.list.dispatchEvent(n)}addSelectedClass(e){this.removeSelectedClasses(),e.classList.add(i)}removeSelectedClasses(){(this.items||this.getItems()).forEach((function(e){return e.classList.remove(i)}))}addEvents(){this.eventWrapper.clickEvent=this.clickEvent.bind(this),this.eventWrapper.closeDropdown=this.closeDropdown.bind(this),this.list.addEventListener("click",this.eventWrapper.clickEvent),this.list.addEventListener("keyup",this.eventWrapper.closeDropdown)}closeDropdown(e){return 27!==e.keyCode||(e.preventDefault(),this.toggle())}setData(e){this.data=e,this.render(e)}addData(e){this.data=(this.data||[]).concat(e),this.render(this.data)}render(e){const t=e?e.map(this.renderChildren.bind(this)):[];if(this.list.querySelector(".filter-dropdown-loading"))return;(this.list.querySelector("ul[data-dynamic]")||this.list).innerHTML=t.join("");const n=new CustomEvent("render.dl",{detail:{list:this}});this.list.dispatchEvent(n)}renderChildren(e){const t=c.template(this.templateString,e),n=document.createElement("div");return n.innerHTML=t,d.setImagesSrc(n),n.firstChild.style.display=e.droplab_hidden?"none":"block",n.firstChild.outerHTML}show(){this.hidden&&(this.list.style.display="block",this.currentIndex=0,this.hidden=!1,this.dropdownToggle&&this.dropdownToggle.classList.add("active"))}hide(){this.hidden||(this.list.style.display="none",this.currentIndex=0,this.hidden=!0,this.dropdownToggle&&this.dropdownToggle.classList.remove("active"))}toggle(){return this.hidden?this.show():this.hide()}destroy(){this.hide(),this.list.removeEventListener("click",this.eventWrapper.clickEvent),this.list.removeEventListener("keyup",this.eventWrapper.closeDropdown)}static setImagesSrc(e){[...e.querySelectorAll("img[data-src]")].forEach((function(e){const t=e;t.src=t.getAttribute("data-src"),t.removeAttribute("data-src")}))}}var u=d;var h=class{constructor(e,t,n,r){this.trigger=e,this.list=new u(t,r),this.type="Hook",this.event="click",this.plugins=n||[],this.config=r||{},this.id=e.id}};var p=class extends h{constructor(e,t,n,r){super(e,t,n,r),this.type="button",this.event="click",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}clicked(e){e.preventDefault();const t=new CustomEvent("click.dl",{detail:{hook:this},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t),this.list.toggle()}addEvents(){this.eventWrapper.clicked=this.clicked.bind(this),this.trigger.addEventListener("click",this.eventWrapper.clicked)}removeEvents(){this.trigger.removeEventListener("click",this.eventWrapper.clicked)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins()}};var f=class extends h{constructor(e,t,n,r){super(e,t,n,r),this.type="input",this.event="input",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}addEvents(){this.eventWrapper.mousedown=this.mousedown.bind(this),this.eventWrapper.input=this.input.bind(this),this.eventWrapper.keyup=this.keyup.bind(this),this.eventWrapper.keydown=this.keydown.bind(this),this.trigger.addEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.addEventListener("input",this.eventWrapper.input),this.trigger.addEventListener("keyup",this.eventWrapper.keyup),this.trigger.addEventListener("keydown",this.eventWrapper.keydown)}removeEvents(){this.hasRemovedEvents=!0,this.trigger.removeEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.removeEventListener("input",this.eventWrapper.input),this.trigger.removeEventListener("keyup",this.eventWrapper.keyup),this.trigger.removeEventListener("keydown",this.eventWrapper.keydown)}input(e){if(this.hasRemovedEvents)return;this.list.show();const t=new CustomEvent("input.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}mousedown(e){if(this.hasRemovedEvents)return;const t=new CustomEvent("mousedown.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}keyup(e){this.hasRemovedEvents||this.keyEvent(e,"keyup.dl")}keydown(e){this.hasRemovedEvents||this.keyEvent(e,"keydown.dl")}keyEvent(e,t){this.list.show();const n=new CustomEvent(t,{detail:{hook:this,text:e.target.value,which:e.which,key:e.key},bubbles:!0,cancelable:!0});e.target.dispatchEvent(n)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins(),this.list.destroy()}};var g=function(){var e,t=!1,n=!1,r=function(e){for(var t=Array.prototype.slice.call(e.list.querySelectorAll("li:not(.divider):not(.hidden)"),0),n=[],r=0;r<t.length;r++){var i=t[r];i.classList.remove("droplab-item-active"),"none"!==i.style.display&&n.push(i)}return n},i=function(e){var t=r(e)[e.currentIndex-1],n=new CustomEvent("click.dl",{detail:{list:e,selected:t,data:t.dataset}});e.list.dispatchEvent(n),e.hide()};document.addEventListener("mousedown.dl",(function(e){var i=e.detail.hook.list;r(i),i.show(),i.currentIndex=0,t=!1,n=!1})),document.addEventListener("keydown.dl",(function(s){s.target;var o=s.detail.hook.list,a=o.currentIndex;if(t=!1,n=!1,s.detail.which){if(13===(e=s.detail.which))return void i(s.detail.hook.list);38===e&&(t=!0),40===e&&(n=!0)}else if(s.detail.key){if("Enter"===(e=s.detail.key))return void i(s.detail.hook.list);"ArrowUp"===e&&(t=!0),"ArrowDown"===e&&(n=!0)}t&&a--,n&&a++,a<0&&(a=0),o.currentIndex=a,function(e){var t=r(e);if(e.currentIndex>0&&(t[e.currentIndex-1]||(e.currentIndex=e.currentIndex-1),t[e.currentIndex-1])){var n=t[e.currentIndex-1],i=n.closest(".filter-dropdown");if(n.classList.add("droplab-item-active"),i){var s=i.offsetHeight,o=n.offsetTop-30;o>s&&(i.scrollTop=o-s)}}}(s.detail.hook.list)}))};t.a=class{constructor(){this.ready=!1,this.hooks=[],this.queuedData=[],this.config={},this.eventWrapper={}}loadStatic(){const e=[].slice.apply(document.querySelectorAll(`[${r}]`));this.addHooks(e)}addData(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processAddData")}setData(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processSetData")}destroy(){this.hooks.forEach((function(e){return e.destroy()})),this.hooks=[],this.removeEvents()}applyArgs(e,t){return this.ready?this[t](...e):(this.queuedData=this.queuedData||[],this.queuedData.push(e),this.ready)}processAddData(e,t){this.processData(e,t,"addData")}processSetData(e,t){this.processData(e,t,"setData")}processData(e,t,n){this.hooks.forEach((function(r){Array.isArray(e)&&r.list[n](e),r.trigger.id===e&&r.list[n](t)}))}addEvents(){this.eventWrapper.documentClicked=this.documentClicked.bind(this),document.addEventListener("click",this.eventWrapper.documentClicked)}documentClicked(e){if(!e.defaultPrevented&&!c.isDropDownParts(e.target)){if("UL"!==e.target.tagName){const t=c.closest(e.target,"UL");if(c.isDropDownParts(t))return}this.hooks.forEach((function(e){return e.list.hide()}))}}removeEvents(){document.removeEventListener("click",this.eventWrapper.documentClicked)}changeHookList(e,t,n,r){var i=this;const s="string"==typeof e?document.getElementById(e):e;this.hooks.forEach((function(e,o){const a=e;a.list.list.dataset.dropdownActive=!1,a.trigger===s&&(a.destroy(),i.hooks.splice(o,1),i.addHook(s,t,n,r))}))}addHook(e,t,n,i){const s="string"==typeof e?document.querySelector(e):e;let o;(o="string"==typeof t?document.querySelector(t):t instanceof Element?t:document.querySelector(e.dataset[c.toCamelCase(r)])).dataset.dropdownActive=!0;const a="INPUT"===s.tagName?f:p;return this.hooks.push(new a(s,o,n,i)),this}addHooks(e,t,n){var r=this;return e.forEach((function(e){return r.addHook(e,null,t,n)})),this}setConfig(e){this.config=e}fireReady(){const e=new CustomEvent("ready.dl",{detail:{dropdown:this}});document.dispatchEvent(e),this.ready=!0}init(e,t,n,r){var i=this;return e?this.addHook(e,t,n,r):this.loadStatic(),this.addEvents(),g(),this.fireReady(),this.queuedData.forEach((function(e){return i.addData(e)})),this.queuedData=[],this}}},DGqX:function(e,t,n){"use strict";var r=n("2UYt"),i=n("o0Q1"),s=n("Xl2X"),o=n("VJBC"),a=n("sL7a"),l=n("E71V"),c=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){var t=a(this),n=new(l(t,i("Set"))),r=o(t.has),d=o(n.add);return c(e,(function(e){s(r,t,e)&&s(d,n,e)})),n}})},DuA4:function(e,t,n){"use strict";var r=n("2UYt"),i=n("Xl2X"),s=n("VJBC"),o=n("sL7a"),a=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){var t=o(this),n=s(t.has);return!a(e,(function(e,r){if(!0===i(n,t,e))return r()}),{INTERRUPTED:!0}).stopped}})},GxZ2:function(e,t,n){"use strict";n("AfGZ");var r=n("AaGz"),i=n.n(r),s=n("JOPK"),o=n("59gv"),a=n("teVv"),l=n("AiIx"),c=n("t9l/"),d=n("4zBw"),u=n("yYHy"),h=n("7MNj"),p=n("tEGv"),f=n("F87h");var g={init:function(e){this.destroyed=!1,this.hook=e,this.notLoading(),this.eventWrapper={},this.eventWrapper.debounceTrigger=this.debounceTrigger.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.addEventListener("focus",this.eventWrapper.debounceTrigger),this.trigger(!0)},notLoading:function(){this.loading=!1},debounceTrigger:function(e){var t=[16,17,18,20,37,38,39,40,91,93].indexOf(e.detail.which||e.detail.keyCode)>-1,n="focus"===e.type;t||this.loading||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.trigger.bind(this,n),200))},trigger:function(e){var t=this,n=this.hook.config.AjaxFilter,r=this.trigger.value;if(n&&n.endpoint&&n.searchKey){if(n.searchValueFunction&&(r=n.searchValueFunction()),n.loadingTemplate&&void 0===this.hook.list.data||0===this.hook.list.data.length){var i=this.hook.list.list.querySelector("[data-dynamic]"),s=document.createElement("div");s.innerHTML=n.loadingTemplate,s.setAttribute("data-loading-template",!0),this.listTemplate=i.outerHTML,i.outerHTML=s.outerHTML}if(e&&(r=""),n.searchKey===r)return this.list.show();this.loading=!0;var o=n.params||{};o[n.searchKey]=r;var a=n.endpoint+this.buildParams(o);return f.a.retrieve(a).then((function(e){t._loadData(e,n),n.onLoadingFinished&&n.onLoadingFinished(e)})).catch(n.onError)}},_loadData(e,t){const n=this.hook.list;if(t.loadingTemplate&&void 0===n.data||0===n.data.length){const e=n.list.querySelector("[data-loading-template]");e&&(e.outerHTML=this.listTemplate)}if(!this.destroyed){var r=n.list.children;1===r.length&&r[0].hasAttribute("data-dynamic")&&0===e.length&&n.hide(),n.setData.call(n,e)}this.notLoading(),n.currentIndex=0},buildParams:function(e){return e?"?"+Object.keys(e).map((function(t){return t+"="+(e[t]||"")})).join("&"):""},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.removeEventListener("focus",this.eventWrapper.debounceTrigger)}},m=n("w7Q3"),v=n("oj/M"),k=n("A1CF"),y=n.n(k);const S=[...m.e,"approver"];var b,T,E,w=n("8GQU"),L=n("STaY");class C{constructor(e,t,n){this.tokenValue=e,this.tokenType=t,this.tokenOperator=n}render(e,t){const{tokenType:n,tokenValue:r}=this;["none","any"].includes(r.toLowerCase())||("label"===n?this.updateLabelTokenColor(e):S.includes(n)?this.updateUserTokenAppearance(e,t):"my-reaction"===n?this.updateEmojiTokenAppearance(e,t):"epic"===n&&this.updateEpicLabel(e,t))}updateUserTokenAppearance(e,t){const{tokenValue:n}=this,r=this.tokenValue.replace(/^@/,"");return L.a.retrieve(r).then((function(r){r&&(e.dataset.originalValue=n,t.innerHTML=`\n          <img class="avatar s20" src="${r.avatar_url}" alt="">\n          ${y()(r.name)}\n        `)})).catch((function(){}))}updateLabelTokenColor(e){const{tokenValue:t}=this,n=h.a.container.querySelector(".filtered-search"),{labelsEndpoint:r}=n.dataset,i=I.getEndpointWithQueryParams(`${r}.json`,n.dataset.endpointQueryParams);return f.a.retrieve(i).then((function(n){const r=(n||[]).find((function(e){return`~${z.getEscapedText(e.title)}`===t}));r&&C.setTokenStyle(e,r.color,r.text_color)})).catch((function(){return Object(a.f)({message:Object(c.a)("An error occurred while fetching label colors.")})}))}updateEpicLabel(e){const t=this.tokenValue.replace(/^&/,""),n=h.a.container.querySelector(".filtered-search"),{epicsEndpoint:r}=n.dataset,i=I.getEndpointWithQueryParams(`${r}.json`,n.dataset.endpointQueryParams);return f.a.retrieve(i).then((function(n){const r=(n||[]).find((function(e){return e.id===Number(t)}));r&&C.replaceEpicTitle(e,r.title,r.id)})).catch((function(){return Object(a.f)({message:Object(c.a)("An error occurred while adding formatted title for epic")})}))}static replaceEpicTitle(e,t,n){const r=e,i=r.querySelector(".value");i&&(r.dataset.originalValue=i.innerText,i.innerText=`"${t}"::&${n}`)}static setTokenStyle(e,t,n){const r=e;if(r.style.backgroundColor=t,r.style.color=n,"#FFFFFF"===n){r.querySelector(".remove-token").classList.add("inverted")}return r}updateEmojiTokenAppearance(e,t){const n=e,r=t,i=this.tokenValue;return w.initEmojiMap().then((function(){w.isEmojiNameValid(i)&&(n.dataset.originalValue=i,r.innerHTML=w.glEmojiTag(i))}))}}class I{static getOperatorToken(e){let t=null;return I.permissibleOperatorValues.forEach((function(n){e.startsWith(n)&&(t=n)})),t}static getValueToken(e){let t=e;return I.permissibleOperatorValues.forEach((function(n){e.startsWith(n)&&(t=e.slice(n.length))})),t}static getLastVisualTokenBeforeInput(){const e=h.a.container.querySelector(".input-token"),t=e&&e.previousElementSibling;return{lastVisualToken:t,isLastVisualTokenValid:null===t||-1!==t.className.indexOf("filtered-search-term")||t&&null!==t.querySelector(".operator")&&null!==t.querySelector(".value")}}static unselectTokens(){const e=h.a.container.querySelectorAll(".js-visual-token .selectable.selected");[].forEach.call(e,(function(e){return e.classList.remove("selected")}))}static selectToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.classList.contains("selected");I.unselectTokens(),n&&!t||e.classList.add("selected")}static removeSelectedToken(){const e=h.a.container.querySelector(".js-visual-token .selected");if(e){const t=e.closest(".js-visual-token");t.parentElement.removeChild(t)}}static createVisualTokenElementHTML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canEdit:t=!0,hasOperator:n=!1,uppercaseTokenName:r=!1,capitalizeTokenValue:i=!1}=e;return`\n      <div class="${t?"selectable":"hidden"}" role="button">\n        <div class="${r?"text-uppercase":""} name"></div>\n        ${n?'<div class="operator"></div>':""}\n        <div class="value-container">\n          <div class="${i?"text-capitalize":""} value"></div>\n          <div class="remove-token" role="button">\n            ${Object(v.Q)("close","s16 close-icon")}\n          </div>\n        </div>\n      </div>\n    `}static renderVisualTokenValue(e,t,n,r){const i=t.toLowerCase(),s=e.querySelector(".value-container"),o=s.querySelector(".value");o.textContent=n,new C(n,i,r).render(s,o)}static addVisualTokenElement(e){let{name:t,operator:n,value:r,options:i={}}=e;const{isSearchTerm:s=!1,canEdit:o,uppercaseTokenName:a,capitalizeTokenValue:l,tokenClass:c=`search-token-${t.toLowerCase()}`}=i,d=document.createElement("li");d.classList.add("js-visual-token"),d.classList.add(s?"filtered-search-term":"filtered-search-token"),s||d.classList.add(c);const u=Boolean(n);if(r)d.innerHTML=I.createVisualTokenElementHTML({canEdit:o,uppercaseTokenName:a,operator:n,hasOperator:u,capitalizeTokenValue:l}),I.renderVisualTokenValue(d,t,r,n);else{const e=`<div class="${a?"text-uppercase":""} name"></div>`;let t="";u&&(t='<div class="operator"></div>'),d.innerHTML=e+t}d.querySelector(".name").textContent=t,u&&(d.querySelector(".operator").textContent=n);const p=h.a.container.querySelector(".tokens-container"),f=h.a.container.querySelector(".filtered-search");p.insertBefore(d,f.parentElement)}static addValueToPreviousVisualTokenElement(e){const{lastVisualToken:t,isLastVisualTokenValid:n}=I.getLastVisualTokenBeforeInput();if(!n&&t.classList.contains("filtered-search-token")){const n=I.getLastTokenPartial(),r=I.getLastTokenOperator();t.innerHTML=I.createVisualTokenElementHTML({hasOperator:Boolean(r)}),t.querySelector(".name").textContent=n,t.querySelector(".operator").textContent=r,I.renderVisualTokenValue(t,n,e,r)}}static addFilterVisualToken(e,t,n){let{canEdit:r,uppercaseTokenName:i=!1,capitalizeTokenValue:s=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{lastVisualToken:o,isLastVisualTokenValid:a}=I.getLastVisualTokenBeforeInput(),{addVisualTokenElement:l}=I;if(a)l({name:e,operator:t,value:n,options:{canEdit:r,uppercaseTokenName:i,capitalizeTokenValue:s}});else if(a||!o||o.querySelector(".operator")){const a=o.querySelector(".name").textContent,c=o.querySelector(".operator").textContent;h.a.container.querySelector(".tokens-container").removeChild(o);let d=n;d||t||(d=e),l({name:a,operator:c,value:d,options:{canEdit:r,uppercaseTokenName:i,capitalizeTokenValue:s}})}else{h.a.container.querySelector(".tokens-container").removeChild(o),l({name:e,operator:t,value:n,options:{canEdit:r,uppercaseTokenName:i,capitalizeTokenValue:s}})}}static addSearchVisualToken(e){const{lastVisualToken:t}=I.getLastVisualTokenBeforeInput();t&&t.classList.contains("filtered-search-term")?t.querySelector(".name").textContent+=` ${e}`:I.addVisualTokenElement({name:e,operator:null,value:null,options:{isSearchTerm:!0}})}static getLastTokenPartial(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{lastVisualToken:t}=I.getLastVisualTokenBeforeInput();if(!t)return"";const n=t.querySelector(".value-container"),r=n&&n.dataset.originalValue;if(r)return r;const i=t.querySelector(".value"),s=t.querySelector(".name"),o=i?i.textContent:"",a=s?s.textContent:"";if(e){const e=t.querySelector(".operator"),n=e?e.textContent:"";return o||n||a}return o||a}static getLastTokenOperator(){const{lastVisualToken:e}=I.getLastVisualTokenBeforeInput(),t=e&&e.querySelector(".operator");return null==t?void 0:t.textContent}static removeLastTokenPartial(){const{lastVisualToken:e}=I.getLastVisualTokenBeforeInput();if(e){const t=e.querySelector(".value"),n=e.querySelector(".operator");if(t){const t=e.querySelector(".selectable"),n=e.querySelector(".value-container");t.removeChild(n),e.innerHTML=t.innerHTML}else n?e.removeChild(n):e.closest(".tokens-container").removeChild(e)}}static tokenizeInput(){const e=h.a.container.querySelector(".filtered-search"),{isLastVisualTokenValid:t}=I.getLastVisualTokenBeforeInput();e.value&&(t?I.addSearchVisualToken(e.value):I.addValueToPreviousVisualTokenElement(e.value),e.value="")}static getEndpointWithQueryParams(e,t){if(!t)return e;return`${e}?${Object(u.A)(JSON.parse(t))}`}static editToken(e){const t=h.a.container.querySelector(".filtered-search");I.tokenizeInput();const n=e.parentElement,r=t.parentElement;n.replaceChild(r,e);const i=e.querySelector(".name"),s=e.querySelector(".operator");let o;if(e.classList.contains("filtered-search-token")){I.addFilterVisualToken(i.textContent,s.textContent,null,{uppercaseTokenName:i.classList.contains("text-uppercase")});const t=e.querySelector(".value-container");if(!(o=t.dataset.originalValue)){o=t.querySelector(".value").textContent}}o||(o=i.textContent),t.value=o;const a=new Event("input");t.dispatchEvent(a),t.focus()}static moveInputToTheRight(){const e=h.a.container.querySelector(".filtered-search");if(!e)return;const t=e.parentElement,n=h.a.container.querySelector(".tokens-container");if(I.tokenizeInput(),!n.lastElementChild.isEqualNode(t)){const{isLastVisualTokenValid:e}=I.getLastVisualTokenBeforeInput();if(!e){const e=I.getLastTokenPartial();I.removeLastTokenPartial(),I.addSearchVisualToken(e)}n.removeChild(t),n.appendChild(t)}}}E=["=","!="],(T="permissibleOperatorValues")in(b=I)?Object.defineProperty(b,T,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[T]=E;const j="data-dropdown-trigger";class A{constructor(e){let{droplab:t,dropdown:n,input:r,filter:i}=e;this.droplab=t,this.hookId=r&&r.id,this.input=r,this.filter=i,this.dropdown=n,this.loadingTemplate='<div class="filter-dropdown-loading">\n      <span class="spinner"></span>\n    </div>',this.bindEvents()}bindEvents(){this.itemClickedWrapper=this.itemClicked.bind(this),this.dropdown.addEventListener("click.dl",this.itemClickedWrapper)}unbindEvents(){this.dropdown.removeEventListener("click.dl",this.itemClickedWrapper)}getCurrentHook(){var e=this;return this.droplab.hooks.filter((function(t){return t.id===e.hookId}))[0]||null}itemClicked(e,t){const{selected:n}=e.detail;if("LI"===n.tagName&&n.innerHTML){const{lastVisualToken:e}=I.getLastVisualTokenBeforeInput(),{tokenOperator:r}=z.getVisualTokenValues(e);if(!z.setDataValueIfSelected(this.filter,r,n)){const e=t(n);U.addWordToInput({tokenName:this.filter,tokenOperator:r,tokenValue:e,clicked:!0})}this.resetFilters(),this.dismissDropdown(),this.dispatchInputEvent()}}setAsDropdown(){this.input.setAttribute(j,`#${this.dropdown.id}`)}setOffset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.innerWidth>480?this.dropdown.style.left=`${e}px`:this.dropdown.style.left="0px"}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCurrentHook();A.hideDropdownItemsforNotOperator(t),e&&t&&t.list.hidden&&t.list.show()}render(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setAsDropdown();const r=this.getCurrentHook();null===r||e?this.renderContent(t,n):r.list.list.id!==this.dropdown.id&&this.renderContent(t,n)}dismissDropdown(){this.input.focus()}dispatchInputEvent(){this.input.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}dispatchFormSubmitEvent(){this.input.form.dispatchEvent(new Event("submit"))}hideDropdown(){const e=this.getCurrentHook();e&&e.list.hide()}resetFilters(){const e=this.getCurrentHook();if(e){const t=e.list.data||[];if(!t)return;const n=t.map((function(e){const t=e;return t.droplab_hidden=!1,t}));e.list.render(n)}}static hideDropdownItemsforNotOperator(e){if("!="===I.getLastTokenOperator()){const{list:t}=e.list;let n=!0;if(Array.from(t.querySelectorAll("li[data-value]")).forEach((function(e){const{dataset:{value:t}}=e;t.toLowerCase()===m.c.none||t.toLowerCase()===m.c.any?e.classList.add("hidden"):n=!1})),n){const e=t.querySelector("li.divider");e&&e.classList.add("hidden")}}}}var K=n("73KY");class O{static processTokens(e,t){const n=new RegExp(`(${t.join("|")}):(=|!=)?([~%@&]?)(?:('[^']*'{0,1})|("[^"]*"{0,1})|(\\S+))`,"g"),r=[],i=[];let s=null;const o=e.replace(n,(function(e,t,n,s,o,a,l){let c=o||a||l,d=s,u="",h=n;return["~","%","@","&"].includes(c)&&(d=c,c=""),["!=","="].includes(c)&&(h=c,c=""),u=`${t}:${c}`,-1===i.indexOf(u)&&(i.push(u),r.push({key:t,value:c||"",symbol:d||"",operator:h||""})),""})).replace(/\s{2,}/g," ").trim()||"";if(r.length>0){const t=r[r.length-1],n=`${t.key}:${t.operator}${t.symbol}${t.value}`;s=e.lastIndexOf(n)===e.length-n.length?t:o}else s=o;return{tokens:r,lastToken:s,searchToken:o}}}class V extends A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{tokenKeys:t,endpoint:n,symbol:r}=e;super(e),this.tokenKeys=t,this.endpoint=n,this.symbol=r,this.config={AjaxFilter:this.ajaxFilterConfig()}}ajaxFilterConfig(){return{endpoint:this.endpoint,searchKey:"search",searchValueFunction:this.getSearchInput.bind(this),loadingTemplate:this.loadingTemplate,onError(){Object(a.f)({message:Object(c.a)("An error occurred fetching the dropdown data.")})}}}itemClicked(e){super.itemClicked(e,(function(e){const t=e.querySelector(".dropdown-light-content").innerText.trim();return z.getEscapedText(t)}))}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[g],this.config),super.renderContent(e)}getSearchInput(){const e=z.getSearchInput(this.input),{lastToken:t}=O.processTokens(e,this.tokenKeys.getKeys());let n=t||"";return n[0]===this.symbol&&(n=n.slice(1)),'"'!==n[0]&&"'"!==n[0]||(n=n.slice(1)),n}init(){this.droplab.addHook(this.input,this.dropdown,[g],this.config).init()}}var q={_loadData:function(e,t,n){if(t.loadingTemplate){var r=n.hook.list.list.querySelector("[data-loading-template]");r&&(r.outerHTML=n.listTemplate)}n.destroyed||n.hook.list[t.method].call(n.hook.list,e)},preprocessing:function(e,t){let n=t;return e.preprocessing&&!t.preprocessed&&(n=e.preprocessing(t),f.a.override(e.endpoint,n)),n},init:function(e){var t=this;t.destroyed=!1;var n=e.config.Ajax;if(this.hook=e,n&&n.endpoint&&n.method&&("setData"===n.method||"addData"===n.method)){if(n.loadingTemplate){var r=e.list.list.querySelector("[data-dynamic]"),i=document.createElement("div");i.innerHTML=n.loadingTemplate,i.setAttribute("data-loading-template",""),this.listTemplate=r.outerHTML,r.outerHTML=i.outerHTML}return f.a.retrieve(n.endpoint).then(t.preprocessing.bind(null,n)).then((function(e){return t._loadData(e,n,t)})).catch(n.onError)}},destroy:function(){this.destroyed=!0}};var x={keydown:function(e){if(!this.destroyed){var t,n=e.detail.hook.list,r=n.data,i=e.detail.hook.trigger.value.toLowerCase(),s=e.detail.hook.config.Filter,o=[];r&&(t=s&&s.filterFunction&&"function"==typeof s.filterFunction?s.filterFunction:function(e){return e.droplab_hidden=-1===e[s.template].toLowerCase().indexOf(i),e},r.filter((function(e){return!e.droplab_hidden})).length!==(o=r.map((function(e){return t(e,i)}))).filter((function(e){return!e.droplab_hidden})).length&&(n.setData(o),n.currentIndex=0))}},debounceKeydown:function(e){[13,16,17,18,20,37,38,39,40,91,92,93].indexOf(e.detail.which||e.detail.keyCode)>-1||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.keydown.bind(this,e),200))},init:function(e){var t=e.config.Filter;t&&t.template&&(this.hook=e,this.destroyed=!1,this.eventWrapper={},this.eventWrapper.debounceKeydown=this.debounceKeydown.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.addEventListener("mousedown.dl",this.eventWrapper.debounceKeydown))},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.removeEventListener("mousedown.dl",this.eventWrapper.debounceKeydown)}};class D extends A{constructor(){var e;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),e=this,this.config={Ajax:{endpoint:`${gon.relative_url_root||""}/-/autocomplete/award_emojis`,method:"setData",loadingTemplate:this.loadingTemplate,onError(){Object(a.f)({message:Object(c.a)("An error occurred fetching the dropdown data.")})}},Filter:{template:"name"}},Promise.resolve().then(n.bind(null,"8GQU")).then((function(t){let{glEmojiTag:n}=t;e.glEmojiTag=n})).catch((function(){})),this.unbindEvents(),this.bindEvents()}bindEvents(){super.bindEvents(),this.listRenderedWrapper=this.listRendered.bind(this),this.dropdown.addEventListener("render.dl",this.listRenderedWrapper)}unbindEvents(){this.dropdown.removeEventListener("render.dl",this.listRenderedWrapper),super.unbindEvents()}listRendered(){this.replaceEmojiElement()}itemClicked(e){super.itemClicked(e,(function(e){const t=e.querySelector(".js-data-value").innerText.trim();return z.getEscapedText(t)}))}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[q,x],this.config),super.renderContent(e)}replaceEmojiElement(){var e=this;if(!this.glEmojiTag)return;[...this.dropdown.querySelectorAll(".filter-dropdown-item")].forEach((function(t){const n=t.querySelector(".js-data-value");if(null!==n){const r=n.innerText,i=e.glEmojiTag(r);t.querySelector("gl-emoji").outerHTML=i}}))}init(){this.droplab.addHook(this.input,this.dropdown,[q,x],this.config).init()}}class W extends A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{input:t,tokenKeys:n}=e;super(e),this.config={Filter:{template:"hint",filterFunction:z.filterHint.bind(null,{input:t,allowedKeys:n.getKeys()})}},this.tokenKeys=n}itemClicked(e){const{selected:t}=e.detail;if("LI"===t.tagName)if(t.hasAttribute("data-value"))this.dismissDropdown();else if("submit"===t.getAttribute("data-action"))this.dismissDropdown(),this.dispatchFormSubmitEvent();else{const e=t.closest(".filter-dropdown-item"),{hint:n,tag:r}=e.dataset;if(r.length){const e=this.input.value.split(" "),t=[];e.forEach((function(r,i){t.push(r),i===e.length-1&&-1!==n.indexOf(r.toLowerCase())&&t.pop()})),t.length>0&&I.addSearchVisualToken(t.join(" "));const r=n.replace(":",""),{uppercaseTokenName:i}=this.tokenKeys.searchByKey(r);U.addWordToInput({tokenName:r,clicked:!1,options:{uppercaseTokenName:i}})}this.dismissDropdown(),this.dispatchInputEvent()}}renderContent(){const e=[{hint:"search",tag:"search",formattedKey:Object(c.a)("Search for this text"),icon:`${gon.sprite_icons}#search`}],t=this.tokenKeys.get().map((function(e){return{icon:`${gon.sprite_icons}#${e.icon}`,hint:e.key,tag:`:${e.tag}`,type:e.type,formattedKey:e.formattedKey}})).concat(e);this.droplab.changeHookList(this.hookId,this.dropdown,[x],this.config),this.droplab.setData(this.hookId,t),super.renderContent()}init(){this.droplab.addHook(this.input,this.dropdown,[x],this.config).init()}}class _ extends A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{input:t,endpoint:n,symbol:r,preprocessing:i}=e;super(e),this.symbol=r,this.config={Ajax:{endpoint:n,method:"setData",loadingTemplate:this.loadingTemplate,preprocessing:i,onError(){Object(a.f)({message:Object(c.a)("An error occurred fetching the dropdown data.")})}},Filter:{filterFunction:z.filterWithSymbol.bind(null,this.symbol,t),template:"title"}}}itemClicked(e){var t=this;super.itemClicked(e,(function(e){const n=e.querySelector(".js-data-value").innerText.trim();return`${t.symbol}${z.getEscapedText(n)}`}))}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[q,x],this.config),super.renderContent(e)}init(){this.droplab.addHook(this.input,this.dropdown,[q,x],this.config).init()}}class N extends A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{input:t,tokenKeys:n}=e;super(e),this.config={Filter:{filterFunction:z.filterWithSymbol.bind(null,"",t),template:"title"}},this.tokenKeys=n}itemClicked(e){const{selected:t}=e.detail;if("LI"===t.tagName&&t.hasAttribute("data-value")){const e=I.getLastTokenPartial(),n=t.dataset.value;I.removeLastTokenPartial(),U.addWordToInput({tokenName:e,tokenOperator:n,clicked:!1})}this.dismissDropdown(),this.dispatchInputEvent()}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=[{tag:"equal",type:"string",title:"=",help:Object(c.a)("is")}],r=this.tokenKeys.searchByKey(t.toLowerCase());null!=r&&r.hideNotEqual||n.push({tag:"not-equal",type:"string",title:"!=",help:Object(c.a)("is not")}),this.droplab.changeHookList(this.hookId,this.dropdown,[x],this.config),this.droplab.setData(this.hookId,n),super.renderContent(e)}init(){this.droplab.addHook(this.input,this.dropdown,[x],this.config).init()}}class $ extends V{constructor(){super({...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},endpoint:`${gon.relative_url_root||""}/-/autocomplete/users.json`,symbol:"@"})}ajaxFilterConfig(){var e=this;return{...super.ajaxFilterConfig(),params:{active:!0,group_id:this.getGroupId(),project_id:this.getProjectId(),current_user:!0,...this.projectOrGroupId()},onLoadingFinished:function(){e.hideCurrentUser()}}}hideCurrentUser(){Object(d.a)(this.dropdown.querySelector(".js-current-user"),"hidden")}getGroupId(){return this.input.getAttribute("data-group-id")}getProjectId(){return this.input.getAttribute("data-project-id")}projectOrGroupId(){const e=this.getProjectId(),t=this.getGroupId();return t?{group_id:t}:{project_id:e}}}class F extends A{renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[],this.config),super.renderContent(e)}}class R{constructor(e){let{container:t,runnerTagsEndpoint:n,labelsEndpoint:r,milestonesEndpoint:i,releasesEndpoint:s,environmentsEndpoint:o,groupsOnly:a,includeAncestorGroups:l,includeDescendantGroups:c}=e;this.container=t,this.runnerTagsEndpoint=n,this.labelsEndpoint=r,this.milestonesEndpoint=i,this.releasesEndpoint=s,this.environmentsEndpoint=o,this.groupsOnly=a,this.includeAncestorGroups=l,this.includeDescendantGroups=c,this.filteredSearchInput=this.container.querySelector(".filtered-search")}getAllowedMappings(e){return this.buildMappings(e,this.getMappings())}buildMappings(e,t){const n={hint:{reference:null,gl:W,element:this.container.querySelector("#js-dropdown-hint")},operator:{reference:null,gl:N,element:this.container.querySelector("#js-dropdown-operator")}};return e.forEach((function(e){t[e]&&(n[e]=t[e])})),n}getMappings(){return{author:{reference:null,gl:$,element:this.container.querySelector("#js-dropdown-author")},assignee:{reference:null,gl:$,element:this.container.querySelector("#js-dropdown-assignee")},reviewer:{reference:null,gl:$,element:this.container.querySelector("#js-dropdown-reviewer")},attention:{reference:null,gl:$,element:this.container.getElementById("js-dropdown-attention-requested")},"approved-by":{reference:null,gl:$,element:this.container.querySelector("#js-dropdown-approved-by")},milestone:{reference:null,gl:_,extraArguments:{endpoint:this.getMilestoneEndpoint(),symbol:"%",preprocessing:function(e){return e.sort(p.a)}},element:this.container.querySelector("#js-dropdown-milestone")},release:{reference:null,gl:_,extraArguments:{endpoint:this.getReleasesEndpoint(),symbol:"",preprocessing:function(e){return e.map((function(e){return{...e,title:e.tag}}))}},element:this.container.querySelector("#js-dropdown-release")},label:{reference:null,gl:_,extraArguments:{endpoint:this.getLabelsEndpoint(),symbol:"~",preprocessing:z.duplicateLabelPreprocessing},element:this.container.querySelector("#js-dropdown-label")},"my-reaction":{reference:null,gl:D,element:this.container.querySelector("#js-dropdown-my-reaction")},draft:{reference:null,gl:_,element:this.container.querySelector("#js-dropdown-wip")},confidential:{reference:null,gl:_,element:this.container.querySelector("#js-dropdown-confidential")},status:{reference:null,gl:F,element:this.container.querySelector("#js-dropdown-admin-runner-status")},type:{reference:null,gl:F,element:this.container.querySelector("#js-dropdown-admin-runner-type")},tag:{reference:null,gl:V,extraArguments:{endpoint:this.getRunnerTagsEndpoint(),symbol:"~"},element:this.container.querySelector("#js-dropdown-runner-tag")},"target-branch":{reference:null,gl:_,extraArguments:{endpoint:this.getMergeRequestTargetBranchesEndpoint(),symbol:""},element:this.container.querySelector("#js-dropdown-target-branch")},environment:{reference:null,gl:_,extraArguments:{endpoint:this.getEnvironmentsEndpoint(),symbol:"",preprocessing:function(e){return e.map((function(e){return{title:e}}))}},element:this.container.querySelector("#js-dropdown-environment")}}}getMilestoneEndpoint(){return`${this.milestonesEndpoint}.json`}getReleasesEndpoint(){return`${this.releasesEndpoint}.json`}getLabelsEndpoint(){let e=`${this.labelsEndpoint}.json?`;return this.groupsOnly&&(e=`${e}only_group_labels=true&`),this.includeAncestorGroups&&(e=`${e}include_ancestor_groups=true&`),this.includeDescendantGroups&&(e=`${e}include_descendant_groups=true`),e}getRunnerTagsEndpoint(){return`${this.runnerTagsEndpoint}.json`}getMergeRequestTargetBranchesEndpoint(){const e=`${gon.relative_url_root||""}/-/autocomplete/merge_request_target_branches.json`,t={group_id:this.getGroupId(),project_id:this.getProjectId()};return Object(u.z)(t,e)}getEnvironmentsEndpoint(){return`${this.environmentsEndpoint}.json`}getGroupId(){return this.filteredSearchInput.getAttribute("data-group-id")||""}getProjectId(){return this.filteredSearchInput.getAttribute("data-project-id")||""}}var M={keydown(e){if(this.destroyed)return;const{list:t}=e.detail.hook,{value:n}=e.detail.hook.trigger,r=Number(n),i=e.detail.hook.config.CustomNumber,{defaultOptions:s}=i,o=!Number.isNaN(r)&&""!==n,a=[{id:r,title:r}],l=s.map((function(e){return{id:e,title:e}}));t.setData(o?a:l),t.currentIndex=0},debounceKeydown(e){[13,16,17,18,20,37,38,39,40,91,92,93].indexOf(e.detail.which||e.detail.keyCode)>-1||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.keydown.bind(this,e),200))},init(e){this.hook=e,this.destroyed=!1,this.eventWrapper={},this.eventWrapper.debounceKeydown=this.debounceKeydown.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.addEventListener("mousedown.dl",this.eventWrapper.debounceKeydown)},destroy(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.removeEventListener("mousedown.dl",this.eventWrapper.debounceKeydown)}};class P extends A{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.defaultOptions=Array.from(Array(21).keys()),this.config={CustomNumber:{defaultOptions:this.defaultOptions}}}itemClicked(e){super.itemClicked(e,(function(e){const t=e.querySelector(".js-data-value").innerText.trim();return`${z.getEscapedText(t)}`}))}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[M],this.config);const t=this.defaultOptions.map((function(e){return{id:e,title:e}}));this.droplab.setData(t),super.renderContent(e)}init(){this.droplab.addHook(this.input,this.dropdown,[M],this.config).init()}}class B{constructor(e){let{container:t,runnerTagsEndpoint:n,labelsEndpoint:r,milestonesEndpoint:i,iterationsEndpoint:s,epicsEndpoint:o,releasesEndpoint:a,environmentsEndpoint:l,groupsOnly:c,includeAncestorGroups:d,includeDescendantGroups:u}=e;this.container=t,this.runnerTagsEndpoint=n,this.labelsEndpoint=r,this.milestonesEndpoint=i,this.iterationsEndpoint=s,this.epicsEndpoint=o,this.releasesEndpoint=a,this.environmentsEndpoint=l,this.groupsOnly=c,this.includeAncestorGroups=d,this.includeDescendantGroups=u,this.ceAvailableMappings=new R({...this})}getAllowedMappings(e){const t=this.ceAvailableMappings.getMappings();return t.milestone={reference:null,gl:_,extraArguments:{endpoint:this.getMilestoneEndpoint(),symbol:"%",preprocessing:function(e){return e.sort(p.a)}},element:this.container.querySelector("#js-dropdown-milestone")},t.approver={reference:null,gl:$,element:this.container.querySelector("#js-dropdown-approver")},t.weight={reference:null,gl:P,element:this.container.querySelector("#js-dropdown-weight")},t.epic={reference:null,gl:_,extraArguments:{endpoint:this.getEpicEndpoint(),symbol:"&"},element:this.container.querySelector("#js-dropdown-epic")},t.iteration={reference:null,gl:V,extraArguments:{endpoint:this.iterationsEndpoint,symbol:""},element:this.container.querySelector("#js-dropdown-iteration")},this.ceAvailableMappings.buildMappings(e,t)}getMilestoneEndpoint(){let e=`${this.milestonesEndpoint}.json`;return this.groupsOnly&&(e=`${e}?only_group_milestones=true`),e}getEpicEndpoint(){return`${this.epicsEndpoint}.json`}}var H=n("CoxT");class U{constructor(e){let{runnerTagsEndpoint:t="",labelsEndpoint:n="",milestonesEndpoint:r="",iterationsEndpoint:i="",releasesEndpoint:s="",environmentsEndpoint:o="",epicsEndpoint:a="",tokenizer:l,page:c,isGroup:d,isGroupAncestor:u,isGroupDecendent:p,filteredSearchTokenKeys:f}=e;const g=function(e){return e.replace(/\/$/,"")};this.container=h.a.container,this.runnerTagsEndpoint=g(t),this.labelsEndpoint=g(n),this.milestonesEndpoint=g(r),this.iterationsEndpoint=g(i),this.releasesEndpoint=g(s),this.epicsEndpoint=g(a),this.environmentsEndpoint=g(o),this.tokenizer=l,this.filteredSearchTokenKeys=f||K.a,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.page=c,this.groupsOnly=d,this.includeAncestorGroups=u,this.includeDescendantGroups=p,this.setupMapping(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}cleanup(){this.droplab&&(this.droplab.destroy(),this.droplab=null),this.setupMapping(),document.removeEventListener("beforeunload",this.cleanupWrapper)}setupMapping(){const e=this.filteredSearchTokenKeys.getKeys(),t=new B({...this});this.mapping=t.getAllowedMappings(e)}static addWordToInput(e){let{tokenName:t,tokenOperator:n="",tokenValue:r="",clicked:i=!1,options:s={}}=e;const{uppercaseTokenName:o=!1,capitalizeTokenValue:a=!1}=s,l=h.a.container.querySelector(".filtered-search");I.addFilterVisualToken(t,n,r,{uppercaseTokenName:o,capitalizeTokenValue:a}),l.value="",i&&I.moveInputToTheRight()}updateCurrentDropdownOffset(){this.updateDropdownOffset(this.currentDropdown)}updateDropdownOffset(e){let t=this.filteredSearchInput.getBoundingClientRect().left-this.container.querySelector(".scroll-container").getBoundingClientRect().left;const n=this.mapping[e].element.clientWidth||240,r=this.container.querySelector(".scroll-container").clientWidth-n;r<t&&(t=r),this.mapping[e].reference.setOffset(t)}load(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=this.mapping[e],i=r.gl,{element:s}=r;let o=!1;if(!r.reference){const t={...{droplab:this.droplab,dropdown:s,input:this.filteredSearchInput,tokenKeys:this.filteredSearchTokenKeys,filter:e},...r.extraArguments||{}};r.reference=new(Function.prototype.bind.apply(i,[null,t]))}t&&r.reference.init(),this.currentDropdown!==m.a.hint&&this.currentDropdown!==m.a.operator||(o=!0),this.updateDropdownOffset(e),r.reference.render(t,o,n),this.currentDropdown=e}loadDropdown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!1;if(this.droplab||(n=!0,this.droplab=new H.a),e===m.a.operator)return void this.load(e,n,t);const r=this.filteredSearchTokenKeys.searchByKey(e.toLowerCase()),i=r&&this.currentDropdown!==r.key&&this.mapping[r.key],s=!r&&this.currentDropdown!==m.a.hint;if(i||s){const e=r&&r.key?r.key:m.a.hint;this.load(e,n,t)}}setDropdown(){const e=z.getSearchQuery(!0),{lastToken:t,searchToken:n}=this.tokenizer.processTokens(e,this.filteredSearchTokenKeys.getKeys());if(this.currentDropdown&&this.updateCurrentDropdownOffset(),t===n&&null!==t){const e=t.split(":"),n=i()(e[0].split(" ")),r=i()(e[1]),s=I.permissibleOperatorValues.includes(r&&r.trim());let o="";if(e.length>1){const e=I.getLastTokenOperator();o=s&&e?n:m.a.operator}this.loadDropdown(o,n)}else if(t){const e=I.getLastTokenOperator();this.loadDropdown(e?t.key:m.a.operator,t.key)}else this.loadDropdown(m.a.hint)}resetDropdowns(){this.currentDropdown&&(this.mapping[this.currentDropdown].reference.hideDropdown(),this.setDropdown(),this.mapping[this.currentDropdown].reference.resetFilters(),this.updateDropdownOffset(this.currentDropdown))}destroyDroplab(){this.droplab.destroy()}}class z{static getEscapedText(e){let t=e;const n=-1!==e.indexOf(" "),r=-1!==e.indexOf('"');return n&&(t=r?`'${e}'`:`"${e}"`),t}static filterWithSymbol(e,t,n){const r=n,i=z.getSearchInput(t),s=r.title.toLowerCase();let o=i.toLowerCase(),a="";o[0]===e&&([a]=o,o=o.slice(1)),'"'!==o[0]&&"'"!==o[0]||-1===s.indexOf(" ")||(o=o.slice(1));const l=a===e&&-1!==s.indexOf(o),c=-1!==s.indexOf(`${a}${o}`);return r.droplab_hidden=!c&&!l,r}static filterHint(e,t){const{input:n,allowedKeys:r}=e,s=t,o=z.getSearchQuery(n),{lastToken:a,tokens:l}=O.processTokens(o,r),c=a.key||a||"",d="array"===t.type,u=l.some((function(e){return e.key===t.hint})),h="search"===s.hint;if(h&&(s.droplab_hidden=!0),!d&&u)s.droplab_hidden=!0;else if(h||c&&" "!==i()(o.split(""))){if(c){const e=c.split(":"),t=i()(e[0].split(" ")),n=h?r.some((function(e){return e.startsWith(t.toLowerCase())})):-1===s.hint.indexOf(t.toLowerCase());s.droplab_hidden=!!t&&n}}else s.droplab_hidden=!1;return s}static setDataValueIfSelected(e,t,n){const r=n.getAttribute("data-value");return r&&U.addWordToInput({tokenName:e,tokenOperator:t,tokenValue:r,clicked:!0,options:{capitalizeTokenValue:n.hasAttribute("data-capitalize")}}),null!==r}static getVisualTokenValues(e){const t=e&&e.querySelector(".name").textContent.trim();let n=e&&e.querySelector(".value")&&e.querySelector(".value").textContent.trim();"label"===t&&n&&(n=n.replace(/^~("|')?(.*)/,"$2").replace(/("|')$/,""));const r=e&&e.querySelector(".operator");return{tokenName:t,tokenOperator:r&&r.textContent.trim(),tokenValue:n}}static getSearchQuery(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{container:t}=h.a,n=[].slice.call(t.querySelectorAll(".tokens-container li")),r=[];if(e){const e=n.findIndex((function(e){return e.classList.contains("input-token")}));n.splice(e+1)}return n.forEach((function(e){if(e.classList.contains("js-visual-token")){const t=e.querySelector(".name"),n=e.querySelector(".operator"),i=e.querySelector(".value"),s=e.querySelector(".value-container"),o=i&&i.dataset.symbol?i.dataset.symbol:"";let a="",l="";n&&(l=n.textContent.trim()),s&&s.dataset.originalValue?a=s.dataset.originalValue:i&&i.innerText&&(a=i.innerText),-1!==e.className.indexOf("filtered-search-token")?r.push(`${t.innerText.toLowerCase()}:${l}${o}${a}`):r.push(t.innerText)}else if(e.classList.contains("input-token")){const{isLastVisualTokenValid:e}=I.getLastVisualTokenBeforeInput(),t=h.a.container.querySelector(".filtered-search"),n=t&&t.value;if(e)r.push(n);else{const e=r.pop();r.push(`${e}${n}`)}}})),r.map((function(e){return e.trim()})).join(" ")}static getSearchInput(e){const t=e.value,{right:n}=z.getInputSelectionPosition(e);return t.slice(0,n)}static getInputSelectionPosition(e){const{selectionStart:t}=e;let n=e.value,r=(n=n.replace(/(('[^']*'{0,1})|("[^"]*"{0,1})|:\s+)/g,(function(e){return e.replace(/\s/g,"_")}))).slice(t).search(/\s/);r>=0?r+=t:r<0&&(r=n.length);let i=n.slice(0,r).search(/\S+$/);return 0===t?i=0:t===n.length&&i<0?i=n.length:i<0&&(i=t),{left:i,right:r}}}var G=n("SYh6"),Y=Object(G.a)(),Q=n("q+nE"),X={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{compatibleItems(){return this.items.filter((function(e){return"string"==typeof e}))},processedItems(){var e=this;return this.compatibleItems.map((function(t){const{tokens:n,searchToken:r}=O.processTokens(t,e.allowedKeys);return{text:t,tokens:n.map((function(e){return{prefix:`${e.key}:`,operator:e.operator,suffix:`${e.symbol}${e.value}`}})),searchToken:r}}))},hasItems(){return this.compatibleItems.length>0}},methods:{onItemActivated(e){Y.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches(e){e.stopPropagation(),Y.$emit("requestClearRecentSearches")}}},J=n("bPvS"),Z=Object(J.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLocalStorageAvailable?e.hasItems?n("ul",[e._l(e.processedItems,(function(t,r){return n("li",{key:"processed-items-"+r,ref:"dropdownItem",refInFor:!0},[n("button",{staticClass:"filtered-search-history-dropdown-item js-dropdown-button",attrs:{type:"button"},on:{click:function(n){return e.onItemActivated(t.text)}}},[n("span",e._l(t.tokens,(function(t,r){return n("span",{key:"dropdown-token-"+r,staticClass:"filtered-search-history-dropdown-token js-dropdown-token"},[n("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),n("span",{staticClass:"name"},[e._v(e._s(t.operator))]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])})),0),e._v(" "),n("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v(e._s(t.searchToken))])])])})),e._v(" "),n("li",{staticClass:"divider"}),e._v(" "),n("li",[n("button",{ref:"clearButton",staticClass:"filtered-search-history-clear-button",attrs:{type:"button"},on:{click:function(t){return e.onRequestClearRecentSearches(t)}}},[e._v("\n        "+e._s(e.__("Clear recent searches"))+"\n      ")])])],2):n("div",{ref:"dropdownNote",staticClass:"dropdown-info-note"},[e._v("\n    "+e._s(e.__("You don't have any recent searches"))+"\n  ")]):n("div",{ref:"localStorageNote",staticClass:"dropdown-info-note"},[e._v("\n    "+e._s(e.__("This feature requires local storage to be enabled"))+"\n  ")])])}),[],!1,null,null,null).exports;var ee=class{constructor(e,t,n){this.store=e,this.service=t,this.wrapperElement=n}init(){this.bindEvents(),this.render()}bindEvents(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),Y.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}unbindEvents(){Y.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}render(){const{state:e}=this.store;this.vm=new Q.default({el:this.wrapperElement,data:()=>e,render(e){return e(Z,{props:{items:this.recentSearches,isLocalStorageAvailable:this.isLocalStorageAvailable,allowedKeys:this.allowedKeys}})}})}onRequestClearRecentSearches(){const e=this.store.setRecentSearches([]);this.service.save(e)}destroy(){this.unbindEvents(),this.vm&&this.vm.$destroy()}},te=n("M50o"),ne=n("fefF");class re{constructor(e){let{page:t,isGroup:n=!1,isGroupAncestor:r=!0,isGroupDecendent:i=!1,useDefaultState:a=!1,filteredSearchTokenKeys:l=o.c,stateFiltersSelector:d=".issues-state-filters",placeholder:u=Object(c.a)("Search or filter results..."),anchor:p=null}=e;this.isGroup=n,this.isGroupAncestor=r,this.isGroupDecendent=i,this.useDefaultState=a,this.states=["opened","closed","merged","all"],this.page=t,this.container=h.a.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=l,this.stateFiltersSelector=d,this.placeholder=u,this.anchor=p;const{multipleAssignees:f,epicsEndpoint:g,iterationsEndpoint:m}=this.filteredSearchInput.dataset;f&&this.filteredSearchTokenKeys.enableMultipleAssignees&&this.filteredSearchTokenKeys.enableMultipleAssignees(),!g&&this.filteredSearchTokenKeys.removeEpicToken&&this.filteredSearchTokenKeys.removeEpicToken(),!m&&this.filteredSearchTokenKeys.removeIterationToken&&this.filteredSearchTokenKeys.removeIterationToken(),this.recentSearchesStore=new ne.a({isLocalStorageAvailable:te.a.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");const v=`${this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project"}-${s.a[this.page]}`;this.recentSearchesService=new te.a(v)}setup(){var e=this;if(this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch((function(e){if("RecentSearchesServiceError"!==e.name)return Object(a.f)({message:Object(c.a)("An error occurred while parsing recent searches")}),[]})).then((function(t){if(!t)return;const n=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(n)})),this.filteredSearchInput){this.tokenizer=O;const{runnerTagsEndpoint:e="",labelsEndpoint:t="",milestonesEndpoint:n="",releasesEndpoint:r="",environmentsEndpoint:i="",epicsEndpoint:s="",iterationsEndpoint:o=""}=this.filteredSearchInput.dataset;this.dropdownManager=new U({runnerTagsEndpoint:e,labelsEndpoint:t,milestonesEndpoint:n,releasesEndpoint:r,environmentsEndpoint:i,epicsEndpoint:s,iterationsEndpoint:o,tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new ee(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}}cleanup(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}bindStateEvents(){var e=this;this.stateFilters=document.querySelector(`.container-fluid ${this.stateFiltersSelector}`),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters((function(t){t.addEventListener("click",e.searchStateWrapper)})))}unbindStateEvents(){var e=this;this.stateFilters&&this.applyToStateFilters((function(t){t.removeEventListener("click",e.searchStateWrapper)}))}applyToStateFilters(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach((function(n){t.states.indexOf(n.dataset.state)>-1&&e(n)}))}bindEvents(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.checkForMetaBackspaceWrapper=this.checkForMetaBackspace.bind(this),this.checkForAltOrCtrlBackspaceWrapper=this.checkForAltOrCtrlBackspace.bind(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForMetaBackspaceWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForAltOrCtrlBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),Y.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}unbindEvents(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForMetaBackspaceWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForAltOrCtrlBackspaceWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),Y.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}checkForBackspace(){var e=this;let t=0;return function(n){if(!(n.altKey||n.ctrlKey||n.metaKey))if(n.keyCode===l.a||n.keyCode===l.b){const{lastVisualToken:n}=I.getLastVisualTokenBeforeInput(),{tokenName:r,tokenValue:i}=z.getVisualTokenValues(n),s=r&&e.canEdit&&e.canEdit(r,i);""===e.filteredSearchInput.value&&n&&s&&2===(t+=1)&&(t=0,e.filteredSearchInput.value=I.getLastTokenPartial(!0),I.removeLastTokenPartial()),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}checkForAltOrCtrlBackspace(e){(e.altKey||e.ctrlKey)&&e.keyCode===l.a&&""===this.filteredSearchInput.value&&I.removeLastTokenPartial()}checkForMetaBackspace(e){e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&e.keyCode===l.a&&this.clearSearch()}checkForEnter(e){if(e.keyCode===l.g||e.keyCode===l.c){const{selectionStart:t}=this.filteredSearchInput;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(e.keyCode===l.d){const t=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),t.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}addInputContainerFocus(){Object(d.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}removeInputContainerFocus(e){const t=this.filteredSearchInput.closest(".filtered-search-box"),n=t&&t.contains(e.target),r=null!==e.target.closest(".filter-dropdown"),i=null!==e.target.closest("ul[data-dropdown]");n||r||i||!t||t.classList.remove("focus")}removeToken(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();const t=e.target.closest(".selectable");I.selectToken(t,!0),this.removeSelectedToken()}}unselectEditTokens(e){const t=this.container.querySelector(".filtered-search-box"),n=t&&t.contains(e.target),r=null!==e.target.closest(".filter-dropdown"),i=e.target.classList.contains("tokens-container");(!n&&!r||i)&&(I.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}editToken(e){const t=e.target.closest(".js-visual-token"),n=t&&t.querySelector(".name").textContent.trim(),r=this.canEdit&&this.canEdit(n);t&&r&&(e.preventDefault(),e.stopPropagation(),I.editToken(t),this.tokenChange())}toggleClearSearchButton(){const e=z.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}handleInputPlaceholder(){const e=z.getSearchQuery(),t=this.filteredSearchInput.placeholder;0===e.length&&t!==this.placeholder?this.filteredSearchInput.placeholder=this.placeholder:e.length>0&&""!==t&&(this.filteredSearchInput.placeholder="")}removeSelectedTokenKeydown(e){e.keyCode!==l.a&&e.keyCode!==l.b||this.removeSelectedToken()}removeSelectedToken(){I.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}onClearSearch(e){e.preventDefault(),this.clearSearch()}clearSearch(){var e=this;this.filteredSearchInput.value="";const t=[];[].forEach.call(this.tokensContainer.children,(function(n){let r=n.classList.contains("js-visual-token");if(r){const{tokenName:t,tokenValue:i}=z.getVisualTokenValues(n);r=e.canEdit&&e.canEdit(t,i)}r&&t.push(n)})),t.forEach((function(e){e.parentElement.removeChild(e)})),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}handleInputVisualToken(e){var t=this;if(e.keyCode===l.a)return;const n=this.filteredSearchInput,{tokens:r,searchToken:s}=this.tokenizer.processTokens(n.value,this.filteredSearchTokenKeys.getKeys()),{isLastVisualTokenValid:o}=I.getLastVisualTokenBeforeInput();if(o){r.forEach((function(e){n.value=n.value.replace(`${e.key}:${e.operator}${e.symbol}${e.value}`,""),I.addFilterVisualToken(e.key,e.operator,`${e.symbol}${e.value}`,{uppercaseTokenName:t.filteredSearchTokenKeys.shouldUppercaseTokenName(e.key),capitalizeTokenValue:t.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e.key)})}));const e=s.split(":");if(e.length>1){const t=e[0].split(" "),r=i()(t);if(t.length>1){t.pop();const e=t.join(" ");n.value=n.value.replace(e,""),I.addSearchVisualToken(e)}I.addFilterVisualToken(r,null,null,{uppercaseTokenName:this.filteredSearchTokenKeys.shouldUppercaseTokenName(r),capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(r)}),n.value=n.value.replace(`${r}:`,"")}}else if(o||I.getLastTokenOperator()){const e=/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g;if(s.match(e)&&" "===n.value[n.value.length-1]){const e=I.getLastTokenPartial();I.addFilterVisualToken(s,null,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e)}),n.value=n.value.replace(s,"").trim()}}else{const e=I.getLastTokenPartial(),t=s&&s.trim();I.permissibleOperatorValues.includes(t)&&(I.removeLastTokenPartial(),I.addFilterVisualToken(e,t,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e)}),n.value=n.value.replace(s,"").trim())}}handleFormSubmit(e){e.preventDefault(),this.search()}saveCurrentSearchQuery(){var e=this;this.fetchingRecentSearchesPromise.then((function(){const t=z.getSearchQuery();if(t.length>0){const n=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(n)}})).catch((function(){}))}getAllParams(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}transformParams(e){var t=this;const n=new RegExp(/not\[(\w+)\]\[?\]?=(.*)/);return e.map((function(e){const r=e.match(n);if(r&&3===r.length){const n=r[1];if(re.notTransformableQueryParams.includes(n)||t.filteredSearchTokenKeys.searchByConditionUrl(e))return e;const i=r[2];return`${n}=${encodeURIComponent("!=")}${i}`}const[i,s]=e.split("=");return re.notTransformableQueryParams.includes(i)||t.filteredSearchTokenKeys.searchByConditionUrl(e)?e:`${i}=${encodeURIComponent("=")}${s}`}))}loadSearchParamsFromURL(){var e=this;const t=Object(u.q)(),n=this.transformParams(t),r=this.getAllParams(n),i=this.getUsernameParams();let s=!1;r.forEach((function(t){const n=t.split("="),r=decodeURIComponent(n[0]),o=n[1],a=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(a){s=!0;const t=e.canEdit&&e.canEdit(a.tokenKey);I.addFilterVisualToken(a.tokenKey,a.operator,a.value,{canEdit:t})}else{const t=o?decodeURIComponent(o.replace(/\+/g," ")):o,n=e.filteredSearchTokenKeys.searchByKeyParam(r);if(n){const{key:r,symbol:i}=n;let o="";-1!==t.indexOf(" ")&&(o=-1===t.indexOf('"')?'"':"'"),s=!0;const a=e.canEdit&&e.canEdit(r,t),{uppercaseTokenName:l,capitalizeTokenValue:c}=n,d=I.getOperatorToken(t),u=I.getValueToken(t);I.addFilterVisualToken(r,d,`${i}${o}${u}${o}`,{canEdit:a,uppercaseTokenName:l,capitalizeTokenValue:c})}else if(n||"assignee_id"!==r)if(n||"author_id"!==r)n||"search"!==r||(s=!0,e.filteredSearchInput.value=t);else{const t=parseInt(o,10);if(i[t]){s=!0;const n="author",r=e.canEdit&&e.canEdit(n),o=I.getOperatorToken(i[t]),a=I.getValueToken(i[t]);I.addFilterVisualToken(n,o,`@${a}`,{canEdit:r})}}else{const t=parseInt(o,10);if(i[t]){s=!0;const n="assignee",r=e.canEdit&&e.canEdit(n),o=I.getOperatorToken(i[t]),a=I.getValueToken(i[t]);I.addFilterVisualToken(n,o,`@${a}`,{canEdit:r})}}}})),this.saveCurrentSearchQuery(),s&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}searchState(e){e.preventDefault();const t=e.currentTarget;t.blur();const n=t.dataset&&t.dataset.state;n&&this.search(n)}getSearchTokens(){const e=z.getSearchQuery();this.saveCurrentSearchQuery();const t=this.filteredSearchTokenKeys.getKeys();return this.tokenizer.processTokens(e,t)}search(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=[],{tokens:r,searchToken:i}=this.getSearchTokens();let s=t||Object(u.m)("state");if(!s&&this.useDefaultState&&(s="opened"),this.states.includes(s)&&n.push(`state=${s}`),r.forEach((function(t){const r=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.operator,t.value),i=e.filteredSearchTokenKeys.searchByKey(t.key)||{},{param:s}=i,o=t.key.replace("-","_"),a=s?`${o}_${s}`:o;let l="";if(r)l=r.replacementUrl||r.url;else{let e=t.value;if(i.lowercaseValueOnSubmit&&(e=e.toLowerCase()),("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.slice(1,e.length-1)),"!="===t.operator){const t=a.endsWith("[]");l=`not[${t?a.slice(0,-2):a}]${t?"[]":""}=${encodeURIComponent(e)}`}else l=`${a}=${encodeURIComponent(e)}`}n.push(l)})),i){const e=i.split(" ").map((function(e){return encodeURIComponent(e)})).join("+");n.push(`search=${e}`)}let o=`?scope=all&${n.join("&")}`;this.anchor&&(o+=`#${this.anchor}`),this.updateObject?this.updateObject(o):Object(u.N)(o)}getUsernameParams(){const e={};try{const t=this.filteredSearchInput.getAttribute("data-username-params");JSON.parse(t).forEach((function(t){e[t.id]=t.username}))}catch(e){}return e}tokenChange(){const e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){const t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}onrecentSearchesItemSelected(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}canEdit(){return!0}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(re,"notTransformableQueryParams",["scope","utf8","state","search"]);var ie=n("ctn0");t.a=class extends re{getSearchTokens(){const{tokens:e,...t}=super.getSearchTokens();return e.some((function(e){return(null==e?void 0:e.key)===ie.b.key&&"="===(null==e?void 0:e.operator)&&!Number.isNaN(Number(null==e?void 0:e.value))}))&&e.push({key:"include_subepics",operator:"=",value:"",symbol:""}),{tokens:e,...t}}}},JOPK:function(e,t,n){"use strict";t.a={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches",group_members:"group-members-recent-searches",group_invited_members:"group-invited-members-recent-searches",project_members:"project-members-recent-searches",project_group_links:"project-group-links-recent-searches",epics:"epics-recent-searches",requirements:"requirements-recent-searches",test_cases:"test-cases-recent-searches",jira_issues:"jira-issues-recent-searches"}},JbNT:function(e,t,n){"use strict";var r=n("2UYt"),i=n("NSg/"),s=n("sL7a"),o=n("TCnH"),a=n("53iN"),l=n("LYzT"),c=i([].join),d=[].push;r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=s(this),n=a(t),r=void 0===e?",":o(e),i=[];return l(n,d,{that:i,IS_ITERATOR:!0}),c(i,r)}})},LW8g:function(e,t,n){var r=n("qHIR"),i=1/0;e.exports=function(e){return(null==e?0:e.length)?r(e,i):[]}},M50o:function(e,t,n){"use strict";var r=n("xqp2"),i=n("t9l/");var s=class extends Error{constructor(e){super(e||Object(i.a)("Recent Searches Service is unavailable")),this.name="RecentSearchesServiceError"}};class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";this.localStorageKey=e}fetch(){if(!o.isAvailable()){const e=new s;return Promise.reject(e)}const e=window.localStorage.getItem(this.localStorageKey);let t=[];if(e&&e.length>0)try{t=JSON.parse(e)}catch(e){return Promise.reject(e)}return Promise.resolve(t)}save(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(e))}static isAvailable(){return r.a.canUseLocalStorage()}}t.a=o},SXnf:function(e,t,n){"use strict";n("2UYt")({target:"Set",proto:!0,real:!0,forced:!0},{addAll:n("C0e/")})},TTAZ:function(e,t,n){"use strict";var r=n("2UYt"),i=n("o0Q1"),s=n("Xl2X"),o=n("VJBC"),a=n("sL7a"),l=n("E71V"),c=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){var t=a(this),n=new(l(t,i("Set")))(t),r=o(n.delete);return c(e,(function(e){s(r,n,e)})),n}})},UZ9U:function(e,t){e.exports=function(){}},W2Di:function(e,t,n){"use strict";var r=n("2UYt"),i=n("sL7a"),s=n("nzuM"),o=n("53iN"),a=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),n=o(t),r=s(e,arguments.length>1?arguments[1]:void 0);return!a(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},Wfaq:function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},"Z+bI":function(e,t,n){"use strict";var r=n("2UYt"),i=n("o0Q1"),s=n("Xl2X"),o=n("VJBC"),a=n("sL7a"),l=n("E71V"),c=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){var t=a(this),n=new(l(t,i("Set")))(t),r=o(n.delete),d=o(n.add);return c(e,(function(e){s(r,n,e)||s(d,n,e)})),n}})},ZzVf:function(e,t,n){var r=n("8wXV");e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},bDpz:function(e,t,n){"use strict";var r=n("2UYt"),i=n("Xl2X"),s=n("VJBC"),o=n("sL7a"),a=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){var t=o(this),n=s(t.has);return!a(e,(function(e,r){if(!1===i(n,t,e))return r()}),{INTERRUPTED:!0}).stopped}})},ctn0:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("73KY"),i=n("59gv"),s=n("t9l/");const o={formattedKey:Object(s.a)("Weight"),key:"weight",type:"string",param:"",symbol:"",icon:"weight",tag:"number"},a={formattedKey:Object(s.a)("Epic"),key:"epic",type:"string",param:"id",symbol:"&",icon:"epic"},l={formattedKey:Object(s.a)("Iteration"),key:"iteration",type:"string",param:"title",symbol:"",icon:"iteration"},c=[{url:"weight=None",operator:"=",tokenKey:"weight",value:Object(s.a)("None")},{url:"weight=Any",operator:"=",tokenKey:"weight",value:Object(s.a)("Any")},{url:"not[weight]=None",operator:"!=",tokenKey:"weight",value:Object(s.a)("None")},{url:"not[weight]=Any",operator:"!=",tokenKey:"weight",value:Object(s.a)("Any")}],d=[{url:"epic_id=None",operator:"=",tokenKey:"epic",value:Object(s.a)("None")},{url:"epic_id=Any",operator:"=",tokenKey:"epic",value:Object(s.a)("Any")},{url:"not[epic_id]=None",operator:"!=",tokenKey:"epic",value:Object(s.a)("None")},{url:"not[epic_id]=Any",operator:"!=",tokenKey:"epic",value:Object(s.a)("Any")}],u=[{url:"iteration_id=None",operator:"=",tokenKey:"iteration",value:Object(s.a)("None")},{url:"iteration_id=Any",operator:"=",tokenKey:"iteration",value:Object(s.a)("Any")},{url:"iteration_id=Current",operator:"=",tokenKey:"iteration",value:Object(s.a)("Current")},{url:"not[iteration_id]=Current",operator:"!=",tokenKey:"iteration",value:Object(s.a)("Current")}];t.a=new class extends r.a{constructor(){const e=i.d.findIndex((function(e){return"milestone"===e.key}));i.d.splice(e+1,0,l),super([...i.d,a,o],i.a,[...i.b,...c,...d,...u])}enableMultipleAssignees(){const e=this.tokenKeys.find((function(e){return"assignee"===e.key}));this.tokenKeysWithAlternative.push({...e}),e.type="array",e.param="username[]"}removeEpicToken(){this.removeTokensForKeys(a.key)}removeIterationToken(){this.removeTokensForKeys(l.key)}}},f5Le:function(e,t,n){"use strict";n("2UYt")({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:n("y1UI")})},fDBp:function(e,t,n){"use strict";var r=n("2UYt"),i=n("sL7a"),s=n("nzuM"),o=n("53iN"),a=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),n=o(t),r=s(e,arguments.length>1?arguments[1]:void 0);return a(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},fefF:function(e,t,n){"use strict";var r=n("pY+i"),i=n.n(r),s=n("r4PS"),o=n.n(s),a=n("w7Q3");t.a=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.state={isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:t,...e}}addRecentSearch(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}setRecentSearches(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return"string"==typeof e?e.trim():e}));return this.state.recentSearches=o()(e,i.a).slice(0,a.d),this.state.recentSearches}}},g2Ma:function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},n0qn:function(e,t,n){"use strict";var r=n("2UYt"),i=n("o0Q1"),s=n("VJBC"),o=n("sL7a"),a=n("E71V"),l=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){var t=o(this),n=new(a(t,i("Set")))(t);return l(e,s(n.add),{that:n}),n}})},n2Ck:function(e,t,n){var r=n("Vkjb"),i=n("UZ9U"),s=n("8H0A"),o=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},"pO+W":function(e,t,n){"use strict";var r=n("2UYt"),i=n("sL7a"),s=n("nzuM"),o=n("53iN"),a=n("LYzT");r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),n=o(t),r=s(e,arguments.length>1?arguments[1]:void 0);return a(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},r4PS:function(e,t,n){var r=n("/e4I");e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?r(e,void 0,t):[]}},"ri+z":function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},s4MS:function(e,t,n){"use strict";var r=n("2UYt"),i=n("+TMR"),s=n("VJBC"),o=n("sL7a"),a=n("53iN"),l=n("LYzT"),c=i.TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),n=a(t),r=arguments.length<2,i=r?void 0:arguments[1];if(s(e),l(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw c("Reduce of empty set with no initial value");return i}})},sUWt:function(e,t){e.exports=function(e){return e!=e}},tEGv:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("U1Ws");function i(e,t){const n=e.due_date||e.dueDate,i=t.due_date||t.dueDate,s=n?Object(r.T)(n):null,o=i?Object(r.T)(i):null,a=e.expired||Date.now()>(null==s?void 0:s.getTime()),l=t.expired||Date.now()>(null==o?void 0:o.getTime());return a?1:l?-1:s?o?s-o:-1:1}},w7Q3:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a}));const r=["author","assignee","approved-by","reviewer","attention"],i={hint:"hint",operator:"operator"},s={none:"none",any:"any"},o=5,a={MERGE_REQUESTS:"merge_requests",ISSUES:"issues",ADMIN_RUNNERS:"admin/runners",GROUP_RUNNERS_ANCHOR:"runners-settings"}}}]);
//# sourceMappingURL=commons-pages.analytics.productivity_analytics-pages.dashboard.issues-pages.dashboard.merge_requests-99d386e2.11ab8c47.chunk.js.map