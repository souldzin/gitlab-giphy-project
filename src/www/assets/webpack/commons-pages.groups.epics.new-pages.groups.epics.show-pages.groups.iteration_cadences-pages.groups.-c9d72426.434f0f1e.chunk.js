(this.webpackJsonp=this.webpackJsonp||[]).push([[14],{"F+K/":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY"),o=i("9Q7u"),l=i("DwzX"),c=i("ELSb"),u=i("lHYX");function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p=Object(o.j)(u.b,["event","routerTag"]);delete p.href.default,delete p.to.default;var h=Object(r.c)(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},pill:{type:Boolean,default:!1}},p),a.a),b=n.a.extend({name:a.a,functional:!0,props:h,render:function(e,t){var i=t.props,n=t.data,a=t.children,r=Object(c.d)(i),o=r?u.a:i.tag,d={staticClass:"badge",class:[i.variant?"badge-".concat(i.variant):"badge-secondary",{"badge-pill":i.pill,active:i.active,disabled:i.disabled}],props:r?Object(l.a)(p,i):{}};return e(o,Object(s.a)(n,d),a)}}),m=i("Fcvx"),f=i("H8gz"),v=i("6IRw"),y=i.n(v);const w={components:{BBadge:b,GlIcon:f.a},inheritAttrs:!1,props:{size:{type:String,default:m.h.md,validator:e=>void 0!==m.h[e],required:!1},variant:{type:String,default:m.i.muted,validator:e=>void 0!==m.i[e],required:!1},icon:{type:String,required:!1,default:null}},computed:{hasIconOnly(){return Boolean(this.icon&&0===Object.keys(this.$slots).length)},role(){return this.hasIconOnly?"img":void 0}}};const _=y()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-badge",e._b({class:["gl-badge",e.size],attrs:{variant:e.variant,role:e.role,pill:""}},"b-badge",e.$attrs,!1),[e.icon?i("gl-icon",{staticClass:"gl-badge-icon",class:{"gl-mr-2":!e.hasIconOnly},attrs:{name:e.icon}}):e._e(),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,w,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=_},Ivjt:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY"),o=Object(r.c)({id:{type:String},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},a.t),l=n.a.extend({name:a.t,functional:!0,props:o,render:function(e,t){var i=t.props,n=t.data,a=t.children;return e("form",Object(s.a)(n,{class:{"form-inline":i.inline,"was-validated":i.validated},attrs:{id:i.id,novalidate:i.novalidate}}),a)}})},WW8A:function(e,t,i){"use strict";i("AfGZ");var n=i("Cxqz"),s=i.n(n),a=i("4pZC"),r=i.n(a),o=i("H8gz"),l=i("6oy4"),c=i.n(l),u=(i("Skdl"),i("teVv")),d=i("uY7R"),g=i("mphk"),p=i("vRHk"),h=i("t9l/"),b=i("ZYR5"),m=i("Zxcm"),f=i("KFH7"),v=i("cuRJ"),y=i("3saJ"),w=i("uSzn"),_=i("ly/8"),k=i("uw3E"),O=i("oj/M"),j=i("drCS"),S={components:{GlButton:v.a},directives:{GlTooltip:_.a},props:{buttonTitle:{type:String,required:!0},icon:{type:String,required:!0},tag:{type:String,required:!1,default:""},tagBlock:{type:String,required:!1,default:""},tagSelect:{type:String,required:!1,default:""},prepend:{type:Boolean,required:!1,default:!1},tagContent:{type:String,required:!1,default:""},cursorOffset:{type:Number,required:!1,default:0},shortcuts:{type:[String,Array],required:!1,default:function(){return[]}}},computed:{shortcutsString(){const e=Array.isArray(this.shortcuts)?this.shortcuts:[this.shortcuts];return JSON.stringify(e)}}},C=i("bPvS"),P={components:{ToolbarButton:Object(C.a)(S,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-md",attrs:{"data-md-tag":e.tag,"data-md-cursor-offset":e.cursorOffset,"data-md-select":e.tagSelect,"data-md-block":e.tagBlock,"data-md-tag-content":e.tagContent,"data-md-prepend":e.prepend,"data-md-shortcuts":e.shortcutsString,title:e.buttonTitle,"aria-label":e.buttonTitle,icon:e.icon,type:"button",category:"tertiary","data-container":"body"},on:{click:function(){return e.$emit("click")}}})}),[],!1,null,null,null).exports,GlPopover:f.a,GlButton:v.a,GlTabs:y.a,GlTab:w.a},directives:{GlTooltip:_.a},props:{previewMarkdown:{type:Boolean,required:!0},lineContent:{type:String,required:!1,default:""},canSuggest:{type:Boolean,required:!1,default:!0},showSuggestPopover:{type:Boolean,required:!1,default:!1},suggestionStartIndex:{type:Number,required:!1,default:0}},data:()=>({tag:"> ",suggestPopoverVisible:!1}),computed:{mdTable:()=>["| header | header |","| ------ | ------ |","| cell | cell |","| cell | cell |"].join("\n"),mdSuggestion(){return[["```",`suggestion:-${this.suggestionStartIndex}+0`].join(""),"{text}","```"].join("\n")},mdCollapsibleSection:()=>["<details><summary>Click to expand</summary>","{text}","</details>"].join("\n"),isMac(){var e,t;return Boolean(null===(e=window.gl)||void 0===e?void 0:null===(t=e.client)||void 0===t?void 0:t.isMac)},modifierKey(){return this.isMac?"⌘":Object(h.g)("KeyboardKey|Ctrl+")}},watch:{showSuggestPopover(){this.updateSuggestPopoverVisibility()}},mounted(){c()(document).on("markdown-preview:show.vue",this.previewMarkdownTab),c()(document).on("markdown-preview:hide.vue",this.writeMarkdownTab),this.updateSuggestPopoverVisibility()},beforeDestroy(){c()(document).off("markdown-preview:show.vue",this.previewMarkdownTab),c()(document).off("markdown-preview:hide.vue",this.writeMarkdownTab)},methods:{async updateSuggestPopoverVisibility(){await this.$nextTick(),this.suggestPopoverVisible=this.showSuggestPopover&&this.canSuggest},isValid(e){return!e||e.find(".js-vue-markdown-field").length&&c()(this.$el).closest("form")[0]===e[0]},previewMarkdownTab(e,t){e.target.blur&&e.target.blur(),this.isValid(t)&&this.$emit("preview-markdown")},writeMarkdownTab(e,t){e.target.blur&&e.target.blur(),this.isValid(t)&&this.$emit("write-markdown")},handleSuggestDismissed(){this.$emit("handleSuggestDismissed")},handleQuote(){const e=Object(O.o)();if(!e||!e.textContent)return void(this.tag="> ");this.tag="";const t=j.a.transformGFMSelection(e),i=this.$el.parentNode.querySelector("textarea");j.a.nodeToGFM(t).then((function(t){j.a.insertPastedText(i,e.textContent,j.a.quoted(t))})).catch((function(){}))}},shortcuts:{bold:Object(k.ob)(k.a),italic:Object(k.ob)(k.M),link:Object(k.ob)(k.N)},i18n:{writeTabTitle:Object(h.a)("Write"),previewTabTitle:Object(h.a)("Preview")}},x=Object(C.a)(P,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"md-header"},[i("gl-tabs",{attrs:{"content-class":"gl-display-none"},scopedSlots:e._u([e.previewMarkdown?null:{key:"tabs-end",fn:function(){return[i("div",{staticClass:"md-header-toolbar gl-ml-auto gl-pb-3 gl-justify-content-center"},[i("toolbar-button",{attrs:{tag:"**","button-title":e.sprintf(e.s__("MarkdownEditor|Add bold text (%{modifierKey}B)"),{modifierKey:e.modifierKey}),shortcuts:e.$options.shortcuts.bold,icon:"bold"}}),e._v(" "),i("toolbar-button",{attrs:{tag:"_","button-title":e.sprintf(e.s__("MarkdownEditor|Add italic text (%{modifierKey}I)"),{modifierKey:e.modifierKey}),shortcuts:e.$options.shortcuts.italic,icon:"italic"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:e.tag,"button-title":e.__("Insert a quote"),icon:"quote"},on:{click:e.handleQuote}}),e._v(" "),e.canSuggest?[i("toolbar-button",{ref:"suggestButton",staticClass:"js-suggestion-btn",attrs:{tag:e.mdSuggestion,prepend:!0,"button-title":e.__("Insert suggestion"),"cursor-offset":4,"tag-content":e.lineContent,icon:"doc-code","data-qa-selector":"suggestion_button"},on:{click:e.handleSuggestDismissed}}),e._v(" "),e.suggestPopoverVisible?i("gl-popover",{attrs:{target:e.$refs.suggestButton.$el,"css-classes":["diff-suggest-popover"],placement:"bottom",show:e.suggestPopoverVisible}},[i("strong",[e._v(e._s(e.__("New! Suggest changes directly")))]),e._v(" "),i("p",{staticClass:"mb-2"},[e._v("\n              "+e._s(e.__("Suggest code changes which can be immediately applied in one click. Try it out!"))+"\n            ")]),e._v(" "),i("gl-button",{attrs:{variant:"info",category:"primary",size:"small"},on:{click:e.handleSuggestDismissed}},[e._v("\n              "+e._s(e.__("Got it"))+"\n            ")])],1):e._e()]:e._e(),e._v(" "),i("toolbar-button",{attrs:{tag:"`","tag-block":"```","button-title":e.__("Insert code"),icon:"code"}}),e._v(" "),i("toolbar-button",{attrs:{tag:"[{text}](url)","tag-select":"url","button-title":e.sprintf(e.s__("MarkdownEditor|Add a link (%{modifierKey}K)"),{modifierKey:e.modifierKey}),shortcuts:e.$options.shortcuts.link,icon:"link"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:"- ","button-title":e.__("Add a bullet list"),icon:"list-bulleted"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:"1. ","button-title":e.__("Add a numbered list"),icon:"list-numbered"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:"- [ ] ","button-title":e.__("Add a task list"),icon:"list-task"}}),e._v(" "),i("toolbar-button",{attrs:{tag:e.mdCollapsibleSection,prepend:!0,"tag-select":"Click to expand","button-title":e.__("Add a collapsible section"),icon:"details-block"}}),e._v(" "),i("toolbar-button",{attrs:{tag:e.mdTable,prepend:!0,"button-title":e.__("Add a table"),icon:"table"}}),e._v(" "),i("toolbar-button",{staticClass:"js-zen-enter",attrs:{prepend:!0,"button-title":e.__("Go full screen"),icon:"maximize"}})],2)]},proxy:!0}],null,!0)},[i("gl-tab",{attrs:{"title-link-class":"gl-pt-3 gl-px-3 js-md-write-button",title:e.$options.i18n.writeTabTitle,active:!e.previewMarkdown,"data-testid":"write-tab"},on:{click:function(t){return e.writeMarkdownTab(t)}}}),e._v(" "),i("gl-tab",{attrs:{"title-link-class":"gl-pt-3 gl-px-3 js-md-preview-button",title:e.$options.i18n.previewTabTitle,active:e.previewMarkdown,"data-testid":"preview-tab"},on:{click:function(t){return e.previewMarkdownTab(t)}}})],1)],1)}),[],!1,null,null,null).exports,q=i("u1ru"),B=i("zLBL"),A=i("nPFI"),M={components:{GlButton:v.a,GlLink:q.a,GlLoadingIcon:B.a,GlSprintf:A.a,GlIcon:o.a},props:{markdownDocsPath:{type:String,required:!0},quickActionsDocsPath:{type:String,required:!1,default:""},canAttachFile:{type:Boolean,required:!1,default:!0}},computed:{hasQuickActionsDocsPath(){return""!==this.quickActionsDocsPath}}};function $(e){return s()(Object(p.t)(e).replace(/\\n/g,"%br").replace(/\n/g,""))}var T={components:{MarkdownHeader:x,MarkdownToolbar:Object(C.a)(M,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comment-toolbar clearfix"},[i("div",{staticClass:"toolbar-text"},[!e.hasQuickActionsDocsPath&&e.markdownDocsPath?[i("gl-link",{attrs:{href:e.markdownDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Markdown is supported"))+"\n      ")])]:e._e(),e._v(" "),e.hasQuickActionsDocsPath&&e.markdownDocsPath?[i("gl-sprintf",{attrs:{message:e.__("%{markdownDocsLinkStart}Markdown%{markdownDocsLinkEnd} and %{quickActionsDocsLinkStart}quick actions%{quickActionsDocsLinkEnd} are supported")},scopedSlots:e._u([{key:"markdownDocsLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.markdownDocsPath,target:"_blank"}},[e._v(e._s(n))])]}},{key:"quickActionsDocsLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.quickActionsDocsPath,target:"_blank"}},[e._v(e._s(n))])]}}],null,!1,1533784681)})]:e._e()],2),e._v(" "),e.canAttachFile?i("span",{staticClass:"uploading-container"},[i("span",{staticClass:"uploading-progress-container hide"},[i("gl-icon",{attrs:{name:"media"}}),e._v(" "),i("span",{staticClass:"attaching-file-message"}),e._v(" "),i("span",{staticClass:"uploading-progress"},[e._v("0%")]),e._v(" "),i("gl-loading-icon",{attrs:{size:"sm",inline:""}})],1),e._v(" "),i("span",{staticClass:"uploading-error-container hide"},[i("span",{staticClass:"uploading-error-icon"},[i("gl-icon",{attrs:{name:"media"}})],1),e._v(" "),i("span",{staticClass:"uploading-error-message"}),e._v(" "),i("gl-sprintf",{attrs:{message:e.__("%{retryButtonStart}Try again%{retryButtonEnd} or %{newFileButtonStart}attach a new file%{newFileButtonEnd}.")},scopedSlots:e._u([{key:"retryButton",fn:function(t){var n=t.content;return[i("gl-button",{staticClass:"retry-uploading-link gl-vertical-align-baseline",attrs:{variant:"link",category:"primary"}},[e._v("\n            "+e._s(n)+"\n          ")])]}},{key:"newFileButton",fn:function(t){var n=t.content;return[i("gl-button",{staticClass:"markdown-selector attach-new-file gl-vertical-align-baseline",attrs:{variant:"link",category:"primary"}},[e._v("\n            "+e._s(n)+"\n          ")])]}}],null,!1,3180960446)})],1),e._v(" "),i("gl-button",{staticClass:"markdown-selector button-attach-file gl-vertical-align-text-bottom",attrs:{icon:"media",variant:"link",category:"primary"}},[e._v("\n      "+e._s(e.__("Attach a file"))+"\n    ")]),e._v(" "),i("gl-button",{staticClass:"button-cancel-uploading-files gl-vertical-align-baseline hide",attrs:{variant:"link",category:"primary"}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1):e._e()])}),[],!1,null,null,null).exports,GlIcon:o.a,Suggestions:b.a},mixins:[Object(m.a)()],props:{textareaValue:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},isSubmitting:{type:Boolean,required:!1,default:!1},markdownPreviewPath:{type:String,required:!1,default:""},addSpacingClasses:{type:Boolean,required:!1,default:!0},quickActionsDocsPath:{type:String,required:!1,default:""},canAttachFile:{type:Boolean,required:!1,default:!0},uploadsPath:{type:String,required:!1,default:""},enableAutocomplete:{type:Boolean,required:!1,default:!0},line:{type:Object,required:!1,default:null},lines:{type:Array,required:!1,default:function(){return[]}},note:{type:Object,required:!1,default:function(){return{}}},canSuggest:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1}},data(){return{markdownPreview:"",referencedCommands:"",referencedUsers:[],hasSuggestion:!1,markdownPreviewLoading:!1,previewMarkdown:!1,suggestions:this.note.suggestions||[]}},computed:{shouldShowReferencedUsers(){return this.referencedUsers.length>=10},lineContent(){if(this.lines.length)return this.lines.map((function(e){const{rich_text:t,text:i}=e;return i||$(t)})).join("\\n");if(this.line){const{rich_text:e,text:t}=this.line;return t||$(e)}return""},lineNumber(){let e;if(this.line){const{new_line:t,old_line:i}=this.line;e=t||i}return e},lineType(){return this.line?this.line.type:""},addMultipleToDiscussionWarning(){return Object(h.h)(Object(h.a)("You are about to add %{usersTag} people to the discussion. They will all receive a notification."),{usersTag:`<strong><span class="js-referenced-users-count">${this.referencedUsers.length}</span></strong>`},!1)},suggestionsStartIndex(){return Math.max(this.lines.length-1,0)}},watch:{isSubmitting(e){if(!e||!this.$refs["markdown-preview"].querySelectorAll)return;const t=this.$refs["markdown-preview"].querySelectorAll("video, audio");t&&t.forEach((function(e){e.pause()}))},textareaValue:{immediate:!0,handler(e,t){const i=/@all([^\w._-]|$)/,n=i.test(e),s=i.test(t),a=s&&!n;!s&&n?this.debouncedFetchMarkdown():a&&(this.referencedUsers=[])}}},mounted(){return new d.a(c()(this.$refs["gl-form"]),{emojis:this.enableAutocomplete,members:this.enableAutocomplete,issues:this.enableAutocomplete,mergeRequests:this.enableAutocomplete,epics:this.enableAutocomplete,milestones:this.enableAutocomplete,labels:this.enableAutocomplete,snippets:this.enableAutocomplete,vulnerabilities:this.enableAutocomplete,contacts:this.enableAutocomplete&&this.glFeatures.contactsAutocomplete},!0)},beforeDestroy(){const e=c()(this.$refs["gl-form"]).data("glForm");e&&e.destroy()},methods:{showPreviewTab(){var e=this;this.previewMarkdown||(this.previewMarkdown=!0,this.textareaValue?(this.markdownPreviewLoading=!0,this.markdownPreview=Object(h.a)("Loading…"),this.fetchMarkdown().then((function(t){return e.renderMarkdown(t)})).catch((function(){return Object(u.f)({message:Object(h.a)("Error loading markdown preview")})}))):this.renderMarkdown())},showWriteTab(){this.markdownPreview="",this.previewMarkdown=!1},fetchMarkdown(){var e=this;return g.a.post(this.markdownPreviewPath,{text:this.textareaValue}).then((function(t){let{data:i}=t;const{references:n}=i;var s;n&&(e.referencedCommands=n.commands,e.referencedUsers=n.users,e.hasSuggestion=(null===(s=n.suggestions)||void 0===s?void 0:s.length)>0,e.suggestions=n.suggestions);return i}))},debouncedFetchMarkdown:r()((function(){return this.fetchMarkdown()}),400),renderMarkdown(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.markdownPreviewLoading=!1,this.markdownPreview=t.body||Object(h.a)("Nothing to preview."),this.$nextTick().then((function(){return c()(e.$refs["markdown-preview"]).renderGFM()})).catch((function(){return Object(u.f)({message:Object(h.a)("Error rendering Markdown preview")})}))}}},D=Object(C.a)(T,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"gl-form",staticClass:"js-vue-markdown-field md-area position-relative gfm-form",class:{"gl-mt-3 gl-mb-3":e.addSpacingClasses},attrs:{"data-uploads-path":e.uploadsPath}},[i("markdown-header",{attrs:{"preview-markdown":e.previewMarkdown,"line-content":e.lineContent,"can-suggest":e.canSuggest,"show-suggest-popover":e.showSuggestPopover,"suggestion-start-index":e.suggestionsStartIndex,"data-testid":"markdownHeader"},on:{"preview-markdown":e.showPreviewTab,"write-markdown":e.showWriteTab,handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],staticClass:"md-write-holder"},[i("div",{staticClass:"zen-backdrop"},[e._t("textarea"),e._v(" "),i("a",{staticClass:"zen-control zen-control-leave js-zen-leave gl-text-gray-500",attrs:{href:"#","aria-label":e.__("Leave zen mode")}},[i("gl-icon",{attrs:{size:16,name:"minimize"}})],1),e._v(" "),i("markdown-toolbar",{attrs:{"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"can-attach-file":e.canAttachFile}})],2)]),e._v(" "),e.hasSuggestion?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.previewMarkdown,expression:"previewMarkdown"}],ref:"markdown-preview",staticClass:"js-vue-md-preview md-preview-holder"},[e.hasSuggestion?i("suggestions",{attrs:{"note-html":e.markdownPreview,"from-line":e.lineNumber,"from-content":e.lineContent,"line-type":e.lineType,disabled:!0,suggestions:e.suggestions,"help-page-path":e.helpPagePath}}):e._e()],1)]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.previewMarkdown,expression:"previewMarkdown"}],ref:"markdown-preview",staticClass:"js-vue-md-preview md md-preview-holder",domProps:{innerHTML:e._s(e.markdownPreview)}})],e._v(" "),e.referencedCommands&&e.previewMarkdown&&!e.markdownPreviewLoading?i("div",{staticClass:"referenced-commands",domProps:{innerHTML:e._s(e.referencedCommands)}}):e._e(),e._v(" "),e.shouldShowReferencedUsers?i("div",{staticClass:"referenced-users"},[i("gl-icon",{attrs:{name:"warning-solid"}}),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.addMultipleToDiscussionWarning)}})],1):e._e()],2)}),[],!1,null,null,null);t.a=D.exports},ZYR5:function(e,t,i){"use strict";var n=i("9LGn"),s=i("q+nE"),a=i("teVv"),r=i("t9l/");i("AfGZ");function o(e){return e?e.replace(/^( |\+|-)/,""):e}function l(e){return e.filter((function(e){return"match"!==e.type})).map((function(e){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,text:o(e.text),rich_text:o(e.rich_text)}}(e)}))}var c=i("F+K/"),u=i("H8gz"),d=i("cuRJ"),g=i("zLBL"),p=i("ly/8"),h=i("oj/M"),b=i("OkMp"),m=i("m6pR"),f=i("oSqs"),v={components:{GlDropdown:b.a,GlDropdownForm:m.a,GlFormTextarea:f.a,GlButton:d.a},props:{disabled:{type:Boolean,required:!1,default:!1},defaultCommitMessage:{type:String,required:!0},batchSuggestionsCount:{type:Number,required:!1,default:0}},data:()=>({message:null}),computed:{dropdownText(){return this.batchSuggestionsCount<=1?Object(r.a)("Apply suggestion"):Object(r.f)("Apply %d suggestion","Apply %d suggestions",this.batchSuggestionsCount)}},methods:{onApply(){this.$emit("apply",this.message)}}},y=i("bPvS"),w=Object(y.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{attrs:{text:e.dropdownText,disabled:e.disabled,boundary:"window",right:"",lazy:"","menu-class":"gl-w-full!","data-qa-selector":"apply_suggestion_dropdown"},on:{shown:function(t){return e.$refs.commitMessage.$el.focus()}}},[i("gl-dropdown-form",{staticClass:"gl-px-4! gl-m-0!"},[i("label",{attrs:{for:"commit-message"}},[e._v(e._s(e.__("Commit message")))]),e._v(" "),i("gl-form-textarea",{ref:"commitMessage",attrs:{id:"commit-message",placeholder:e.defaultCommitMessage,"submit-on-enter":"","data-qa-selector":"commit_message_field"},on:{submit:e.onApply},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),i("gl-button",{staticClass:"gl-w-auto! gl-mt-3 gl-text-center! gl-hover-text-white! gl-transition-medium! float-right",attrs:{category:"primary",variant:"confirm","data-qa-selector":"commit_with_custom_message_button"},on:{click:e.onApply}},[e._v("\n      "+e._s(e.__("Apply"))+"\n    ")])],1)],1)}),[],!1,null,null,null).exports,_={components:{GlBadge:c.a,GlIcon:u.a,GlButton:d.a,GlLoadingIcon:g.a,ApplySuggestion:w},directives:{"gl-tooltip":p.a},props:{batchSuggestionsCount:{type:Number,required:!1,default:0},canApply:{type:Boolean,required:!1,default:!1},isApplied:{type:Boolean,required:!0,default:!1},isBatched:{type:Boolean,required:!1,default:!1},isApplyingBatch:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!1,default:null},inapplicableReason:{type:String,required:!1,default:null},suggestionsCount:{type:Number,required:!1,default:0}},data:()=>({isApplyingSingle:!1}),computed:{isApplying(){return this.isApplyingSingle||this.isApplyingBatch},tooltipMessage(){return this.canApply?this.batchSuggestionsCount>1?Object(r.a)("This also resolves all related threads"):Object(r.a)("This also resolves this thread"):this.inapplicableReason},isDisableButton(){return this.isApplying||!this.canApply},applyingSuggestionsMessage(){return this.isApplyingSingle||this.batchSuggestionsCount<2?Object(r.a)("Applying suggestion..."):Object(r.a)("Applying suggestions...")},isLoggedIn:()=>Object(h.z)(),showApplySuggestion(){return!!this.isLoggedIn&&!(this.batchSuggestionsCount>=1&&!this.isBatched)}},methods:{apply(e){this.batchSuggestionsCount>1?this.applySuggestionBatch(e):this.applySuggestion(e)},applySuggestion(e){this.canApply&&(this.isApplyingSingle=!0,this.$emit("apply",this.applySuggestionCallback,e))},applySuggestionCallback(){this.isApplyingSingle=!1},applySuggestionBatch(e){this.canApply&&this.$emit("applyBatch",e)},addSuggestionToBatch(){this.$emit("addToBatch")},removeSuggestionFromBatch(){this.$emit("removeFromBatch")}}},k=Object(y.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"md-suggestion-header border-bottom-0 mt-2"},[i("div",{staticClass:"js-suggestion-diff-header font-weight-bold"},[e._v("\n    "+e._s(e.__("Suggested change"))+"\n    "),e.helpPagePath?i("a",{staticClass:"js-help-btn",attrs:{href:e.helpPagePath,"aria-label":e.__("Help")}},[i("gl-icon",{attrs:{name:"question-o","css-classes":"link-highlight"}})],1):e._e()]),e._v(" "),e.isApplied?i("gl-badge",{attrs:{variant:"success","data-qa-selector":"applied_badge"}},[e._v("\n    "+e._s(e.__("Applied"))+"\n  ")]):e.isApplying?i("div",{staticClass:"d-flex align-items-center text-secondary",attrs:{"data-qa-selector":"applying_badge"}},[i("gl-loading-icon",{staticClass:"d-flex-center mr-2",attrs:{size:"sm"}}),e._v(" "),i("span",[e._v(e._s(e.applyingSuggestionsMessage))])],1):e.isLoggedIn?i("div",{staticClass:"d-flex align-items-center"},[e.isBatched?i("div",[i("gl-button",{staticClass:"btn-inverted js-remove-from-batch-btn btn-grouped",attrs:{disabled:e.isApplying},on:{click:e.removeSuggestionFromBatch}},[e._v("\n        "+e._s(e.__("Remove from batch"))+"\n      ")])],1):!e.isDisableButton&&e.suggestionsCount>1?i("div",[i("gl-button",{staticClass:"btn-inverted js-add-to-batch-btn btn-grouped",attrs:{"data-qa-selector":"add_suggestion_batch_button",disabled:e.isDisableButton},on:{click:e.addSuggestionToBatch}},[e._v("\n        "+e._s(e.__("Add suggestion to batch"))+"\n      ")])],1):e._e(),e._v(" "),e.showApplySuggestion?i("apply-suggestion",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:e.tooltipMessage,expression:"tooltipMessage",modifiers:{viewport:!0}}],staticClass:"gl-ml-3",attrs:{disabled:e.isDisableButton,"default-commit-message":e.defaultCommitMessage,"batch-suggestions-count":e.batchSuggestionsCount},on:{apply:e.apply}}):e._e()],1):e._e()],1)}),[],!1,null,null,null).exports,O={name:"SuggestionDiffRow",directives:{SafeHtml:n.a},props:{line:{type:Object,required:!0}},computed:{displayAsCell(){return!(this.line.rich_text||this.line.text)},lineType(){return this.line.type}}},j={components:{SuggestionDiffHeader:k,SuggestionDiffRow:Object(y.a)(O,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"line_holder",class:e.lineType},[i("td",{staticClass:"diff-line-num old_line border-top-0 border-bottom-0",class:e.lineType},[e._v("\n    "+e._s(e.line.old_line)+"\n  ")]),e._v(" "),i("td",{staticClass:"diff-line-num new_line border-top-0 border-bottom-0",class:e.lineType},[e._v("\n    "+e._s(e.line.new_line)+"\n  ")]),e._v(" "),i("td",{staticClass:"line_content",class:[{"d-table-cell":e.displayAsCell},e.lineType],attrs:{"data-testid":"suggestion-diff-content"}},[e.line.rich_text?i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.line.rich_text,expression:"line.rich_text"}],staticClass:"line"}):e.line.text?i("span",{staticClass:"line"},[e._v(e._s(e.line.text))]):i("span",{staticClass:"line"})])])}),[],!1,null,null,null).exports},props:{suggestion:{type:Object,required:!0},batchSuggestionsInfo:{type:Array,required:!1,default:function(){return[]}},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!0},suggestionsCount:{type:Number,required:!1,default:0}},computed:{batchSuggestionsCount(){return this.batchSuggestionsInfo.length},isBatched(){var e=this;return Boolean(this.batchSuggestionsInfo.find((function(t){let{suggestionId:i}=t;return i===e.suggestion.id})))},lines(){return l(this.suggestion.diff_lines)}},methods:{applySuggestion(e,t){this.$emit("apply",{suggestionId:this.suggestion.id,callback:e,message:t})},applySuggestionBatch(e){this.$emit("applyBatch",e)},addSuggestionToBatch(){this.$emit("addToBatch",this.suggestion.id)},removeSuggestionFromBatch(){this.$emit("removeFromBatch",this.suggestion.id)}}},S=Object(y.a)(j,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"md-suggestion"},[i("suggestion-diff-header",{staticClass:"js-suggestion-diff-header",attrs:{"suggestions-count":e.suggestionsCount,"can-apply":e.suggestion.appliable&&e.suggestion.current_user.can_apply&&!e.disabled,"is-applied":e.suggestion.applied,"is-batched":e.isBatched,"is-applying-batch":e.suggestion.is_applying_batch,"batch-suggestions-count":e.batchSuggestionsCount,"help-page-path":e.helpPagePath,"default-commit-message":e.defaultCommitMessage,"inapplicable-reason":e.suggestion.inapplicable_reason},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}),e._v(" "),i("table",{staticClass:"mb-3 md-suggestion-diff js-syntax-highlight code"},[i("tbody",e._l(e.lines,(function(e,t){return i("suggestion-diff-row",{key:t+"-"+e.text,attrs:{line:e}})})),1)])],1)}),[],!1,null,null,null).exports,C={directives:{SafeHtml:n.a},props:{lineType:{type:String,required:!1,default:""},suggestions:{type:Array,required:!1,default:function(){return[]}},batchSuggestionsInfo:{type:Array,required:!1,default:function(){return[]}},noteHtml:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!0},suggestionsCount:{type:Number,required:!1,default:0}},data:()=>({isRendered:!1}),watch:{suggestions(){this.reset()},noteHtml(){this.reset()}},mounted(){this.renderSuggestions()},beforeDestroy(){this.suggestionsWatch&&this.suggestionsWatch(),this.defaultCommitMessageWatch&&this.defaultCommitMessageWatch()},methods:{renderSuggestions(){var e=this;if(!this.noteHtml)return;const{container:t}=this.$refs,i=t.querySelectorAll(".js-render-suggestion");"old"===this.lineType&&Object(a.f)({message:Object(r.a)("Unable to apply suggestions to a deleted line."),parent:this.$el}),i.forEach((function(t,i){const n=t.parentElement;e.generateDiff(i).$mount(n)})),this.isRendered=!0},generateDiff(e){var t=this;const{suggestions:i,disabled:n,batchSuggestionsInfo:a,helpPagePath:r,defaultCommitMessage:o,suggestionsCount:l}=this,c=i&&i[e]?i[e]:{},u=new(s.default.extend(S))({propsData:{disabled:n,suggestion:c,batchSuggestionsInfo:a,helpPagePath:r,defaultCommitMessage:o,suggestionsCount:l}});return this.suggestionsWatch=this.$watch("suggestionsCount",(function(){u.suggestionsCount=t.suggestionsCount})),this.defaultCommitMessageWatch=this.$watch("defaultCommitMessage",(function(){u.defaultCommitMessage=t.defaultCommitMessage})),u.$on("apply",(function(e){let{suggestionId:i,callback:n,message:s}=e;t.$emit("apply",{suggestionId:i,callback:n,flashContainer:t.$el,message:s})})),u.$on("applyBatch",(function(e){t.$emit("applyBatch",{message:e,flashContainer:t.$el})})),u.$on("addToBatch",(function(e){t.$emit("addToBatch",e)})),u.$on("removeFromBatch",(function(e){t.$emit("removeFromBatch",e)})),u},reset(){var e=this;this.$refs.container.innerHTML=this.noteHtml,this.isRendered=!1,this.renderSuggestions(),this.$nextTick((function(){return e.renderSuggestions()}))}}},P=Object(y.a)(C,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"flash-container js-suggestions-flash"}),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.isRendered,expression:"isRendered"},{name:"safe-html",rawName:"v-safe-html",value:this.noteHtml,expression:"noteHtml"}],ref:"container",staticClass:"md suggestions"})])}),[],!1,null,null,null);t.a=P.exports},Zxcm:function(e,t,i){"use strict";t.a=function(){return{inject:{glFeatures:{from:"glFeatures",default:function(){return{}}}}}}},"ly/8":function(e,t,i){"use strict";i.d(t,"a",(function(){return A}));var n=i("jyii"),s=i("hRgn"),a=i("ZVxY"),r=i("3XSL"),o=i("9CRu"),l=i("gCUY"),c=i("x/db"),u=i("G55H"),d=i("8Vyw"),g=i("9Q7u"),p=i("zNfq");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f="__BV_Tooltip__",v={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},y=/^html$/i,w=/^noninteractive$/i,_=/^nofade$/i,k=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,O=/^(window|viewport|scrollParent)$/i,j=/^d\d+$/i,S=/^ds\d+$/i,C=/^dh\d+$/i,P=/^o-?\d+$/i,x=/^v-.+$/i,q=/\s+/,B=function(e,t,i){if(c.i){var h=function(e,t){var i={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:Object(l.b)(n.mb,"delay",50),boundary:String(Object(l.b)(n.mb,"boundary","scrollParent")),boundaryPadding:Object(d.c)(Object(l.b)(n.mb,"boundaryPadding",5),0),variant:Object(l.b)(n.mb,"variant"),customClass:Object(l.b)(n.mb,"customClass")};if(Object(u.m)(e.value)||Object(u.g)(e.value)?i.title=e.value:Object(u.e)(e.value)?i.title=e.value:Object(u.j)(e.value)&&(i=b(b({},i),e.value)),Object(u.n)(i.title)){var s=t.data||{};i.title=s.attrs&&!Object(u.o)(s.attrs.title)?s.attrs.title:void 0}Object(u.j)(i.delay)||(i.delay={show:Object(d.c)(i.delay,0),hide:Object(d.c)(i.delay,0)}),e.arg&&(i.container="#".concat(e.arg)),Object(g.h)(e.modifiers).forEach((function(e){if(y.test(e))i.html=!0;else if(w.test(e))i.interactive=!1;else if(_.test(e))i.animation=!1;else if(k.test(e))i.placement=e;else if(O.test(e))e="scrollparent"===e?"scrollParent":e,i.boundary=e;else if(j.test(e)){var t=Object(d.c)(e.slice(1),0);i.delay.show=t,i.delay.hide=t}else S.test(e)?i.delay.show=Object(d.c)(e.slice(2),0):C.test(e)?i.delay.hide=Object(d.c)(e.slice(2),0):P.test(e)?i.offset=Object(d.c)(e.slice(1),0):x.test(e)&&(i.variant=e.slice(2)||null)}));var r={};return Object(o.b)(i.trigger||"").filter(a.a).join(" ").trim().toLowerCase().split(q).forEach((function(e){v[e]&&(r[e]=!0)})),Object(g.h)(e.modifiers).forEach((function(e){e=e.toLowerCase(),v[e]&&(r[e]=!0)})),i.trigger=Object(g.h)(r).join(" "),"blur"===i.trigger&&(i.trigger="focus"),i.trigger||(i.trigger="hover focus"),i}(t,i);if(!e[f]){var m=i.context;e[f]=new p.a({parent:m,_scopeId:Object(s.a)(m,void 0)}),e[f].__bv_prev_data__={},e[f].$on("show",(function(){Object(u.e)(h.title)&&e[f].updateData({title:h.title(e)})}))}var B={title:h.title,triggers:h.trigger,placement:h.placement,fallbackPlacement:h.fallbackPlacement,variant:h.variant,customClass:h.customClass,container:h.container,boundary:h.boundary,delay:h.delay,offset:h.offset,noFade:!h.animation,id:h.id,interactive:h.interactive,disabled:h.disabled,html:h.html},A=e[f].__bv_prev_data__;if(e[f].__bv_prev_data__=B,!Object(r.a)(B,A)){var M={target:e};Object(g.h)(B).forEach((function(t){B[t]!==A[t]&&(M[t]="title"===t&&Object(u.e)(B[t])?B[t](e):B[t])})),e[f].updateData(M)}}},A={bind:function(e,t,i){B(e,t,i)},componentUpdated:function(e,t,i){i.context.$nextTick((function(){B(e,t,i)}))},unbind:function(e){!function(e){e[f]&&(e[f].$destroy(),e[f]=null),delete e[f]}(e)}}},m6pR:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),a=i("jyii"),r=i("gCUY"),o=i("Ivjt");function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d=n.a.extend({name:a.o,functional:!0,props:Object(r.c)(c(c({},o.b),{},{disabled:{type:Boolean,default:!1},formClass:{type:[String,Object,Array]}}),a.o),render:function(e,t){var i=t.props,n=t.data,a=t.children,r=n.attrs||{},l=n.on||{};return n.attrs={},n.on={},e("li",Object(s.a)(n,{attrs:{role:"presentation"}}),[e(o.a,{ref:"form",staticClass:"b-dropdown-form",class:[i.formClass,{disabled:i.disabled}],props:i,attrs:c(c({},r),{},{disabled:i.disabled,tabindex:i.disabled?null:"-1"}),on:l},a)])}}),g=i("6IRw");const p={components:{BDropdownForm:d},inheritAttrs:!1};const h=i.n(g)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-form",this._g(this._b({attrs:{"form-class":"gl-p-0"}},"b-dropdown-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},oSqs:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("jyii"),a=i("gCUY"),r=i("qx9o"),o=i("G55H"),l=i("ST6S"),c=i("8Vyw"),u=i("KpC0"),d=i("lRgI"),g=i("YxAH"),p=i("p+a6"),h=i("Rd/K"),b=i("HJOD"),m=i("1pIC"),f=i("qDIy"),v=i("PrCM"),y=i("pkvD"),w=i("3XSL"),_=i("9Q7u");function k(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O="__bv__visibility_observer",j=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.callback=i.callback,this.margin=i.margin||0,this.once=i.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver(n)}var t,i,n;return t=e,(i=[{key:"createObserver",value:function(e){var t=this;if(this.observer&&this.stop(),!this.doneOnce&&Object(o.e)(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(e){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}e.context.$nextTick((function(){Object(r.B)((function(){t.observer&&t.observer.observe(t.el)}))}))}}},{key:"handler",value:function(e){var t=e?e[0]:{},i=Boolean(t.isIntersecting||t.intersectionRatio>0);i!==this.visible&&(this.visible=i,this.callback(i),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}}])&&k(t.prototype,i),n&&k(t,n),e}(),S=function(e){var t=e[O];t&&t.stop&&t.stop(),delete e[O]},C=function(e,t,i){var n=t.value,s=t.modifiers,a={margin:"0px",once:!1,callback:n};Object(_.h)(s).forEach((function(e){y.c.test(e)?a.margin="".concat(e,"px"):"once"===e.toLowerCase()&&(a.once=!0)})),S(e),e[O]=new j(e,a,i),e[O]._prevModifiers=Object(_.b)(s)},P={bind:C,componentUpdated:function(e,t,i){var n=t.value,s=t.oldValue,a=t.modifiers;a=Object(_.b)(a),!e||n===s&&e[O]&&Object(w.a)(a,e[O]._prevModifiers)||C(e,{value:n,modifiers:a},i)},unbind:function(e){S(e)}};function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){B(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var A=n.a.extend({name:s.G,directives:{"b-visible":P},mixins:[v.a,m.a,f.a,u.a,g.a,p.a,h.a,d.a,b.a],props:Object(a.c)(q(q(q(q(q({},u.b),g.b),p.b),h.b),{},{rows:{type:[Number,String],default:2},maxRows:{type:[Number,String]},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1},noAutoShrink:{type:Boolean,default:!1}}),s.G),data:function(){return{heightInPx:null}},computed:{computedStyle:function(){var e={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(e.height=this.heightInPx,e.overflowY="scroll"),e},computedMinRows:function(){return Object(l.d)(Object(c.c)(this.rows,2),2)},computedMaxRows:function(){return Object(l.d)(this.computedMinRows,Object(c.c)(this.maxRows,0))},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null},computedAttrs:function(){var e=this.disabled,t=this.required;return{id:this.safeId(),name:this.name||null,form:this.form||null,disabled:e,placeholder:this.placeholder||null,required:t,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return q(q({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{localValue:function(){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(e){e&&this.$nextTick(this.setHeight)},setHeight:function(){var e=this;this.$nextTick((function(){Object(r.B)((function(){e.heightInPx=e.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!Object(o.f)(this.computedRows))return null;var e=this.$el;if(!Object(r.u)(e))return null;var t=Object(r.k)(e),i=Object(c.b)(t.lineHeight,1),n=Object(c.b)(t.borderTopWidth,0)+Object(c.b)(t.borderBottomWidth,0),s=Object(c.b)(t.paddingTop,0)+Object(c.b)(t.paddingBottom,0),a=n+s,u=i*this.computedMinRows+a,d=Object(r.m)(e,"height")||t.height;Object(r.F)(e,"height","auto");var g=e.scrollHeight;Object(r.F)(e,"height",d);var p=Object(l.d)((g-s)/i,2),h=Object(l.e)(Object(l.d)(p,this.computedMinRows),this.computedMaxRows),b=Object(l.d)(Object(l.b)(h*i+a),u);return this.noAutoShrink&&Object(c.b)(d,0)>b?d:"".concat(b,"px")}},render:function(e){return e("textarea",{ref:"input",class:this.computedClass,style:this.computedStyle,directives:[{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners})}}),M=i("6IRw");const $={prop:"value",event:"input"};const T={components:{BFormTextarea:A},inheritAttrs:!1,model:$,props:{value:{type:String,required:!1,default:""},noResize:{type:Boolean,required:!1,default:!0},submitOnEnter:{type:Boolean,required:!1,default:!1}},computed:{listeners(){var e=this;return{...this.$listeners,input:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit("update",...i)},update:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit($.event,...i)}}},keypressEvent(){return this.submitOnEnter?"keyup":null}},methods:{handleKeyPress(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)&&this.$emit("submit")}}};const D=i.n(M)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-form-textarea",e._g(e._b({staticClass:"gl-form-input gl-form-textarea",attrs:{"no-resize":e.noResize,value:e.value},nativeOn:e._d({},[e.keypressEvent,function(t){return e.handleKeyPress(t)}])},"b-form-textarea",e.$attrs,!1),e.listeners))},staticRenderFns:[]},void 0,T,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=D}}]);
//# sourceMappingURL=commons-pages.groups.epics.new-pages.groups.epics.show-pages.groups.iteration_cadences-pages.groups.-c9d72426.434f0f1e.chunk.js.map